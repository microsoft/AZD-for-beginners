# AZD åŸºç¤ - èªè­˜ Azure Developer CLI

# AZD åŸºç¤ - æ ¸å¿ƒæ¦‚å¿µèˆ‡åŸºæœ¬åŸç†

**ç« ç¯€å°èˆªï¼š**
- **ğŸ“š èª²ç¨‹ä¸»é **ï¼š[AZD åˆå­¸è€…æŒ‡å—](../../README.md)
- **ğŸ“– æœ¬ç« å…§å®¹**ï¼šç¬¬ 1 ç«  - åŸºç¤èˆ‡å¿«é€Ÿå…¥é–€
- **â¬…ï¸ ä¸Šä¸€ç« **ï¼š[èª²ç¨‹æ¦‚è¦½](../../README.md#-chapter-1-foundation--quick-start)
- **â¡ï¸ ä¸‹ä¸€ç« **ï¼š[å®‰è£èˆ‡è¨­å®š](installation.md)
- **ğŸš€ ä¸‹ä¸€ç« ç¯€**ï¼š[ç¬¬ 2 ç« ï¼šAI å„ªå…ˆé–‹ç™¼](../microsoft-foundry/microsoft-foundry-integration.md)

## ç°¡ä»‹

æœ¬èª²ç¨‹å°‡ä»‹ç´¹ Azure Developer CLI (azd)ï¼Œé€™æ˜¯ä¸€å€‹å¼·å¤§çš„å‘½ä»¤åˆ—å·¥å…·ï¼Œèƒ½åŠ é€Ÿå¾æœ¬åœ°é–‹ç™¼åˆ° Azure éƒ¨ç½²çš„éç¨‹ã€‚ä½ å°‡å­¸ç¿’åŸºæœ¬æ¦‚å¿µã€æ ¸å¿ƒåŠŸèƒ½ï¼Œä¸¦äº†è§£ azd å¦‚ä½•ç°¡åŒ–é›²åŸç”Ÿæ‡‰ç”¨ç¨‹å¼çš„éƒ¨ç½²ã€‚

## å­¸ç¿’ç›®æ¨™

å®Œæˆæœ¬èª²ç¨‹å¾Œï¼Œä½ å°‡èƒ½å¤ ï¼š
- ç†è§£ Azure Developer CLI çš„ç”¨é€”åŠä¸»è¦ç›®çš„
- å­¸ç¿’æ¨¡æ¿ã€ç’°å¢ƒå’Œæœå‹™çš„æ ¸å¿ƒæ¦‚å¿µ
- æ¢ç´¢æ¨¡æ¿é©…å‹•é–‹ç™¼åŠåŸºç¤æ¶æ§‹å³ä»£ç¢¼çš„ä¸»è¦åŠŸèƒ½
- ç†è§£ azd å°ˆæ¡ˆçµæ§‹åŠå·¥ä½œæµç¨‹
- ç‚ºä½ çš„é–‹ç™¼ç’°å¢ƒå®‰è£åŠé…ç½® azd åšå¥½æº–å‚™

## å­¸ç¿’æˆæœ

å®Œæˆæœ¬èª²ç¨‹å¾Œï¼Œä½ å°‡èƒ½å¤ ï¼š
- è§£é‡‹ azd åœ¨ç¾ä»£é›²ç«¯é–‹ç™¼å·¥ä½œæµç¨‹ä¸­çš„è§’è‰²
- è­˜åˆ¥ azd å°ˆæ¡ˆçµæ§‹çš„çµ„æˆéƒ¨åˆ†
- æè¿°æ¨¡æ¿ã€ç’°å¢ƒå’Œæœå‹™å¦‚ä½•å”åŒå·¥ä½œ
- ç†è§£ä½¿ç”¨ azd çš„åŸºç¤æ¶æ§‹å³ä»£ç¢¼çš„å¥½è™•
- èªè­˜ä¸åŒçš„ azd å‘½ä»¤åŠå…¶ç”¨é€”

## ä»€éº¼æ˜¯ Azure Developer CLI (azd)?

Azure Developer CLI (azd) æ˜¯ä¸€å€‹å‘½ä»¤åˆ—å·¥å…·ï¼Œæ—¨åœ¨åŠ é€Ÿå¾æœ¬åœ°é–‹ç™¼åˆ° Azure éƒ¨ç½²çš„éç¨‹ã€‚å®ƒç°¡åŒ–äº†åœ¨ Azure ä¸Šæ§‹å»ºã€éƒ¨ç½²å’Œç®¡ç†é›²åŸç”Ÿæ‡‰ç”¨ç¨‹å¼çš„æµç¨‹ã€‚

### ğŸ¯ ç‚ºä»€éº¼ä½¿ç”¨ AZDï¼Ÿå¯¦éš›æ¡ˆä¾‹æ¯”è¼ƒ

ä»¥ä¸‹æ˜¯éƒ¨ç½²ä¸€å€‹ç°¡å–®çš„ç¶²é æ‡‰ç”¨ç¨‹å¼åŠè³‡æ–™åº«çš„æ¯”è¼ƒï¼š

#### âŒ æ²’æœ‰ AZDï¼šæ‰‹å‹• Azure éƒ¨ç½²ï¼ˆ30 åˆ†é˜ä»¥ä¸Šï¼‰

```bash
# Step 1: Create resource group
az group create --name myapp-rg --location eastus

# Step 2: Create App Service Plan
az appservice plan create --name myapp-plan \
  --resource-group myapp-rg \
  --sku B1 --is-linux

# Step 3: Create Web App
az webapp create --name myapp-web-unique123 \
  --resource-group myapp-rg \
  --plan myapp-plan \
  --runtime "NODE:18-lts"

# Step 4: Create Cosmos DB account (10-15 minutes)
az cosmosdb create --name myapp-cosmos-unique123 \
  --resource-group myapp-rg \
  --kind MongoDB

# Step 5: Create database
az cosmosdb mongodb database create \
  --account-name myapp-cosmos-unique123 \
  --resource-group myapp-rg \
  --name tododb

# Step 6: Create collection
az cosmosdb mongodb collection create \
  --account-name myapp-cosmos-unique123 \
  --resource-group myapp-rg \
  --database-name tododb \
  --name todos

# Step 7: Get connection string
CONN_STR=$(az cosmosdb keys list \
  --name myapp-cosmos-unique123 \
  --resource-group myapp-rg \
  --type connection-strings \
  --query "connectionStrings[0].connectionString" -o tsv)

# Step 8: Configure app settings
az webapp config appsettings set \
  --name myapp-web-unique123 \
  --resource-group myapp-rg \
  --settings MONGODB_URI="$CONN_STR"

# Step 9: Enable logging
az webapp log config --name myapp-web-unique123 \
  --resource-group myapp-rg \
  --application-logging filesystem \
  --detailed-error-messages true

# Step 10: Set up Application Insights
az monitor app-insights component create \
  --app myapp-insights \
  --location eastus \
  --resource-group myapp-rg

# Step 11: Link App Insights to Web App
INSTRUMENTATION_KEY=$(az monitor app-insights component show \
  --app myapp-insights \
  --resource-group myapp-rg \
  --query "instrumentationKey" -o tsv)

az webapp config appsettings set \
  --name myapp-web-unique123 \
  --resource-group myapp-rg \
  --settings APPINSIGHTS_INSTRUMENTATIONKEY="$INSTRUMENTATION_KEY"

# Step 12: Build application locally
npm install
npm run build

# Step 13: Create deployment package
zip -r app.zip . -x "*.git*" "node_modules/*"

# Step 14: Deploy application
az webapp deployment source config-zip \
  --resource-group myapp-rg \
  --name myapp-web-unique123 \
  --src app.zip

# Step 15: Wait and pray it works ğŸ™
# (No automated validation, manual testing required)
```

**å•é¡Œï¼š**
- âŒ éœ€è¦è¨˜ä½ä¸¦åŸ·è¡Œè¶…é 15 æ¢å‘½ä»¤
- âŒ æ‰‹å‹•æ“ä½œéœ€æ™‚ 30-45 åˆ†é˜
- âŒ å®¹æ˜“å‡ºéŒ¯ï¼ˆæ‰“å­—éŒ¯èª¤ã€åƒæ•¸éŒ¯èª¤ï¼‰
- âŒ é€£æ¥å­—ä¸²æš´éœ²æ–¼çµ‚ç«¯æ©Ÿæ­·å²è¨˜éŒ„ä¸­
- âŒ å¦‚æœå‡ºéŒ¯ï¼Œç„¡æ³•è‡ªå‹•å›æ»¾
- âŒ åœ˜éšŠæˆå“¡é›£ä»¥è¤‡è£½æµç¨‹
- âŒ æ¯æ¬¡éƒ½ä¸åŒï¼ˆä¸å¯é‡ç¾ï¼‰

#### âœ… ä½¿ç”¨ AZDï¼šè‡ªå‹•åŒ–éƒ¨ç½²ï¼ˆ5 æ¢å‘½ä»¤ï¼Œ10-15 åˆ†é˜ï¼‰

```bash
# Step 1: Initialize from template
azd init --template todo-nodejs-mongo

# Step 2: Authenticate
azd auth login

# Step 3: Create environment
azd env new dev

# Step 4: Preview changes (optional but recommended)
azd provision --preview

# Step 5: Deploy everything
azd up

# âœ¨ Done! Everything is deployed, configured, and monitored
```

**å¥½è™•ï¼š**
- âœ… **5 æ¢å‘½ä»¤** vs. 15+ æ‰‹å‹•æ­¥é©Ÿ
- âœ… **10-15 åˆ†é˜** ç¸½æ™‚é–“ï¼ˆä¸»è¦ç­‰å¾… Azureï¼‰
- âœ… **é›¶éŒ¯èª¤** - è‡ªå‹•åŒ–ä¸”å·²æ¸¬è©¦
- âœ… **å®‰å…¨ç®¡ç†æ©Ÿå¯†** - ä½¿ç”¨ Key Vault
- âœ… **è‡ªå‹•å›æ»¾** - å‡ºéŒ¯æ™‚è‡ªå‹•å›æ»¾
- âœ… **å®Œå…¨å¯é‡ç¾** - æ¯æ¬¡çµæœä¸€è‡´
- âœ… **é©åˆåœ˜éšŠ** - ä»»ä½•äººéƒ½èƒ½ä½¿ç”¨ç›¸åŒå‘½ä»¤éƒ¨ç½²
- âœ… **åŸºç¤æ¶æ§‹å³ä»£ç¢¼** - ç‰ˆæœ¬æ§åˆ¶çš„ Bicep æ¨¡æ¿
- âœ… **å…§å»ºç›£æ§** - è‡ªå‹•é…ç½® Application Insights

### ğŸ“Š æ™‚é–“èˆ‡éŒ¯èª¤æ¸›å°‘

| æŒ‡æ¨™ | æ‰‹å‹•éƒ¨ç½² | AZD éƒ¨ç½² | æ”¹å–„ |
|:-------|:------------------|:---------------|:------------|
| **å‘½ä»¤æ•¸é‡** | 15+ | 5 | æ¸›å°‘ 67% |
| **æ™‚é–“** | 30-45 åˆ†é˜ | 10-15 åˆ†é˜ | å¿« 60% |
| **éŒ¯èª¤ç‡** | ~40% | <5% | æ¸›å°‘ 88% |
| **ä¸€è‡´æ€§** | ä½ï¼ˆæ‰‹å‹•ï¼‰ | 100%ï¼ˆè‡ªå‹•åŒ–ï¼‰ | å®Œç¾ |
| **åœ˜éšŠä¸Šæ‰‹æ™‚é–“** | 2-4 å°æ™‚ | 30 åˆ†é˜ | å¿« 75% |
| **å›æ»¾æ™‚é–“** | 30+ åˆ†é˜ï¼ˆæ‰‹å‹•ï¼‰ | 2 åˆ†é˜ï¼ˆè‡ªå‹•åŒ–ï¼‰ | å¿« 93% |

## æ ¸å¿ƒæ¦‚å¿µ

### æ¨¡æ¿
æ¨¡æ¿æ˜¯ azd çš„åŸºç¤ã€‚å®ƒåŒ…å«ï¼š
- **æ‡‰ç”¨ç¨‹å¼ä»£ç¢¼** - ä½ çš„æºä»£ç¢¼åŠä¾è³´é …
- **åŸºç¤æ¶æ§‹å®šç¾©** - ä½¿ç”¨ Bicep æˆ– Terraform å®šç¾©çš„ Azure è³‡æº
- **é…ç½®æ–‡ä»¶** - è¨­å®šåŠç’°å¢ƒè®Šæ•¸
- **éƒ¨ç½²è…³æœ¬** - è‡ªå‹•åŒ–éƒ¨ç½²å·¥ä½œæµç¨‹

### ç’°å¢ƒ
ç’°å¢ƒä»£è¡¨ä¸åŒçš„éƒ¨ç½²ç›®æ¨™ï¼š
- **é–‹ç™¼** - ç”¨æ–¼æ¸¬è©¦åŠé–‹ç™¼
- **æ¸¬è©¦** - é ç”Ÿç”¢ç’°å¢ƒ
- **ç”Ÿç”¢** - æ­£å¼ç”Ÿç”¢ç’°å¢ƒ

æ¯å€‹ç’°å¢ƒéƒ½æœ‰è‡ªå·±çš„ï¼š
- Azure è³‡æºç¾¤çµ„
- é…ç½®è¨­å®š
- éƒ¨ç½²ç‹€æ…‹

### æœå‹™
æœå‹™æ˜¯æ‡‰ç”¨ç¨‹å¼çš„æ§‹å»ºæ¨¡å¡Šï¼š
- **å‰ç«¯** - ç¶²é æ‡‰ç”¨ç¨‹å¼ã€å–®é æ‡‰ç”¨ç¨‹å¼
- **å¾Œç«¯** - APIã€å¾®æœå‹™
- **è³‡æ–™åº«** - è³‡æ–™å­˜å„²è§£æ±ºæ–¹æ¡ˆ
- **å­˜å„²** - æ–‡ä»¶åŠ Blob å­˜å„²

## ä¸»è¦åŠŸèƒ½

### 1. æ¨¡æ¿é©…å‹•é–‹ç™¼
```bash
# Browse available templates
azd template list

# Initialize from a template
azd init --template <template-name>
```

### 2. åŸºç¤æ¶æ§‹å³ä»£ç¢¼
- **Bicep** - Azure çš„é ˜åŸŸå°ˆç”¨èªè¨€
- **Terraform** - å¤šé›²åŸºç¤æ¶æ§‹å·¥å…·
- **ARM æ¨¡æ¿** - Azure Resource Manager æ¨¡æ¿

### 3. æ•´åˆå·¥ä½œæµç¨‹
```bash
# Complete deployment workflow
azd up            # Provision + Deploy this is hands off for first time setup

# ğŸ§ª NEW: Preview infrastructure changes before deployment (SAFE)
azd provision --preview    # Simulate infrastructure deployment without making changes

azd provision     # Create Azure resources if you update the infrastructure use this
azd deploy        # Deploy application code or redeploy application code once update
azd down          # Clean up resources
```

#### ğŸ›¡ï¸ å®‰å…¨åŸºç¤æ¶æ§‹è¦åŠƒèˆ‡é è¦½
`azd provision --preview` å‘½ä»¤æ˜¯å®‰å…¨éƒ¨ç½²çš„çªç ´æ€§åŠŸèƒ½ï¼š
- **æ¨¡æ“¬åˆ†æ** - é¡¯ç¤ºå°‡å‰µå»ºã€ä¿®æ”¹æˆ–åˆªé™¤çš„å…§å®¹
- **é›¶é¢¨éšª** - ä¸æœƒå° Azure ç’°å¢ƒé€²è¡Œå¯¦éš›æ›´æ”¹
- **åœ˜éšŠå”ä½œ** - éƒ¨ç½²å‰åˆ†äº«é è¦½çµæœ
- **æˆæœ¬ä¼°ç®—** - åœ¨æ‰¿è«¾å‰äº†è§£è³‡æºæˆæœ¬

```bash
# Example preview workflow
azd provision --preview           # See what will change
# Review the output, discuss with team
azd provision                     # Apply changes with confidence
```

### ğŸ“Š åœ–ç¤ºï¼šAZD é–‹ç™¼å·¥ä½œæµç¨‹

```mermaid
graph LR
    A[azd init] -->|Initialize project| B[azd auth login]
    B -->|Authenticate| C[azd env new]
    C -->|Create environment| D{First deployment?}
    D -->|Yes| E[azd up]
    D -->|No| F[azd provision --preview]
    F -->|Review changes| G[azd provision]
    E -->|Provisions & deploys| H[Resources running]
    G -->|Updates infrastructure| H
    H -->|Monitor| I[azd monitor]
    I -->|Make code changes| J[azd deploy]
    J -->|Redeploy code only| H
    H -->|Cleanup| K[azd down]
    
    style A fill:#e1f5fe
    style E fill:#c8e6c9
    style F fill:#fff9c4
    style H fill:#c5e1a5
    style K fill:#ffcdd2
```

**å·¥ä½œæµç¨‹è§£é‡‹ï¼š**
1. **åˆå§‹åŒ–** - ä½¿ç”¨æ¨¡æ¿æˆ–æ–°å°ˆæ¡ˆé–‹å§‹
2. **èªè­‰** - èˆ‡ Azure èªè­‰
3. **ç’°å¢ƒ** - å‰µå»ºç¨ç«‹çš„éƒ¨ç½²ç’°å¢ƒ
4. **é è¦½** - ğŸ†• ç¸½æ˜¯å…ˆé è¦½åŸºç¤æ¶æ§‹æ›´æ”¹ï¼ˆå®‰å…¨åšæ³•ï¼‰
5. **é…ç½®** - å‰µå»º/æ›´æ–° Azure è³‡æº
6. **éƒ¨ç½²** - æ¨é€ä½ çš„æ‡‰ç”¨ç¨‹å¼ä»£ç¢¼
7. **ç›£æ§** - è§€å¯Ÿæ‡‰ç”¨ç¨‹å¼æ€§èƒ½
8. **è¿­ä»£** - ä¿®æ”¹ä¸¦é‡æ–°éƒ¨ç½²ä»£ç¢¼
9. **æ¸…ç†** - å®Œæˆå¾Œç§»é™¤è³‡æº

### 4. ç’°å¢ƒç®¡ç†
```bash
# Create and manage environments
azd env new <environment-name>
azd env select <environment-name>
azd env list
```

## ğŸ“ å°ˆæ¡ˆçµæ§‹

å…¸å‹çš„ azd å°ˆæ¡ˆçµæ§‹ï¼š
```
my-app/
â”œâ”€â”€ .azd/                    # azd configuration
â”‚   â””â”€â”€ config.json
â”œâ”€â”€ .azure/                  # Azure deployment artifacts
â”œâ”€â”€ .devcontainer/          # Development container config
â”œâ”€â”€ .github/workflows/      # GitHub Actions
â”œâ”€â”€ .vscode/               # VS Code settings
â”œâ”€â”€ infra/                 # Infrastructure code
â”‚   â”œâ”€â”€ main.bicep        # Main infrastructure template
â”‚   â”œâ”€â”€ main.parameters.json
â”‚   â””â”€â”€ modules/          # Reusable modules
â”œâ”€â”€ src/                  # Application source code
â”‚   â”œâ”€â”€ api/             # Backend services
â”‚   â””â”€â”€ web/             # Frontend application
â”œâ”€â”€ azure.yaml           # azd project configuration
â””â”€â”€ README.md
```

## ğŸ”§ é…ç½®æ–‡ä»¶

### azure.yaml
ä¸»è¦çš„å°ˆæ¡ˆé…ç½®æ–‡ä»¶ï¼š
```yaml
name: my-awesome-app
metadata:
  template: my-template@1.0.0

services:
  web:
    project: ./src/web
    language: js
    host: appservice
  api:
    project: ./src/api
    language: js
    host: appservice

hooks:
  preprovision:
    shell: pwsh
    run: echo "Preparing to provision..."
```

### .azure/config.json
ç’°å¢ƒç‰¹å®šçš„é…ç½®ï¼š
```json
{
  "version": 1,
  "defaultEnvironment": "dev",
  "environments": {
    "dev": {
      "subscriptionId": "your-subscription-id",
      "location": "eastus"
    }
  }
}
```

## ğŸª å¸¸è¦‹å·¥ä½œæµç¨‹èˆ‡å¯¦ä½œç·´ç¿’

> **ğŸ’¡ å­¸ç¿’æç¤ºï¼š** æŒ‰é †åºå®Œæˆé€™äº›ç·´ç¿’ï¼Œé€æ­¥æå‡ä½ çš„ AZD æŠ€èƒ½ã€‚

### ğŸ¯ ç·´ç¿’ 1ï¼šåˆå§‹åŒ–ä½ çš„ç¬¬ä¸€å€‹å°ˆæ¡ˆ

**ç›®æ¨™ï¼š** å‰µå»ºä¸€å€‹ AZD å°ˆæ¡ˆä¸¦æ¢ç´¢å…¶çµæ§‹

**æ­¥é©Ÿï¼š**
```bash
# Use a proven template
azd init --template todo-nodejs-mongo

# Explore the generated files
ls -la  # View all files including hidden ones

# Key files created:
# - azure.yaml (main config)
# - infra/ (infrastructure code)
# - src/ (application code)
```

**âœ… æˆåŠŸï¼š** ä½ æ“æœ‰ azure.yamlã€infra/ å’Œ src/ ç›®éŒ„

---

### ğŸ¯ ç·´ç¿’ 2ï¼šéƒ¨ç½²åˆ° Azure

**ç›®æ¨™ï¼š** å®Œæˆç«¯åˆ°ç«¯éƒ¨ç½²

**æ­¥é©Ÿï¼š**
```bash
# 1. Authenticate
az login && azd auth login

# 2. Create environment
azd env new dev
azd env set AZURE_LOCATION eastus

# 3. Preview changes (RECOMMENDED)
azd provision --preview

# 4. Deploy everything
azd up

# 5. Verify deployment
azd show    # View your app URL
```

**é è¨ˆæ™‚é–“ï¼š** 10-15 åˆ†é˜  
**âœ… æˆåŠŸï¼š** æ‡‰ç”¨ç¨‹å¼ URL åœ¨ç€è¦½å™¨ä¸­æ‰“é–‹

---

### ğŸ¯ ç·´ç¿’ 3ï¼šå¤šå€‹ç’°å¢ƒ

**ç›®æ¨™ï¼š** éƒ¨ç½²åˆ°é–‹ç™¼å’Œæ¸¬è©¦ç’°å¢ƒ

**æ­¥é©Ÿï¼š**
```bash
# Already have dev, create staging
azd env new staging
azd env set AZURE_LOCATION westus2
azd up

# Switch between them
azd env list
azd env select dev
```

**âœ… æˆåŠŸï¼š** Azure Portal ä¸­æœ‰å…©å€‹ç¨ç«‹çš„è³‡æºç¾¤çµ„

---

### ğŸ›¡ï¸ æ¸…ç†ï¼š`azd down --force --purge`

ç•¶ä½ éœ€è¦å®Œå…¨é‡ç½®æ™‚ï¼š

```bash
azd down --force --purge
```

**å®ƒçš„ä½œç”¨ï¼š**
- `--force`ï¼šç„¡éœ€ç¢ºèªæç¤º
- `--purge`ï¼šåˆªé™¤æ‰€æœ‰æœ¬åœ°ç‹€æ…‹åŠ Azure è³‡æº

**ä½¿ç”¨æ™‚æ©Ÿï¼š**
- éƒ¨ç½²ä¸­é€”å¤±æ•—
- åˆ‡æ›å°ˆæ¡ˆ
- éœ€è¦å…¨æ–°é–‹å§‹

---

## ğŸª åŸå§‹å·¥ä½œæµç¨‹åƒè€ƒ

### é–‹å§‹æ–°å°ˆæ¡ˆ
```bash
# Method 1: Use existing template
azd init --template todo-nodejs-mongo

# Method 2: Start from scratch
azd init

# Method 3: Use current directory
azd init .
```

### é–‹ç™¼é€±æœŸ
```bash
# Set up development environment
azd auth login
azd env new dev
azd env select dev

# Deploy everything
azd up

# Make changes and redeploy
azd deploy

# Clean up when done
azd down --force --purge # command in the Azure Developer CLI is a **hard reset** for your environmentâ€”especially useful when you're troubleshooting failed deployments, cleaning up orphaned resources, or prepping for a fresh redeploy.
```

## ç†è§£ `azd down --force --purge`
`azd down --force --purge` å‘½ä»¤æ˜¯ä¸€ç¨®å®Œå…¨æ‹†é™¤ azd ç’°å¢ƒåŠæ‰€æœ‰ç›¸é—œè³‡æºçš„å¼·å¤§æ–¹å¼ã€‚ä»¥ä¸‹æ˜¯æ¯å€‹æ¨™èªŒçš„ä½œç”¨ï¼š
```
--force
```
- è·³éç¢ºèªæç¤ºã€‚
- é©ç”¨æ–¼ç„¡æ³•æ‰‹å‹•è¼¸å…¥çš„è‡ªå‹•åŒ–æˆ–è…³æœ¬ã€‚
- ç¢ºä¿æ‹†é™¤éç¨‹ä¸å—å¹²æ“¾ï¼Œå³ä½¿ CLI æª¢æ¸¬åˆ°ä¸ä¸€è‡´ã€‚

```
--purge
```
åˆªé™¤ **æ‰€æœ‰ç›¸é—œå…ƒæ•¸æ“š**ï¼ŒåŒ…æ‹¬ï¼š
ç’°å¢ƒç‹€æ…‹
æœ¬åœ° `.azure` æ–‡ä»¶å¤¾
ç·©å­˜çš„éƒ¨ç½²ä¿¡æ¯
é˜²æ­¢ azd "è¨˜ä½" ä¹‹å‰çš„éƒ¨ç½²ï¼Œé¿å…å‡ºç¾è³‡æºç¾¤çµ„ä¸åŒ¹é…æˆ–éæ™‚çš„è¨»å†Šè¡¨å¼•ç”¨å•é¡Œã€‚

### ç‚ºä»€éº¼åŒæ™‚ä½¿ç”¨ï¼Ÿ
ç•¶ä½ å› æ®˜ç•™ç‹€æ…‹æˆ–éƒ¨åˆ†éƒ¨ç½²è€Œé‡åˆ° `azd up` å•é¡Œæ™‚ï¼Œé€™å€‹çµ„åˆèƒ½ç¢ºä¿ **ä¹¾æ·¨çš„é–‹å§‹**ã€‚

ç‰¹åˆ¥æ˜¯åœ¨ Azure Portal æ‰‹å‹•åˆªé™¤è³‡æºå¾Œï¼Œæˆ–åˆ‡æ›æ¨¡æ¿ã€ç’°å¢ƒæˆ–è³‡æºç¾¤çµ„å‘½åç´„å®šæ™‚éå¸¸æœ‰ç”¨ã€‚

### ç®¡ç†å¤šå€‹ç’°å¢ƒ
```bash
# Create staging environment
azd env new staging
azd env select staging
azd up

# Switch back to dev
azd env select dev

# Compare environments
azd env list
```

## ğŸ” èªè­‰èˆ‡æ†‘è­‰

ç†è§£èªè­‰å°æˆåŠŸçš„ azd éƒ¨ç½²è‡³é—œé‡è¦ã€‚Azure ä½¿ç”¨å¤šç¨®èªè­‰æ–¹æ³•ï¼Œè€Œ azd åˆ©ç”¨å…¶ä»– Azure å·¥å…·ä½¿ç”¨çš„ç›¸åŒæ†‘è­‰éˆã€‚

### Azure CLI èªè­‰ (`az login`)

åœ¨ä½¿ç”¨ azd ä¹‹å‰ï¼Œä½ éœ€è¦é€šé Azure CLI èªè­‰ï¼š

```bash
# Interactive login (opens browser)
az login

# Login with specific tenant
az login --tenant <tenant-id>

# Login with service principal
az login --service-principal -u <app-id> -p <password> --tenant <tenant-id>

# Check current login status
az account show

# List available subscriptions
az account list --output table

# Set default subscription
az account set --subscription <subscription-id>
```

### èªè­‰æµç¨‹
1. **äº’å‹•å¼ç™»å…¥**ï¼šæ‰“é–‹é»˜èªç€è¦½å™¨é€²è¡Œèªè­‰
2. **è¨­å‚™ä»£ç¢¼æµç¨‹**ï¼šé©ç”¨æ–¼ç„¡ç€è¦½å™¨è¨ªå•çš„ç’°å¢ƒ
3. **æœå‹™ä¸»é«”**ï¼šé©ç”¨æ–¼è‡ªå‹•åŒ–åŠ CI/CD å ´æ™¯
4. **æ‰˜ç®¡èº«ä»½**ï¼šé©ç”¨æ–¼ Azure æ‰˜ç®¡çš„æ‡‰ç”¨ç¨‹å¼

### DefaultAzureCredential éˆ

`DefaultAzureCredential` æ˜¯ä¸€ç¨®æ†‘è­‰é¡å‹ï¼Œé€šéè‡ªå‹•å˜—è©¦å¤šå€‹æ†‘è­‰ä¾†æºä»¥ç‰¹å®šé †åºæä¾›ç°¡åŒ–çš„èªè­‰é«”é©—ï¼š

#### æ†‘è­‰éˆé †åº
```mermaid
graph TD
    A[DefaultAzureCredential] --> B[Environment Variables]
    B --> C[Workload Identity]
    C --> D[Managed Identity]
    D --> E[Visual Studio]
    E --> F[Visual Studio Code]
    F --> G[Azure CLI]
    G --> H[Azure PowerShell]
    H --> I[Interactive Browser]
```

#### 1. ç’°å¢ƒè®Šæ•¸
```bash
# Set environment variables for service principal
export AZURE_CLIENT_ID="<app-id>"
export AZURE_CLIENT_SECRET="<password>"
export AZURE_TENANT_ID="<tenant-id>"
```

#### 2. å·¥ä½œè² è¼‰èº«ä»½ï¼ˆKubernetes/GitHub Actionsï¼‰
è‡ªå‹•ç”¨æ–¼ï¼š
- Azure Kubernetes Service (AKS) çš„å·¥ä½œè² è¼‰èº«ä»½
- GitHub Actions çš„ OIDC è¯é‚¦
- å…¶ä»–è¯é‚¦èº«ä»½å ´æ™¯

#### 3. æ‰˜ç®¡èº«ä»½
é©ç”¨æ–¼ Azure è³‡æºï¼Œä¾‹å¦‚ï¼š
- è™›æ“¬æ©Ÿå™¨
- æ‡‰ç”¨æœå‹™
- Azure Functions
- å®¹å™¨å¯¦ä¾‹

```bash
# Check if running on Azure resource with managed identity
az account show --query "user.type" --output tsv
# Returns: "servicePrincipal" if using managed identity
```

#### 4. é–‹ç™¼å·¥å…·æ•´åˆ
- **Visual Studio**ï¼šè‡ªå‹•ä½¿ç”¨å·²ç™»å…¥çš„å¸³æˆ¶
- **VS Code**ï¼šä½¿ç”¨ Azure å¸³æˆ¶æ“´å±•æ†‘è­‰
- **Azure CLI**ï¼šä½¿ç”¨ `az login` æ†‘è­‰ï¼ˆæœ¬åœ°é–‹ç™¼æœ€å¸¸ç”¨ï¼‰

### AZD èªè­‰è¨­ç½®

```bash
# Method 1: Use Azure CLI (Recommended for development)
az login
azd auth login  # Uses existing Azure CLI credentials

# Method 2: Direct azd authentication
azd auth login --use-device-code  # For headless environments

# Method 3: Check authentication status
azd auth login --check-status

# Method 4: Logout and re-authenticate
azd auth logout
azd auth login
```

### èªè­‰æœ€ä½³å¯¦è¸

#### æœ¬åœ°é–‹ç™¼
```bash
# 1. Login with Azure CLI
az login

# 2. Verify correct subscription
az account show
az account set --subscription "Your Subscription Name"

# 3. Use azd with existing credentials
azd auth login
```

#### CI/CD ç®¡é“
```yaml
# GitHub Actions example
- name: Azure Login
  uses: azure/login@v1
  with:
    creds: ${{ secrets.AZURE_CREDENTIALS }}

- name: Deploy with azd
  run: |
    azd auth login --client-id ${{ secrets.AZURE_CLIENT_ID }} \
                    --client-secret ${{ secrets.AZURE_CLIENT_SECRET }} \
                    --tenant-id ${{ secrets.AZURE_TENANT_ID }}
    azd up --no-prompt
```

#### ç”Ÿç”¢ç’°å¢ƒ
- åœ¨ Azure è³‡æºä¸Šé‹è¡Œæ™‚ä½¿ç”¨ **æ‰˜ç®¡èº«ä»½**
- è‡ªå‹•åŒ–å ´æ™¯ä½¿ç”¨ **æœå‹™ä¸»é«”**
- é¿å…åœ¨ä»£ç¢¼æˆ–é…ç½®æ–‡ä»¶ä¸­å­˜å„²æ†‘è­‰
- ä½¿ç”¨ **Azure Key Vault** å­˜å„²æ•æ„Ÿé…ç½®

### å¸¸è¦‹èªè­‰å•é¡ŒåŠè§£æ±ºæ–¹æ¡ˆ

#### å•é¡Œï¼š"æœªæ‰¾åˆ°è¨‚é–±"
```bash
# Solution: Set default subscription
az account list --output table
az account set --subscription "<subscription-id>"
azd env set AZURE_SUBSCRIPTION_ID "<subscription-id>"
```

#### å•é¡Œï¼š"æ¬Šé™ä¸è¶³"
```bash
# Solution: Check and assign required roles
az role assignment list --assignee $(az account show --query user.name --output tsv)

# Common required roles:
# - Contributor (for resource management)
# - User Access Administrator (for role assignments)
```

#### å•é¡Œï¼š"ä»¤ç‰ŒéæœŸ"
```bash
# Solution: Re-authenticate
az logout
az login
azd auth logout
azd auth login
```

### ä¸åŒå ´æ™¯ä¸‹çš„èªè­‰

#### æœ¬åœ°é–‹ç™¼
```bash
# Personal development account
az login
azd auth login
```

#### åœ˜éšŠé–‹ç™¼
```bash
# Use specific tenant for organization
az login --tenant contoso.onmicrosoft.com
azd auth login
```

#### å¤šç§Ÿæˆ¶å ´æ™¯
```bash
# Switch between tenants
az login --tenant tenant1.onmicrosoft.com
# Deploy to tenant 1
azd up

az login --tenant tenant2.onmicrosoft.com  
# Deploy to tenant 2
azd up
```

### å®‰å…¨è€ƒé‡

1. **æ†‘è­‰å­˜å„²**ï¼šåˆ‡å‹¿å°‡æ†‘è­‰å­˜å„²æ–¼æºä»£ç¢¼ä¸­
2. **ç¯„åœé™åˆ¶**ï¼šå°æœå‹™ä¸»é«”ä½¿ç”¨æœ€å°æ¬Šé™åŸå‰‡
3. **ä»¤ç‰Œè¼ªæ›**ï¼šå®šæœŸè¼ªæ›æœå‹™ä¸»é«”å¯†é‘°
4. **å¯©è¨ˆè¿½è¹¤**ï¼šç›£æ§èªè­‰åŠéƒ¨ç½²æ´»å‹•
5. **ç¶²çµ¡å®‰å…¨**ï¼šç›¡å¯èƒ½ä½¿ç”¨ç§æœ‰ç«¯é»

### èªè­‰æ•…éšœæ’é™¤

```bash
# Debug authentication issues
azd auth login --check-status
az account show
az account get-access-token

# Common diagnostic commands
whoami                          # Current user context
az ad signed-in-user show      # Azure AD user details
az group list                  # Test resource access
```

## ç†è§£ `azd down --force --purge`

### æ¢ç´¢
```bash
azd template list              # Browse templates
azd template show <template>   # Template details
azd init --help               # Initialization options
```

### å°ˆæ¡ˆç®¡ç†
```bash
azd show                     # Project overview
azd env show                 # Current environment
azd config list             # Configuration settings
```

### ç›£æ§
```bash
azd monitor                  # Open Azure portal
azd pipeline config          # Set up CI/CD
azd logs                     # View application logs
```

## æœ€ä½³å¯¦è¸

### 1. ä½¿ç”¨æœ‰æ„ç¾©çš„åç¨±
```bash
# Good
azd env new production-east
azd init --template web-app-secure

# Avoid
azd env new env1
azd init --template template1
```

### 2. åˆ©ç”¨æ¨¡æ¿
- å¾ç¾æœ‰æ¨¡æ¿é–‹å§‹
- æ ¹æ“šéœ€æ±‚é€²è¡Œè‡ªå®šç¾©
- ç‚ºä½ çš„çµ„ç¹”å‰µå»ºå¯é‡ç”¨æ¨¡æ¿

### 3. ç’°å¢ƒéš”é›¢
- ç‚ºé–‹ç™¼/æ¸¬è©¦/ç”Ÿç”¢ä½¿ç”¨ç¨ç«‹ç’°å¢ƒ
- åˆ‡å‹¿ç›´æ¥å¾æœ¬åœ°æ©Ÿå™¨éƒ¨ç½²åˆ°ç”Ÿç”¢ç’°å¢ƒ
- ä½¿ç”¨ CI/CD ç®¡é“é€²è¡Œç”Ÿç”¢éƒ¨ç½²

### 4. é…ç½®ç®¡ç†
- ä½¿ç”¨ç’°å¢ƒè®Šæ•¸å­˜å„²æ•æ„Ÿæ•¸æ“š
- å°‡é…ç½®ä¿å­˜åœ¨ç‰ˆæœ¬æ§åˆ¶ä¸­
- è¨˜éŒ„ç’°å¢ƒç‰¹å®šçš„è¨­ç½®

## å­¸ç¿’é€²åº¦

### åˆå­¸è€…ï¼ˆç¬¬ 1-2 é€±ï¼‰
1. å®‰è£ azd ä¸¦èªè­‰
2. éƒ¨ç½²ç°¡å–®æ¨¡æ¿
3. ç†è§£å°ˆæ¡ˆçµæ§‹
4. å­¸ç¿’åŸºæœ¬å‘½ä»¤ï¼ˆup, down, deployï¼‰

### ä¸­ç´šï¼ˆç¬¬ 3-4 é€±ï¼‰
1. è‡ªå®šç¾©æ¨¡æ¿
2. ç®¡ç†å¤šå€‹ç’°å¢ƒ
3. ç†è§£åŸºç¤æ¶æ§‹ä»£ç¢¼
4. è¨­ç½® CI/CD ç®¡é“

### é«˜ç´šï¼ˆç¬¬ 5 é€±åŠä»¥ä¸Šï¼‰
1. å‰µå»ºè‡ªå®šç¾©æ¨¡æ¿
2. é«˜ç´šåŸºç¤æ¶æ§‹æ¨¡å¼
3. å¤šå€åŸŸéƒ¨ç½²
4. ä¼æ¥­ç´šé…ç½®

## ä¸‹ä¸€æ­¥

**ğŸ“– ç¹¼çºŒå­¸ç¿’ç¬¬ 1 ç« å…§å®¹ï¼š**
- [å®‰è£åŠè¨­å®š](installation.md) - å®‰è£åŠé…ç½® azd
- [ä½ çš„ç¬¬ä¸€å€‹é …ç›®](first-project.md) - å®Œæ•´çš„å¯¦è¸æ•™å­¸
- [é…ç½®æŒ‡å—](configuration.md) - é«˜ç´šé…ç½®é¸é …

**ğŸ¯ æº–å‚™å¥½é€²å…¥ä¸‹ä¸€ç« ç¯€äº†å—ï¼Ÿ**
- [ç¬¬2ç« ï¼šAIå„ªå…ˆé–‹ç™¼](../microsoft-foundry/microsoft-foundry-integration.md) - é–‹å§‹å»ºç«‹ AI æ‡‰ç”¨ç¨‹å¼

## é¡å¤–è³‡æº

- [Azure Developer CLI æ¦‚è¦½](https://learn.microsoft.com/en-us/azure/developer/azure-developer-cli/)
- [æ¨¡æ¿åº«](https://azure.github.io/awesome-azd/)
- [ç¤¾ç¾¤ç¯„ä¾‹](https://github.com/Azure-Samples)

---

## ğŸ™‹ å¸¸è¦‹å•é¡Œ

### ä¸€èˆ¬å•é¡Œ

**å•ï¼šAZD å’Œ Azure CLI æœ‰ä»€éº¼åˆ†åˆ¥ï¼Ÿ**

ç­”ï¼šAzure CLI (`az`) ç”¨æ–¼ç®¡ç†å€‹åˆ¥çš„ Azure è³‡æºï¼Œè€Œ AZD (`azd`) å‰‡ç”¨æ–¼ç®¡ç†æ•´å€‹æ‡‰ç”¨ç¨‹å¼ï¼š

```bash
# Azure CLI - Low-level resource management
az webapp create --name myapp --resource-group rg
az sql server create --name myserver --resource-group rg
# ...many more commands needed

# AZD - Application-level management
azd up  # Deploys entire app with all resources
```

**å¯ä»¥é€™æ¨£ç†è§£ï¼š**
- `az` = æ“ä½œå–®å€‹æ¨‚é«˜ç©æœ¨
- `azd` = è™•ç†å®Œæ•´çš„æ¨‚é«˜å¥—è£

---

**å•ï¼šä½¿ç”¨ AZD éœ€è¦æ‡‚å¾— Bicep æˆ– Terraform å—ï¼Ÿ**

ç­”ï¼šä¸éœ€è¦ï¼å¯ä»¥å¾æ¨¡æ¿é–‹å§‹ï¼š
```bash
# Use existing template - no IaC knowledge needed
azd init --template todo-nodejs-mongo
azd up
```

ä½ å¯ä»¥ç¨å¾Œå­¸ç¿’ Bicep ä¾†è‡ªè¨‚åŸºç¤æ¶æ§‹ã€‚æ¨¡æ¿æä¾›äº†å¯æ“ä½œçš„ç¯„ä¾‹ä¾›ä½ å­¸ç¿’ã€‚

---

**å•ï¼šé‹è¡Œ AZD æ¨¡æ¿éœ€è¦å¤šå°‘è²»ç”¨ï¼Ÿ**

ç­”ï¼šè²»ç”¨å› æ¨¡æ¿è€Œç•°ã€‚å¤§å¤šæ•¸é–‹ç™¼æ¨¡æ¿æ¯æœˆè²»ç”¨ç´„ $50-150ï¼š

```bash
# Preview costs before deploying
azd provision --preview

# Always cleanup when not using
azd down --force --purge  # Removes all resources
```

**å°ˆæ¥­æç¤ºï¼š** ä½¿ç”¨å…è²»å±¤ç´šï¼ˆå¦‚æœ‰ï¼‰ï¼š
- App Serviceï¼šF1ï¼ˆå…è²»ï¼‰å±¤ç´š
- Azure OpenAIï¼šæ¯æœˆå…è²» 50,000 tokens
- Cosmos DBï¼šæ¯æœˆå…è²» 1000 RU/s å±¤ç´š

---

**å•ï¼šæˆ‘å¯ä»¥ä½¿ç”¨ AZD é…åˆç¾æœ‰çš„ Azure è³‡æºå—ï¼Ÿ**

ç­”ï¼šå¯ä»¥ï¼Œä½†å¾é ­é–‹å§‹æœƒæ›´å®¹æ˜“ã€‚AZD æœ€é©åˆç®¡ç†å®Œæ•´çš„ç”Ÿå‘½é€±æœŸã€‚å°æ–¼ç¾æœ‰è³‡æºï¼š

```bash
# Option 1: Import existing resources (advanced)
azd init
# Then modify infra/ to reference existing resources

# Option 2: Start fresh (recommended)
azd init --template matching-your-stack
azd up  # Creates new environment
```

---

**å•ï¼šå¦‚ä½•èˆ‡åœ˜éšŠæˆå“¡åˆ†äº«æˆ‘çš„é …ç›®ï¼Ÿ**

ç­”ï¼šå°‡ AZD é …ç›®æäº¤åˆ° Gitï¼ˆä½†ä¸è¦æäº¤ .azure è³‡æ–™å¤¾ï¼‰ï¼š

```bash
# Already in .gitignore by default
.azure/        # Contains secrets and environment data
*.env          # Environment variables

# Team members then:
git clone <your-repo>
azd auth login
azd env new <their-name>-dev
azd up
```

æ¯å€‹äººéƒ½èƒ½å¾ç›¸åŒçš„æ¨¡æ¿ç²å¾—ä¸€è‡´çš„åŸºç¤æ¶æ§‹ã€‚

---

### ç–‘é›£æ’è§£å•é¡Œ

**å•ï¼š"azd up" ä¸­é€”å¤±æ•—äº†ã€‚æˆ‘è©²æ€éº¼è¾¦ï¼Ÿ**

ç­”ï¼šæª¢æŸ¥éŒ¯èª¤ï¼Œä¿®æ­£å¾Œå†é‡è©¦ï¼š

```bash
# View detailed logs
azd show

# Common fixes:

# 1. If quota exceeded:
azd env set AZURE_LOCATION "westus2"  # Try different region

# 2. If resource name conflict:
azd down --force --purge  # Clean slate
azd up  # Retry

# 3. If auth expired:
az login
azd auth login
azd up
```

**æœ€å¸¸è¦‹çš„å•é¡Œï¼š** é¸æ“‡äº†éŒ¯èª¤çš„ Azure è¨‚é–±
```bash
az account list --output table
az account set --subscription "<correct-subscription>"
```

---

**å•ï¼šå¦‚ä½•åƒ…éƒ¨ç½²ä»£ç¢¼æ›´æ”¹è€Œä¸é‡æ–°é…ç½®ï¼Ÿ**

ç­”ï¼šä½¿ç”¨ `azd deploy` è€Œä¸æ˜¯ `azd up`ï¼š

```bash
azd up          # First time: provision + deploy (slow)

# Make code changes...

azd deploy      # Subsequent times: deploy only (fast)
```

é€Ÿåº¦æ¯”è¼ƒï¼š
- `azd up`ï¼š10-15 åˆ†é˜ï¼ˆé…ç½®åŸºç¤æ¶æ§‹ï¼‰
- `azd deploy`ï¼š2-5 åˆ†é˜ï¼ˆåƒ…éƒ¨ç½²ä»£ç¢¼ï¼‰

---

**å•ï¼šæˆ‘å¯ä»¥è‡ªè¨‚åŸºç¤æ¶æ§‹æ¨¡æ¿å—ï¼Ÿ**

ç­”ï¼šå¯ä»¥ï¼ç·¨è¼¯ `infra/` ä¸­çš„ Bicep æ–‡ä»¶ï¼š

```bash
# After azd init
cd infra/
code main.bicep  # Edit in VS Code

# Preview changes
azd provision --preview

# Apply changes
azd provision
```

**æç¤ºï¼š** å¾å°æ”¹è®Šé–‹å§‹ - å…ˆæ›´æ”¹ SKUsï¼š
```bicep
// infra/main.bicep
sku: {
  name: 'B1'  // Change to 'P1V2' for production
}
```

---

**å•ï¼šå¦‚ä½•åˆªé™¤ AZD å‰µå»ºçš„æ‰€æœ‰å…§å®¹ï¼Ÿ**

ç­”ï¼šä¸€å€‹æŒ‡ä»¤å³å¯ç§»é™¤æ‰€æœ‰è³‡æºï¼š

```bash
azd down --force --purge

# This deletes:
# - All Azure resources
# - Resource group
# - Local environment state
# - Cached deployment data
```

**è«‹å‹™å¿…åŸ·è¡Œæ­¤æ“ä½œï¼š**
- æ¸¬è©¦æ¨¡æ¿å®Œæˆå¾Œ
- åˆ‡æ›åˆ°ä¸åŒé …ç›®æ™‚
- æƒ³è¦é‡æ–°é–‹å§‹æ™‚

**ç¯€çœæˆæœ¬ï¼š** åˆªé™¤æœªä½¿ç”¨çš„è³‡æº = $0 è²»ç”¨

---

**å•ï¼šå¦‚æœæˆ‘åœ¨ Azure Portal ä¸­æ„å¤–åˆªé™¤äº†è³‡æºæ€éº¼è¾¦ï¼Ÿ**

ç­”ï¼šAZD ç‹€æ…‹å¯èƒ½æœƒä¸åŒæ­¥ã€‚æ¡ç”¨æ¸…é™¤é‡ç½®çš„æ–¹æ³•ï¼š

```bash
# 1. Remove local state
azd down --force --purge

# 2. Start fresh
azd up

# Alternative: Let AZD detect and fix
azd provision  # Will create missing resources
```

---

### é«˜ç´šå•é¡Œ

**å•ï¼šæˆ‘å¯ä»¥åœ¨ CI/CD ç®¡é“ä¸­ä½¿ç”¨ AZD å—ï¼Ÿ**

ç­”ï¼šå¯ä»¥ï¼GitHub Actions ç¯„ä¾‹ï¼š

```yaml
# .github/workflows/deploy.yml
name: Deploy with AZD

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      
      - name: Install azd
        run: curl -fsSL https://aka.ms/install-azd.sh | bash
      
      - name: Azure Login
        run: |
          azd auth login \
            --client-id ${{ secrets.AZURE_CLIENT_ID }} \
            --client-secret ${{ secrets.AZURE_CLIENT_SECRET }} \
            --tenant-id ${{ secrets.AZURE_TENANT_ID }}
      
      - name: Deploy
        run: azd up --no-prompt
```

---

**å•ï¼šå¦‚ä½•è™•ç†ç§˜å¯†å’Œæ•æ„Ÿæ•¸æ“šï¼Ÿ**

ç­”ï¼šAZD è‡ªå‹•æ•´åˆ Azure Key Vaultï¼š

```bash
# Secrets are stored in Key Vault, not in code
azd env set DATABASE_PASSWORD "$(openssl rand -base64 32)"

# AZD automatically:
# 1. Creates Key Vault
# 2. Stores secret
# 3. Grants app access via Managed Identity
# 4. Injects at runtime
```

**åˆ‡å‹¿æäº¤ï¼š**
- `.azure/` è³‡æ–™å¤¾ï¼ˆåŒ…å«ç’°å¢ƒæ•¸æ“šï¼‰
- `.env` æ–‡ä»¶ï¼ˆæœ¬åœ°ç§˜å¯†ï¼‰
- é€£æ¥å­—ä¸²

---

**å•ï¼šæˆ‘å¯ä»¥éƒ¨ç½²åˆ°å¤šå€‹åœ°å€å—ï¼Ÿ**

ç­”ï¼šå¯ä»¥ï¼Œç‚ºæ¯å€‹åœ°å€å‰µå»ºä¸€å€‹ç’°å¢ƒï¼š

```bash
# East US environment
azd env new prod-eastus
azd env set AZURE_LOCATION eastus
azd up

# West Europe environment
azd env new prod-westeurope
azd env set AZURE_LOCATION westeurope
azd up

# Each environment is independent
azd env list
```

å°æ–¼çœŸæ­£çš„å¤šåœ°å€æ‡‰ç”¨ç¨‹å¼ï¼Œè‡ªè¨‚ Bicep æ¨¡æ¿ä»¥åŒæ™‚éƒ¨ç½²åˆ°å¤šå€‹åœ°å€ã€‚

---

**å•ï¼šå¦‚æœæˆ‘é‡åˆ°å•é¡Œï¼Œåœ¨å“ªè£¡å¯ä»¥ç²å¾—å¹«åŠ©ï¼Ÿ**

1. **AZD æ–‡ä»¶ï¼š** https://learn.microsoft.com/azure/developer/azure-developer-cli/
2. **GitHub å•é¡Œï¼š** https://github.com/Azure/azure-dev/issues
3. **Discordï¼š** [Azure Discord](https://discord.gg/microsoft-azure) - #azure-developer-cli é »é“
4. **Stack Overflowï¼š** æ¨™ç±¤ `azure-developer-cli`
5. **æœ¬èª²ç¨‹ï¼š** [ç–‘é›£æ’è§£æŒ‡å—](../troubleshooting/common-issues.md)

**å°ˆæ¥­æç¤ºï¼š** åœ¨æå•ä¹‹å‰ï¼ŒåŸ·è¡Œï¼š
```bash
azd show       # Shows current state
azd version    # Shows your version
```
åœ¨ä½ çš„å•é¡Œä¸­åŒ…å«é€™äº›ä¿¡æ¯ä»¥åŠ å¿«å¹«åŠ©é€Ÿåº¦ã€‚

---

## ğŸ“ ä¸‹ä¸€æ­¥æ˜¯ä»€éº¼ï¼Ÿ

ä½ ç¾åœ¨å·²äº†è§£ AZD çš„åŸºç¤çŸ¥è­˜ã€‚é¸æ“‡ä½ çš„è·¯å¾‘ï¼š

### ğŸ¯ åˆå­¸è€…ï¼š
1. **ä¸‹ä¸€æ­¥ï¼š** [å®‰è£åŠè¨­å®š](installation.md) - åœ¨ä½ çš„æ©Ÿå™¨ä¸Šå®‰è£ AZD
2. **ç„¶å¾Œï¼š** [ä½ çš„ç¬¬ä¸€å€‹é …ç›®](first-project.md) - éƒ¨ç½²ä½ çš„ç¬¬ä¸€å€‹æ‡‰ç”¨ç¨‹å¼
3. **ç·´ç¿’ï¼š** å®Œæˆæœ¬èª²ç¨‹ä¸­çš„æ‰€æœ‰ä¸‰å€‹ç·´ç¿’

### ğŸš€ AI é–‹ç™¼è€…ï¼š
1. **è·³åˆ°ï¼š** [ç¬¬2ç« ï¼šAIå„ªå…ˆé–‹ç™¼](../microsoft-foundry/microsoft-foundry-integration.md)
2. **éƒ¨ç½²ï¼š** å¾ `azd init --template get-started-with-ai-chat` é–‹å§‹
3. **å­¸ç¿’ï¼š** åœ¨éƒ¨ç½²çš„åŒæ™‚é€²è¡Œæ§‹å»º

### ğŸ—ï¸ æœ‰ç¶“é©—çš„é–‹ç™¼è€…ï¼š
1. **å›é¡§ï¼š** [é…ç½®æŒ‡å—](configuration.md) - é«˜ç´šè¨­å®š
2. **æ¢ç´¢ï¼š** [åŸºç¤æ¶æ§‹å³ä»£ç¢¼](../deployment/provisioning.md) - æ·±å…¥äº†è§£ Bicep
3. **æ§‹å»ºï¼š** ç‚ºä½ çš„æŠ€è¡“æ£§å‰µå»ºè‡ªè¨‚æ¨¡æ¿

---

**ç« ç¯€å°èˆªï¼š**
- **ğŸ“š èª²ç¨‹é¦–é ï¼š** [AZD åˆå­¸è€…æŒ‡å—](../../README.md)
- **ğŸ“– ç•¶å‰ç« ç¯€ï¼š** ç¬¬1ç«  - åŸºç¤åŠå¿«é€Ÿå…¥é–€  
- **â¬…ï¸ ä¸Šä¸€ç« ï¼š** [èª²ç¨‹æ¦‚è¦½](../../README.md#-chapter-1-foundation--quick-start)
- **â¡ï¸ ä¸‹ä¸€ç« ï¼š** [å®‰è£åŠè¨­å®š](installation.md)
- **ğŸš€ ä¸‹ä¸€ç« ç¯€ï¼š** [ç¬¬2ç« ï¼šAIå„ªå…ˆé–‹ç™¼](../microsoft-foundry/microsoft-foundry-integration.md)

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**å…è²¬è²æ˜**ï¼š  
æ­¤æ–‡ä»¶å·²ä½¿ç”¨äººå·¥æ™ºèƒ½ç¿»è­¯æœå‹™ [Co-op Translator](https://github.com/Azure/co-op-translator) é€²è¡Œç¿»è­¯ã€‚æˆ‘å€‘è‡´åŠ›æ–¼æä¾›æº–ç¢ºçš„ç¿»è­¯ï¼Œä½†è«‹æ³¨æ„ï¼Œè‡ªå‹•ç¿»è­¯å¯èƒ½åŒ…å«éŒ¯èª¤æˆ–ä¸æº–ç¢ºä¹‹è™•ã€‚åŸå§‹èªè¨€çš„æ–‡ä»¶æ‡‰è¢«è¦–ç‚ºæ¬Šå¨ä¾†æºã€‚å°æ–¼é‡è¦è³‡è¨Šï¼Œå»ºè­°ä½¿ç”¨å°ˆæ¥­çš„äººé¡ç¿»è­¯ã€‚æˆ‘å€‘å°å› ä½¿ç”¨æ­¤ç¿»è­¯è€Œå¼•èµ·çš„ä»»ä½•èª¤è§£æˆ–èª¤é‡‹ä¸æ‰¿æ“”è²¬ä»»ã€‚
<!-- CO-OP TRANSLATOR DISCLAIMER END -->