# –®–∞–±–ª–æ–Ω–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Ç–∞ –ö–µ—Ä–æ–≤–∞–Ω–∞ –Ü–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å

‚è±Ô∏è **–û—Ä—ñ—î–Ω—Ç–æ–≤–Ω–∏–π —á–∞—Å**: 45-60 —Ö–≤–∏–ª–∏–Ω | üí∞ **–í–ø–ª–∏–≤ –Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å**: –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ (–±–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –≤–∏—Ç—Ä–∞—Ç) | ‚≠ê **–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –°–µ—Ä–µ–¥–Ω—è

**üìö –ù–∞–≤—á–∞–ª—å–Ω–∏–π —à–ª—è—Ö:**
- ‚Üê –ü–æ–ø–µ—Ä–µ–¥–Ω—î: [–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é](configuration.md) - –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏–º–∏ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ —Ç–∞ —Å–µ–∫—Ä–µ—Ç–∞–º–∏
- üéØ **–í–∏ —Ç—É—Ç**: –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ç–∞ –±–µ–∑–ø–µ–∫–∞ (–ö–µ—Ä–æ–≤–∞–Ω–∞ —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å, Key Vault, –±–µ–∑–ø–µ—á–Ω—ñ —à–∞–±–ª–æ–Ω–∏)
- ‚Üí –î–∞–ª—ñ: [–ü–µ—Ä—à–∏–π –ø—Ä–æ—î–∫—Ç](first-project.md) - –°—Ç–≤–æ—Ä—ñ—Ç—å —Å–≤—ñ–π –ø–µ—Ä—à–∏–π –¥–æ–¥–∞—Ç–æ–∫ AZD
- üè† [–ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –∫—É—Ä—Å—É](../../README.md)

---

## –©–æ –≤–∏ –¥—ñ–∑–Ω–∞—î—Ç–µ—Å—å

–ó–∞–≤–µ—Ä—à–∏–≤—à–∏ —Ü–µ–π —É—Ä–æ–∫, –≤–∏:
- –ó—Ä–æ–∑—É–º—ñ—î—Ç–µ —à–∞–±–ª–æ–Ω–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó Azure (–∫–ª—é—á—ñ, —Ä—è–¥–∫–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è, –∫–µ—Ä–æ–≤–∞–Ω–∞ —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å)
- –†–µ–∞–ª—ñ–∑—É—î—Ç–µ **–ö–µ—Ä–æ–≤–∞–Ω—É –Ü–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å** –¥–ª—è –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –±–µ–∑ –ø–∞—Ä–æ–ª—ñ–≤
- –ó–∞—Ö–∏—Å—Ç–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ **Azure Key Vault**
- –ù–∞–ª–∞—à—Ç—É—î—Ç–µ **–∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ä–æ–ª–µ–π (RBAC)** –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω—å AZD
- –ó–∞—Å—Ç–æ—Å—É—î—Ç–µ –Ω–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏ –±–µ–∑–ø–µ–∫–∏ –≤ Container Apps —Ç–∞ —Å–ª—É–∂–±–∞—Ö Azure
- –ü–µ—Ä–µ–π–¥–µ—Ç–µ –≤—ñ–¥ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∫–ª—é—á—ñ–≤ –¥–æ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –Ω–∞ –æ—Å–Ω–æ–≤—ñ —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ

## –ß–æ–º—É –≤–∞–∂–ª–∏–≤–∞ –ö–µ—Ä–æ–≤–∞–Ω–∞ –Ü–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å

### –ü—Ä–æ–±–ª–µ–º–∞: –¢—Ä–∞–¥–∏—Ü—ñ–π–Ω–∞ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è

**–î–æ –ö–µ—Ä–æ–≤–∞–Ω–æ—ó –Ü–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ:**
```javascript
// ‚ùå –†–ò–ó–ò–ö –ë–ï–ó–ü–ï–ö–ò: –ñ–æ—Ä—Å—Ç–∫–æ –∑–∞–∫–æ–¥–æ–≤–∞–Ω—ñ —Å–µ–∫—Ä–µ—Ç–∏ –≤ –∫–æ–¥—ñ
const connectionString = "Server=mydb.database.windows.net;User=admin;Password=P@ssw0rd123";
const storageKey = "xK7mN9pQ2wR5tY8uI0oP3aS6dF1gH4jK...";
const cosmosKey = "C2x7B9n4M1p8Q5w3E6r0T2y5U8i1O4p7...";
```

**–ü—Ä–æ–±–ª–µ–º–∏:**
- üî¥ **–°–µ–∫—Ä–µ—Ç–∏ —É –≤—ñ–¥–∫—Ä–∏—Ç–æ–º—É –¥–æ—Å—Ç—É–ø—ñ** –≤ –∫–æ–¥—ñ, —Ñ–∞–π–ª–∞—Ö –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó, –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
- üî¥ **–†–æ—Ç–∞—Ü—ñ—è –æ–±–ª—ñ–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö** –≤–∏–º–∞–≥–∞—î –∑–º—ñ–Ω —É –∫–æ–¥—ñ —Ç–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
- üî¥ **–ü—Ä–æ–±–ª–µ–º–∏ –∞—É–¥–∏—Ç—É** - —Ö—Ç–æ –æ—Ç—Ä–∏–º–∞–≤ –¥–æ—Å—Ç—É–ø, –∫–æ–ª–∏?
- üî¥ **–†–æ–∑–ø–æ—Ä–æ—à–µ–Ω–Ω—è** - —Å–µ–∫—Ä–µ—Ç–∏ —Ä–æ–∑–∫–∏–¥–∞–Ω—ñ –ø–æ —Ä—ñ–∑–Ω–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö
- üî¥ **–†–∏–∑–∏–∫–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç—ñ** - –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –±–µ–∑–ø–µ–∫–∏

### –†—ñ—à–µ–Ω–Ω—è: –ö–µ—Ä–æ–≤–∞–Ω–∞ –Ü–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å

**–ü—ñ—Å–ª—è –ö–µ—Ä–æ–≤–∞–Ω–æ—ó –Ü–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ:**
```javascript
// ‚úÖ –ë–ï–ó–ü–ï–ß–ù–û: –ù–µ–º–∞—î —Å–µ–∫—Ä–µ—Ç—ñ–≤ —É –∫–æ–¥—ñ
const credential = new DefaultAzureCredential();
const client = new BlobServiceClient(
  "https://mystorageaccount.blob.core.windows.net",
  credential  // Azure –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–±—Ä–æ–±–ª—è—î –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é
);
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ **–ñ–æ–¥–Ω–∏—Ö —Å–µ–∫—Ä–µ—Ç—ñ–≤** —É –∫–æ–¥—ñ —á–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Ä–æ—Ç–∞—Ü—ñ—è** - Azure —Ü–µ –æ–±—Ä–æ–±–ª—è—î
- ‚úÖ **–ü–æ–≤–Ω–∏–π –∂—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç—É** –≤ –ª–æ–≥–∞—Ö Azure AD
- ‚úÖ **–¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –±–µ–∑–ø–µ–∫–∞** - –∫–µ—Ä—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ Azure Portal
- ‚úÖ **–ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç—ñ** - –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –±–µ–∑–ø–µ–∫–∏

**–ê–Ω–∞–ª–æ–≥—ñ—è**: –¢—Ä–∞–¥–∏—Ü—ñ–π–Ω–∞ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Å—Ö–æ–∂–∞ –Ω–∞ –Ω–æ—Å—ñ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Ö —Ñ—ñ–∑–∏—á–Ω–∏—Ö –∫–ª—é—á—ñ–≤ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –¥–≤–µ—Ä–µ–π. –ö–µ—Ä–æ–≤–∞–Ω–∞ –Ü–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å - —Ü–µ —è–∫ –º–∞—Ç–∏ –ø—Ä–æ–ø—É—Å–∫, —è–∫–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –Ω–∞–¥–∞—î –¥–æ—Å—Ç—É–ø –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –≤–∞—à–æ—ó –æ—Å–æ–±–∏ ‚Äî –±–µ–∑ –∫–ª—é—á—ñ–≤, —è–∫—ñ –º–æ–∂–Ω–∞ –∑–∞–≥—É–±–∏—Ç–∏, —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏ —á–∏ –∑–∞–º—ñ–Ω–∏—Ç–∏.

---

## –û–≥–ª—è–¥ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏

### –ü–æ—Ç—ñ–∫ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –∑ –ö–µ—Ä–æ–≤–∞–Ω–æ—é –Ü–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—é

```mermaid
sequenceDiagram
    participant App as –í–∞—à –¥–æ–¥–∞—Ç–æ–∫<br/>(–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä App)
    participant MI as –ö–µ—Ä–æ–≤–∞–Ω–∞ —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å<br/>(Azure AD)
    participant KV as Key Vault
    participant Storage as Azure Storage
    participant DB as Azure SQL
    
    App->>MI: –ó–∞–ø–∏—Ç —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø—É<br/>(–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)
    MI->>MI: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ<br/>(–ø–∞—Ä–æ–ª—å –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω)
    MI-->>App: –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —Ç–æ–∫–µ–Ω–∞<br/>(–¥—ñ–π—Å–Ω–∏–π 1 –≥–æ–¥–∏–Ω—É)
    
    App->>KV: –û—Ç—Ä–∏–º–∞—Ç–∏ —Å–µ–∫—Ä–µ—Ç<br/>(–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Ç–æ–∫–µ–Ω)
    KV->>KV: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ–∑–≤–æ–ª—ñ–≤ RBAC
    KV-->>App: –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç—É
    
    App->>Storage: –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ blob<br/>(–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Ç–æ–∫–µ–Ω)
    Storage->>Storage: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ–∑–≤–æ–ª—ñ–≤ RBAC
    Storage-->>App: –£—Å–ø—ñ—Ö
    
    App->>DB: –ó–∞–ø–∏—Ç –¥–∞–Ω–∏—Ö<br/>(–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Ç–æ–∫–µ–Ω)
    DB->>DB: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ–∑–≤–æ–ª—ñ–≤ SQL
    DB-->>App: –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
    
    Note over App,DB: –£—Å—è –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –±–µ–∑ –ø–∞—Ä–æ–ª—ñ–≤!
```
### –¢–∏–ø–∏ –ö–µ—Ä–æ–≤–∞–Ω–∏—Ö –Ü–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–µ–π

```mermaid
graph TB
    MI[–ö–µ—Ä–æ–≤–∞–Ω–∞ —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å]
    SystemAssigned[–Ü–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å, –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–æ—é]
    UserAssigned[–Ü–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å, –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º]
    
    MI --> SystemAssigned
    MI --> UserAssigned
    
    SystemAssigned --> SA1[–ñ–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª –ø–æ–≤'—è–∑–∞–Ω–∏–π –∑ —Ä–µ—Å—É—Ä—Å–æ–º]
    SystemAssigned --> SA2[–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è]
    SystemAssigned --> SA3[–ù–∞–π–∫—Ä–∞—â–µ –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É]
    
    UserAssigned --> UA1[–ù–µ–∑–∞–ª–µ–∂–Ω–∏–π –∂–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª]
    UserAssigned --> UA2[–†—É—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è]
    UserAssigned --> UA3[–°–ø—ñ–ª—å–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –º—ñ–∂ —Ä–µ—Å—É—Ä—Å–∞–º–∏]
    
    style SystemAssigned fill:#2196F3,stroke:#1976D2,stroke-width:2px,color:#fff
    style UserAssigned fill:#4CAF50,stroke:#388E3C,stroke-width:2px,color:#fff
```
| –§—É–Ω–∫—Ü—ñ—è | –°–∏—Å—Ç–µ–º–Ω–æ-–ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∞ | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–æ-–ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∞ |
|---------|---------------------|-------------------------|
| **–ñ–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª** | –ü—Ä–∏–≤'—è–∑–∞–Ω–∞ –¥–æ —Ä–µ—Å—É—Ä—Å—É | –ù–µ–∑–∞–ª–µ–∂–Ω–∞ |
| **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑ —Ä–µ—Å—É—Ä—Å–æ–º | –†—É—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è |
| **–í–∏–¥–∞–ª–µ–Ω–Ω—è** | –í–∏–¥–∞–ª—è—î—Ç—å—Å—è —Ä–∞–∑–æ–º —ñ–∑ —Ä–µ—Å—É—Ä—Å–æ–º | –ó–∞–ª–∏—à–∞—î—Ç—å—Å—è –ø—ñ—Å–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—É |
| **–°–ø—ñ–ª—å–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è** | –õ–∏—à–µ –æ–¥–∏–Ω —Ä–µ—Å—É—Ä—Å | –ö—ñ–ª—å–∫–∞ —Ä–µ—Å—É—Ä—Å—ñ–≤ |
| **–í–∏–ø–∞–¥–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è** | –ü—Ä–æ—Å—Ç–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π | –°–∫–ª–∞–¥–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó –∑ –∫—ñ–ª—å–∫–æ–º–∞ —Ä–µ—Å—É—Ä—Å–∞–º–∏ |
| **AZD –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º** | ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ | –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ |

---

## –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ –≤–∏–º–æ–≥–∏

### –ù–µ–æ–±—Ö—ñ–¥–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏

–í–∏ –≤–∂–µ –ø–æ–≤–∏–Ω–Ω—ñ –º–∞—Ç–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ —Ü—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö —É—Ä–æ–∫—ñ–≤:

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Azure Developer CLI
azd version
# ‚úÖ –û—á—ñ–∫—É–≤–∞–Ω–æ: azd –≤–µ—Ä—Å—ñ—ó 1.0.0 –∞–±–æ –≤–∏—â–µ

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Azure CLI
az --version
# ‚úÖ –û—á—ñ–∫—É–≤–∞–Ω–æ: azure-cli –≤–µ—Ä—Å—ñ—ó 2.50.0 –∞–±–æ –≤–∏—â–µ
```

### –í–∏–º–æ–≥–∏ Azure

- –ê–∫—Ç–∏–≤–Ω–∞ –ø—ñ–¥–ø–∏—Å–∫–∞ Azure
- –î–æ–∑–≤–æ–ª–∏ –Ω–∞:
  - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–µ—Ä–æ–≤–∞–Ω–∏—Ö —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–µ–π
  - –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–æ–ª–µ–π RBAC
  - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤ Key Vault
  - –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è Container Apps

### –ù–µ–æ–±—Ö—ñ–¥–Ω—ñ –∑–Ω–∞–Ω–Ω—è

–í–∏ –ø–æ–≤–∏–Ω–Ω—ñ –∑–∞–≤–µ—Ä—à–∏—Ç–∏:
- [–ü–æ—Å—ñ–±–Ω–∏–∫ –∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏](installation.md) - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è AZD
- [–û—Å–Ω–æ–≤–∏ AZD](azd-basics.md) - –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó
- [–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é](configuration.md) - –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

---

## –£—Ä–æ–∫ 1: –†–æ–∑—É–º—ñ–Ω–Ω—è —à–∞–±–ª–æ–Ω—ñ–≤ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

### –®–∞–±–ª–æ–Ω 1: –†—è–¥–∫–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è (–ó–∞—Å—Ç–∞—Ä—ñ–ª–∏–π - –£–Ω–∏–∫–∞—Ç–∏)

**–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:**
```bash
# –†—è–¥–æ–∫ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –º—ñ—Å—Ç–∏—Ç—å –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ
STORAGE_CONNECTION_STRING="DefaultEndpointsProtocol=https;AccountName=myaccount;AccountKey=xK7mN9pQ2wR5..."
COSMOS_CONNECTION_STRING="AccountEndpoint=https://myaccount.documents.azure.com:443/;AccountKey=C2x7..."
SQL_CONNECTION_STRING="Server=myserver.database.windows.net;User=admin;Password=P@ssw0rd..."
```

**–ü—Ä–æ–±–ª–µ–º–∏:**
- ‚ùå –°–µ–∫—Ä–µ—Ç–∏ –≤–∏–¥–Ω–æ —É –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
- ‚ùå –õ–æ–≥—É—é—Ç—å—Å—è –≤ —Å–∏—Å—Ç–µ–º–∞—Ö —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
- ‚ùå –°–∫–ª–∞–¥–Ω–æ –æ–±–µ—Ä—Ç–∞—Ç–∏
- ‚ùå –í—ñ–¥—Å—É—Ç–Ω—ñ–π –∂—É—Ä–Ω–∞–ª –¥–æ—Å—Ç—É–ø—É

**–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:** –¢—ñ–ª—å–∫–∏ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏, –Ω—ñ–∫–æ–ª–∏ —É –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ.

---

### –®–∞–±–ª–æ–Ω 2: –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ Key Vault (–ö—Ä–∞—â–µ)

**–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:**
```bicep
// Store secret in Key Vault
resource keyVault 'Microsoft.KeyVault/vaults@2023-02-01' = {
  name: 'mykv'
  properties: {
    enableRbacAuthorization: true
  }
}

// Reference in Container App
env: [
  {
    name: 'STORAGE_KEY'
    secretRef: 'storage-key'  // References Key Vault
  }
]
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ –°–µ–∫—Ä–µ—Ç–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –±–µ–∑–ø–µ—á–Ω–æ –≤ Key Vault
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç–∞–º–∏
- ‚úÖ –†–æ—Ç–∞—Ü—ñ—è –±–µ–∑ –∑–º—ñ–Ω —É –∫–æ–¥—ñ

**–û–±–º–µ–∂–µ–Ω–Ω—è:**
- ‚ö†Ô∏è –í—Å–µ —â–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –∫–ª—é—á—ñ/–ø–∞—Ä–æ–ª—ñ
- ‚ö†Ô∏è –ü–æ—Ç—Ä—ñ–±–Ω–æ –∫–µ—Ä—É–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø–æ–º –¥–æ Key Vault

**–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:** –ü–µ—Ä–µ—Ö—ñ–¥–Ω–∏–π –µ—Ç–∞–ø –≤—ñ–¥ —Ä—è–¥–∫—ñ–≤ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –∫–µ—Ä–æ–≤–∞–Ω–æ—ó —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ.

---

### –®–∞–±–ª–æ–Ω 3: –ö–µ—Ä–æ–≤–∞–Ω–∞ –Ü–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å (–ù–∞–π–∫—Ä–∞—â–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞)

**–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:**
```bicep
// Enable managed identity
resource containerApp 'Microsoft.App/containerApps@2023-05-01' = {
  name: 'myapp'
  identity: {
    type: 'SystemAssigned'  // Automatically creates identity
  }
}

// Grant permissions
resource roleAssignment 'Microsoft.Authorization/roleAssignments@2022-04-01' = {
  scope: storageAccount
  properties: {
    roleDefinitionId: storageBlobDataContributorRole
    principalId: containerApp.identity.principalId
  }
}
```

**–ö–æ–¥ –¥–æ–¥–∞—Ç–∫—É:**
```javascript
// –°–µ–∫—Ä–µ—Ç–∏ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ!
const { DefaultAzureCredential } = require('@azure/identity');
const { BlobServiceClient } = require('@azure/storage-blob');

const credential = new DefaultAzureCredential();
const blobServiceClient = new BlobServiceClient(
  'https://mystorageaccount.blob.core.windows.net',
  credential
);
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ –ñ–æ–¥–Ω–∏—Ö —Å–µ–∫—Ä–µ—Ç—ñ–≤ —É –∫–æ–¥—ñ/–∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Ä–æ—Ç–∞—Ü—ñ—è –æ–±–ª—ñ–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö
- ‚úÖ –ü–æ–≤–Ω–∏–π –∂—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç—É
- ‚úÖ –î–æ–∑–≤–æ–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤—ñ RBAC
- ‚úÖ –ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç—ñ

**–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:** –ó–∞–≤–∂–¥–∏, –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω-–¥–æ–¥–∞—Ç–∫—ñ–≤.

---

## –£—Ä–æ–∫ 2: –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –ö–µ—Ä–æ–≤–∞–Ω–æ—ó –Ü–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ –∑ AZD

### –ü–æ–∫—Ä–æ–∫–æ–≤–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è

–î–∞–≤–∞–π—Ç–µ —Å—Ç–≤–æ—Ä–∏–º–æ –±–µ–∑–ø–µ—á–Ω–∏–π Container App, —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∫–µ—Ä–æ–≤–∞–Ω—É —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ Azure Storage —Ç–∞ Key Vault.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
secure-app/
‚îú‚îÄ‚îÄ azure.yaml                 # AZD configuration
‚îú‚îÄ‚îÄ infra/
‚îÇ   ‚îú‚îÄ‚îÄ main.bicep            # Main infrastructure
‚îÇ   ‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ identity.bicep    # Managed identity setup
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ keyvault.bicep    # Key Vault configuration
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ storage.bicep     # Storage with RBAC
‚îÇ   ‚îî‚îÄ‚îÄ app/
‚îÇ       ‚îî‚îÄ‚îÄ container-app.bicep
‚îî‚îÄ‚îÄ src/
    ‚îú‚îÄ‚îÄ app.js                # Application code
    ‚îú‚îÄ‚îÄ package.json
    ‚îî‚îÄ‚îÄ Dockerfile
```

### 1. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è AZD (azure.yaml)

```yaml
name: secure-app
metadata:
  template: secure-app@1.0.0

services:
  api:
    project: ./src
    language: js
    host: containerapp

# Enable managed identity (AZD handles this automatically)
```

### 2. –Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞: –£–≤—ñ–º–∫–Ω–µ–Ω–Ω—è –ö–µ—Ä–æ–≤–∞–Ω–æ—ó –Ü–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ

**–§–∞–π–ª: `infra/main.bicep`**

```bicep
targetScope = 'subscription'

param environmentName string
param location string = 'eastus'

var tags = { 'azd-env-name': environmentName }

// Resource group
resource rg 'Microsoft.Resources/resourceGroups@2021-04-01' = {
  name: 'rg-${environmentName}'
  location: location
  tags: tags
}

// Storage Account
module storage './core/storage.bicep' = {
  name: 'storage'
  scope: rg
  params: {
    name: 'st${uniqueString(rg.id)}'
    location: location
    tags: tags
  }
}

// Key Vault
module keyVault './core/keyvault.bicep' = {
  name: 'keyvault'
  scope: rg
  params: {
    name: 'kv-${uniqueString(rg.id)}'
    location: location
    tags: tags
  }
}

// Container App with Managed Identity
module containerApp './app/container-app.bicep' = {
  name: 'container-app'
  scope: rg
  params: {
    name: 'ca-${environmentName}'
    location: location
    tags: tags
    storageAccountName: storage.outputs.name
    keyVaultName: keyVault.outputs.name
  }
}

// Grant Container App access to Storage
module storageRoleAssignment './core/role-assignment.bicep' = {
  name: 'storage-role'
  scope: rg
  params: {
    principalId: containerApp.outputs.identityPrincipalId
    roleDefinitionId: 'ba92f5b4-2d11-453d-a403-e96b0029c9fe'  // Storage Blob Data Contributor
    targetResourceId: storage.outputs.id
  }
}

// Grant Container App access to Key Vault
module kvRoleAssignment './core/role-assignment.bicep' = {
  name: 'kv-role'
  scope: rg
  params: {
    principalId: containerApp.outputs.identityPrincipalId
    roleDefinitionId: '4633458b-17de-408a-b874-0445c86b69e6'  // Key Vault Secrets User
    targetResourceId: keyVault.outputs.id
  }
}

// Outputs
output AZURE_STORAGE_ACCOUNT_NAME string = storage.outputs.name
output AZURE_KEY_VAULT_NAME string = keyVault.outputs.name
output APP_URL string = containerApp.outputs.url
```

### 3. Container App —ñ–∑ —Å–∏—Å—Ç–µ–º–Ω–æ-–ø—Ä–∏–∑–Ω–∞—á–µ–Ω–æ—é —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—é

**–§–∞–π–ª: `infra/app/container-app.bicep`**

```bicep
param name string
param location string
param tags object = {}
param storageAccountName string
param keyVaultName string

resource containerApp 'Microsoft.App/containerApps@2023-05-01' = {
  name: name
  location: location
  tags: tags
  identity: {
    type: 'SystemAssigned'  // üîë Enable managed identity
  }
  properties: {
    configuration: {
      ingress: {
        external: true
        targetPort: 3000
      }
    }
    template: {
      containers: [
        {
          name: 'api'
          image: 'myregistry.azurecr.io/api:latest'
          resources: {
            cpu: json('0.5')
            memory: '1Gi'
          }
          env: [
            {
              name: 'AZURE_STORAGE_ACCOUNT_NAME'
              value: storageAccountName
            }
            {
              name: 'AZURE_KEY_VAULT_NAME'
              value: keyVaultName
            }
            // üîë No secrets - managed identity handles authentication!
          ]
        }
      ]
    }
  }
}

// Output the identity for RBAC assignments
output identityPrincipalId string = containerApp.identity.principalId
output id string = containerApp.id
output url string = 'https://${containerApp.properties.configuration.ingress.fqdn}'
```

### 4. –ú–æ–¥—É–ª—å –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–æ–ª–µ–π RBAC

**–§–∞–π–ª: `infra/core/role-assignment.bicep`**

```bicep
param principalId string
param roleDefinitionId string  // Azure built-in role ID
param targetResourceId string

resource roleAssignment 'Microsoft.Authorization/roleAssignments@2022-04-01' = {
  name: guid(principalId, roleDefinitionId, targetResourceId)
  scope: resourceId('Microsoft.Resources/resourceGroups', resourceGroup().name)
  properties: {
    roleDefinitionId: subscriptionResourceId('Microsoft.Authorization/roleDefinitions', roleDefinitionId)
    principalId: principalId
    principalType: 'ServicePrincipal'
  }
}

output id string = roleAssignment.id
```

### 5. –ö–æ–¥ –¥–æ–¥–∞—Ç–∫—É –∑ –ö–µ—Ä–æ–≤–∞–Ω–æ—é –Ü–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—é

**–§–∞–π–ª: `src/app.js`**

```javascript
const express = require('express');
const { DefaultAzureCredential } = require('@azure/identity');
const { BlobServiceClient } = require('@azure/storage-blob');
const { SecretClient } = require('@azure/keyvault-secrets');

const app = express();
const PORT = process.env.PORT || 3000;

// üîë –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–π—Ç–µ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ (–ø—Ä–∞—Ü—é—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑ –∫–µ—Ä–æ–≤–∞–Ω–æ—é —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—é)
const credential = new DefaultAzureCredential();

// –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Azure Storage
const storageAccountName = process.env.AZURE_STORAGE_ACCOUNT_NAME;
const blobServiceClient = new BlobServiceClient(
  `https://${storageAccountName}.blob.core.windows.net`,
  credential  // –ö–ª—é—á—ñ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ!
);

// –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Key Vault
const keyVaultName = process.env.AZURE_KEY_VAULT_NAME;
const secretClient = new SecretClient(
  `https://${keyVaultName}.vault.azure.net`,
  credential  // –ö–ª—é—á—ñ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ!
);

// –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞–Ω—É
app.get('/health', (req, res) => {
  res.json({ status: 'healthy', authentication: 'managed-identity' });
});

// –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ñ–∞–π–ª —É —Å—Ö–æ–≤–∏—â–µ –±–ª–æ–±—ñ–≤
app.post('/upload', async (req, res) => {
  try {
    const containerClient = blobServiceClient.getContainerClient('uploads');
    await containerClient.createIfNotExists();
    
    const blobName = `file-${Date.now()}.txt`;
    const blockBlobClient = containerClient.getBlockBlobClient(blobName);
    
    await blockBlobClient.upload('Hello from managed identity!', 30);
    
    res.json({
      success: true,
      blobName: blobName,
      message: 'File uploaded using managed identity!'
    });
  } catch (error) {
    console.error('Upload error:', error);
    res.status(500).json({ error: error.message });
  }
});

// –û—Ç—Ä–∏–º–∞—Ç–∏ —Å–µ–∫—Ä–µ—Ç —ñ–∑ Key Vault
app.get('/secret/:name', async (req, res) => {
  try {
    const secretName = req.params.name;
    const secret = await secretClient.getSecret(secretName);
    
    res.json({
      name: secretName,
      value: secret.value,
      message: 'Secret retrieved using managed identity!'
    });
  } catch (error) {
    console.error('Secret error:', error);
    res.status(500).json({ error: error.message });
  }
});

// –°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ –±–ª–æ–±—ñ–≤ (–¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –¥–æ—Å—Ç—É–ø –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è)
app.get('/containers', async (req, res) => {
  try {
    const containers = [];
    for await (const container of blobServiceClient.listContainers()) {
      containers.push(container.name);
    }
    
    res.json({
      containers: containers,
      count: containers.length,
      message: 'Containers listed using managed identity!'
    });
  } catch (error) {
    console.error('List error:', error);
    res.status(500).json({ error: error.message });
  }
});

app.listen(PORT, () => {
  console.log(`Secure API listening on port ${PORT}`);
  console.log('Authentication: Managed Identity (passwordless)');
});
```

**–§–∞–π–ª: `src/package.json`**

```json
{
  "name": "secure-app",
  "version": "1.0.0",
  "dependencies": {
    "express": "^4.18.2",
    "@azure/identity": "^4.0.0",
    "@azure/storage-blob": "^12.17.0",
    "@azure/keyvault-secrets": "^4.7.0"
  },
  "scripts": {
    "start": "node app.js"
  }
}
```

### 6. –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

```bash
# –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ AZD
azd init

# –†–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞ –¥–æ–¥–∞—Ç–æ–∫
azd up

# –û—Ç—Ä–∏–º–∞—Ç–∏ URL –¥–æ–¥–∞—Ç–∫–∞
APP_URL=$(azd env get-values | grep APP_URL | cut -d '=' -f2 | tr -d '"')

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞–Ω –∑–¥–æ—Ä–æ–≤'—è
curl $APP_URL/health
```

**‚úÖ –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "status": "healthy",
  "authentication": "managed-identity"
}
```

**–¢–µ—Å—Ç –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –±–ª–æ–±—É:**
```bash
curl -X POST $APP_URL/upload
```

**‚úÖ –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "success": true,
  "blobName": "file-1700404800000.txt",
  "message": "File uploaded using managed identity!"
}
```

**–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤:**
```bash
curl $APP_URL/containers
```

**‚úÖ –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "containers": ["uploads"],
  "count": 1,
  "message": "Containers listed using managed identity!"
}
```

---

## –ó–∞–≥–∞–ª—å–Ω—ñ —Ä–æ–ª—ñ RBAC Azure

### –í–±—É–¥–æ–≤–∞–Ω—ñ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏ —Ä–æ–ª–µ–π –¥–ª—è –ö–µ—Ä–æ–≤–∞–Ω–æ—ó –Ü–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ

| –°–µ—Ä–≤—ñ—Å | –ù–∞–∑–≤–∞ —Ä–æ–ª—ñ | –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä —Ä–æ–ª—ñ | –î–æ–∑–≤–æ–ª–∏ |
|--------|------------|--------------------|---------|
| **Storage** | Storage Blob Data Reader | `2a2b9908-6b94-4a3d-8e5a-a7d8f8cc8a12` | –ß–∏—Ç–∞–Ω–Ω—è –±–ª–æ–±—ñ–≤ —ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ |
| **Storage** | Storage Blob Data Contributor | `ba92f5b4-2d11-453d-a403-e96b0029c9fe` | –ß–∏—Ç–∞–Ω–Ω—è, –∑–∞–ø–∏—Å, –≤–∏–¥–∞–ª–µ–Ω–Ω—è –±–ª–æ–±—ñ–≤ |
| **Storage** | Storage Queue Data Contributor | `974c5e8b-45b9-4653-ba55-5f855dd0fb88` | –ß–∏—Ç–∞–Ω–Ω—è, –∑–∞–ø–∏—Å, –≤–∏–¥–∞–ª–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —á–µ—Ä–≥–∏ |
| **Key Vault** | Key Vault Secrets User | `4633458b-17de-408a-b874-0445c86b69e6` | –ß–∏—Ç–∞–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç—ñ–≤ |
| **Key Vault** | Key Vault Secrets Officer | `b86a8fe4-44ce-4948-aee5-eccb2c155cd7` | –ß–∏—Ç–∞–Ω–Ω—è, –∑–∞–ø–∏—Å, –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç—ñ–≤ |
| **Cosmos DB** | Cosmos DB Built-in Data Reader | `00000000-0000-0000-0000-000000000001` | –ß–∏—Ç–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö Cosmos DB |
| **Cosmos DB** | Cosmos DB Built-in Data Contributor | `00000000-0000-0000-0000-000000000002` | –ß–∏—Ç–∞–Ω–Ω—è, –∑–∞–ø–∏—Å –¥–∞–Ω–∏—Ö Cosmos DB |
| **SQL Database** | SQL DB Contributor | `9b7fa17d-e63e-47b0-bb0a-15c516ac86ec` | –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –±–∞–∑–∞–º–∏ –¥–∞–Ω–∏—Ö SQL |
| **Service Bus** | Azure Service Bus Data Owner | `090c5cfd-751d-490a-894a-3ce6f1109419` | –ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è, –æ—Ç—Ä–∏–º–∞–Ω–Ω—è, —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º–∏ |

### –Ø–∫ –∑–Ω–∞–π—Ç–∏ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏ —Ä–æ–ª–µ–π

```bash
# –ü–µ—Ä–µ–ª—ñ—á–∏—Ç–∏ –≤—Å—ñ –≤–±—É–¥–æ–≤–∞–Ω—ñ —Ä–æ–ª—ñ
az role definition list --query "[].{Name:roleName, ID:name}" --output table

# –®—É–∫–∞—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É —Ä–æ–ª—å
az role definition list --query "[?contains(roleName, 'Storage Blob')].{Name:roleName, ID:name}" --output table

# –û—Ç—Ä–∏–º–∞—Ç–∏ –¥–µ—Ç–∞–ª—ñ —Ä–æ–ª—ñ
az role definition list --name "Storage Blob Data Contributor"
```

---

## –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –≤–ø—Ä–∞–≤–∏

### –í–ø—Ä–∞–≤–∞ 1: –£–≤—ñ–º–∫–Ω–µ–Ω–Ω—è –ö–µ—Ä–æ–≤–∞–Ω–æ—ó –Ü–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ –¥–ª—è —ñ—Å–Ω—É—é—á–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É ‚≠ê‚≠ê (–°–µ—Ä–µ–¥–Ω—è)

**–ú–µ—Ç–∞**: –î–æ–¥–∞—Ç–∏ –∫–µ—Ä–æ–≤–∞–Ω—É —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å –¥–æ —ñ—Å–Ω—É—é—á–æ–≥–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è Container App

**–°—Ü–µ–Ω–∞—Ä—ñ–π**: –£ –≤–∞—Å —î Container App, —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ä—è–¥–∫–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è. –ü–µ—Ä–µ—Ç–≤–æ—Ä—ñ—Ç—å –π–æ–≥–æ –Ω–∞ –∫–µ—Ä–æ–≤–∞–Ω—É —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å.

**–ü–æ—á–∞—Ç–∫–æ–≤–∞ —Ç–æ—á–∫–∞**: Container App –∑ —Ç–∞–∫–æ—é –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é:

```bicep
// ‚ùå Current: Using connection string
env: [
  {
    name: 'STORAGE_CONNECTION_STRING'
    secretRef: 'storage-connection'
  }
]
```

**–ö—Ä–æ–∫–∏**:

1. **–£–≤—ñ–º–∫–Ω—ñ—Ç—å –∫–µ—Ä–æ–≤–∞–Ω—É —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å —É Bicep:**

```bicep
resource containerApp 'Microsoft.App/containerApps@2023-05-01' = {
  name: 'myapp'
  identity: {
    type: 'SystemAssigned'  // Add this
  }
  // ... rest of configuration
}
```

2. **–ù–∞–¥–∞–π—Ç–µ –¥–æ—Å—Ç—É–ø –¥–æ Storage:**

```bicep
// Get storage account reference
resource storageAccount 'Microsoft.Storage/storageAccounts@2023-01-01' existing = {
  name: storageAccountName
}

// Assign role
resource roleAssignment 'Microsoft.Authorization/roleAssignments@2022-04-01' = {
  name: guid(containerApp.id, 'ba92f5b4-2d11-453d-a403-e96b0029c9fe', storageAccount.id)
  scope: storageAccount
  properties: {
    roleDefinitionId: subscriptionResourceId('Microsoft.Authorization/roleDefinitions', 'ba92f5b4-2d11-453d-a403-e96b0029c9fe')
    principalId: containerApp.identity.principalId
    principalType: 'ServicePrincipal'
  }
}
```

3. **–û–Ω–æ–≤—ñ—Ç—å –∫–æ–¥ –¥–æ–¥–∞—Ç–∫—É:**

**–î–æ (—Ä—è–¥–æ–∫ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è):**
```javascript
const { BlobServiceClient } = require('@azure/storage-blob');

const blobServiceClient = BlobServiceClient.fromConnectionString(
  process.env.STORAGE_CONNECTION_STRING
);
```

**–ü—ñ—Å–ª—è (–∫–µ—Ä–æ–≤–∞–Ω–∞ —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å):**
```javascript
const { DefaultAzureCredential } = require('@azure/identity');
const { BlobServiceClient } = require('@azure/storage-blob');

const credential = new DefaultAzureCredential();
const blobServiceClient = new BlobServiceClient(
  `https://${process.env.STORAGE_ACCOUNT_NAME}.blob.core.windows.net`,
  credential
);
```

4. **–û–Ω–æ–≤—ñ—Ç—å –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞:**

```bicep
env: [
  {
    name: 'STORAGE_ACCOUNT_NAME'
    value: storageAccountName  // Just the name, no secrets!
  }
  // Remove STORAGE_CONNECTION_STRING
]
```

5. **–†–æ–∑–≥–æ—Ä–Ω—ñ—Ç—å —ñ –ø—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ:**

```bash
# –ü–µ—Ä–µ—Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏
azd up

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ —Ü–µ –≤—Å–µ —â–µ –ø—Ä–∞—Ü—é—î
curl https://myapp.azurecontainerapps.io/upload
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É:**
- ‚úÖ –î–æ–¥–∞—Ç–æ–∫ —Ä–æ–∑–≥–æ—Ä—Ç–∞—î—Ç—å—Å—è –±–µ–∑ –ø–æ–º–∏–ª–æ–∫
- ‚úÖ –û–ø–µ—Ä–∞—Ü—ñ—ó –∑—ñ Storage –ø—Ä–∞—Ü—é—é—Ç—å (–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è, —Å–ø–∏—Å–æ–∫, –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è)
- ‚úÖ –ñ–æ–¥–Ω–∏—Ö —Ä—è–¥–∫—ñ–≤ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —É –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
- ‚úÖ –Ü–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å –≤–∏–¥–∏–º–∞ –≤ Azure Portal —É —Ä–æ–∑–¥—ñ–ª—ñ "Identity"

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:**

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ —É–≤—ñ–º–∫–Ω–µ–Ω–æ –∫–µ—Ä–æ–≤–∞–Ω—É —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å
az containerapp show \
  --name myapp \
  --resource-group rg-myapp \
  --query "identity.type"
# ‚úÖ –û—á—ñ–∫—É–≤–∞–Ω–æ: "SystemAssigned"

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–æ–ª—ñ
az role assignment list \
  --assignee $(az containerapp show --name myapp --resource-group rg-myapp --query "identity.principalId" -o tsv) \
  --scope /subscriptions/{sub-id}/resourceGroups/rg-myapp/providers/Microsoft.Storage/storageAccounts/mystorageaccount
# ‚úÖ –û—á—ñ–∫—É–≤–∞–Ω–æ: –ü–æ–∫–∞–∑—É—î —Ä–æ–ª—å "Storage Blob Data Contributor"
```

**–ß–∞—Å**: 20-30 —Ö–≤–∏–ª–∏–Ω

---

### –í–ø—Ä–∞–≤–∞ 2: –î–æ—Å—Ç—É–ø –¥–æ –∫—ñ–ª—å–∫–æ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤ —ñ–∑ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–æ-–ø—Ä–∏–∑–Ω–∞—á–µ–Ω–æ—é —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—é ‚≠ê‚≠ê‚≠ê (–°–∫–ª–∞–¥–Ω–∞)

**–ú–µ—Ç–∞**: –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–æ-–ø—Ä–∏–∑–Ω–∞—á–µ–Ω—É —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å, —è–∫—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –∫—ñ–ª—å–∫–∞ Container Apps

**–°—Ü–µ–Ω–∞—Ä—ñ–π**: –£ –≤–∞—Å —î 3 –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å–∏, —è–∫—ñ –≤—Å—ñ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –¥–æ—Å—Ç—É–ø—É –¥–æ –æ–¥–Ω–æ–≥–æ Storage-–∞–∫–∞—É–Ω—Ç—É —Ç–∞ Key Vault.

**–ö—Ä–æ–∫–∏**:

1. **–°—Ç–≤–æ—Ä—ñ—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–æ-–ø—Ä–∏–∑–Ω–∞—á–µ–Ω—É —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å:**

**–§–∞–π–ª: `infra/core/identity.bicep`**

```bicep
param name string
param location string
param tags object = {}

resource userAssignedIdentity 'Microsoft.ManagedIdentity/userAssignedIdentities@2023-01-31' = {
  name: name
  location: location
  tags: tags
}

output id string = userAssignedIdentity.id
output principalId string = userAssignedIdentity.properties.principalId
output clientId string = userAssignedIdentity.properties.clientId
```

2. **–ü—Ä–∏–∑–Ω–∞—á—Ç–µ —Ä–æ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–æ-–ø—Ä–∏–∑–Ω–∞—á–µ–Ω—ñ–π —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ:**

```bicep
// In main.bicep
module userIdentity './core/identity.bicep' = {
  name: 'user-identity'
  scope: rg
  params: {
    name: 'id-${environmentName}'
    location: location
    tags: tags
  }
}

// Grant Storage access
resource storageRoleAssignment 'Microsoft.Authorization/roleAssignments@2022-04-01' = {
  name: guid(userIdentity.outputs.principalId, 'storage-contributor')
  scope: storageAccount
  properties: {
    roleDefinitionId: subscriptionResourceId('Microsoft.Authorization/roleDefinitions', 'ba92f5b4-2d11-453d-a403-e96b0029c9fe')
    principalId: userIdentity.outputs.principalId
    principalType: 'ServicePrincipal'
  }
}

// Grant Key Vault access
resource kvRoleAssignment 'Microsoft.Authorization/roleAssignments@2022-04-01' = {
  name: guid(userIdentity.outputs.principalId, 'kv-secrets-user')
  scope: keyVault
  properties: {
    roleDefinitionId: subscriptionResourceId('Microsoft.Authorization/roleDefinitions', '4633458b-17de-408a-b874-0445c86b69e6')
    principalId: userIdentity.outputs.principalId
    principalType: 'ServicePrincipal'
  }
}
```

3. **–ü—Ä–∏–∑–Ω–∞—á—Ç–µ —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å –∫—ñ–ª—å–∫–æ–º Container Apps:**

```bicep
resource apiGateway 'Microsoft.App/containerApps@2023-05-01' = {
  name: 'api-gateway'
  identity: {
    type: 'UserAssigned'
    userAssignedIdentities: {
      '${userIdentity.outputs.id}': {}
    }
  }
  // ... rest of config
}

resource productService 'Microsoft.App/containerApps@2023-05-01' = {
  name: 'product-service'
  identity: {
    type: 'UserAssigned'
    userAssignedIdentities: {
      '${userIdentity.outputs.id}': {}
    }
  }
  // ... rest of config
}

resource orderService 'Microsoft.App/containerApps@2023-05-01' = {
  name: 'order-service'
  identity: {
    type: 'UserAssigned'
    userAssignedIdentities: {
      '${userIdentity.outputs.id}': {}
    }
  }
  // ... rest of config
}
```

4. **–ö–æ–¥ –¥–æ–¥–∞—Ç–∫—É (—É—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤–∏–π —à–∞–±–ª–æ–Ω):**

```javascript
const { DefaultAzureCredential, ManagedIdentityCredential } = require('@azure/identity');

// –î–ª—è –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–æ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ –≤–∫–∞–∂—ñ—Ç—å —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∫–ª—ñ—î–Ω—Ç–∞
const credential = new ManagedIdentityCredential(
  process.env.AZURE_CLIENT_ID  // –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∫–ª—ñ—î–Ω—Ç–∞ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–æ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ
);

// –ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ DefaultAzureCredential (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏—è–≤–ª–µ–Ω–Ω—è)
const credential = new DefaultAzureCredential();

const blobServiceClient = new BlobServiceClient(
  `https://${process.env.STORAGE_ACCOUNT_NAME}.blob.core.windows.net`,
  credential
);
```

5. **–†–æ–∑–≥–æ—Ä–Ω—ñ—Ç—å —ñ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ:**

```bash
azd up

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –≤—Å—ñ —Å–ª—É–∂–±–∏ –º–æ–∂—É—Ç—å –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ —Å—Ö–æ–≤–∏—â–∞
curl https://api-gateway.azurecontainerapps.io/upload
curl https://product-service.azurecontainerapps.io/upload
curl https://order-service.azurecontainerapps.io/upload
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É:**
- ‚úÖ –û–¥–Ω–∞ —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è 3 —Å–µ—Ä–≤—ñ—Å–∞–º–∏
- ‚úÖ –£—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏ –º–∞—é—Ç—å –¥–æ—Å—Ç—É–ø –¥–æ Storage —Ç–∞ Key Vault
- ‚úÖ –Ü–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è, —è–∫—â–æ –≤–∏ –≤–∏–¥–∞–ª–∏—Ç–µ –æ–¥–∏–Ω —Å–µ—Ä–≤—ñ—Å
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–æ–∑–≤–æ–ª–∞–º–∏

**–ü–µ—Ä–µ–≤–∞–≥–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–æ-–ø—Ä–∏–∑–Ω–∞—á–µ–Ω–æ—ó —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ:**
- –û–¥–Ω–∞ —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
- –£–∑–≥–æ–¥–∂–µ–Ω—ñ –¥–æ–∑–≤–æ–ª–∏ –¥–ª—è —Å–µ—Ä–≤—ñ—Å—ñ–≤
- –ó–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –ø—ñ—Å–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Å–µ—Ä–≤—ñ—Å—É
- –ö—Ä–∞—â–µ –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä

**–ß–∞—Å**: 30-40 —Ö–≤–∏–ª–∏–Ω

---

### –í–ø—Ä–∞–≤–∞ 3: –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ä–æ—Ç–∞—Ü—ñ—ó —Å–µ–∫—Ä–µ—Ç—ñ–≤ —É Key Vault ‚≠ê‚≠ê‚≠ê (–°–∫–ª–∞–¥–Ω–∞)

**–ú–µ—Ç–∞**: –ó–±–µ—Ä—ñ–≥–∞—Ç–∏ API-–∫–ª—é—á—ñ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤ —É Key Vault —Ç–∞ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —ó—Ö –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∫–µ—Ä–æ–≤–∞–Ω–æ—ó —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ

**–°—Ü–µ–Ω–∞—Ä—ñ–π**: –í–∞—à –¥–æ–¥–∞—Ç–æ–∫ –ø–æ–≤–∏–Ω–µ–Ω –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –∑–æ–≤–Ω—ñ—à–Ω—ñ–π API (OpenAI, Stripe, SendGrid), —è–∫–∏–π –≤–∏–º–∞–≥–∞—î API-–∫–ª—é—á—ñ–≤.

**–ö—Ä–æ–∫–∏**:

1. **–°—Ç–≤–æ—Ä—ñ—Ç—å Key Vault —ñ–∑ RBAC:**

**–§–∞–π–ª: `infra/core/keyvault.bicep`**

```bicep
param name string
param location string
param tags object = {}

resource keyVault 'Microsoft.KeyVault/vaults@2023-02-01' = {
  name: name
  location: location
  tags: tags
  properties: {
    enableRbacAuthorization: true  // Use RBAC instead of access policies
    sku: {
      family: 'A'
      name: 'standard'
    }
    tenantId: subscription().tenantId
    enableSoftDelete: true
    softDeleteRetentionInDays: 90
  }
}

// Allow Container App to read secrets
output id string = keyVault.id
output name string = keyVault.name
output uri string = keyVault.properties.vaultUri
```

2. **–ó–±–µ—Ä–µ–∂—ñ—Ç—å —Å–µ–∫—Ä–µ—Ç–∏ –≤ Key Vault:**

```bash
# –û—Ç—Ä–∏–º–∞—Ç–∏ –Ω–∞–∑–≤—É Key Vault
KV_NAME=$(azd env get-values | grep AZURE_KEY_VAULT_NAME | cut -d '=' -f2 | tr -d '"')

# –ó–±–µ—Ä—ñ–≥–∞—Ç–∏ –∫–ª—é—á—ñ API —Å—Ç–æ—Ä–æ–Ω–Ω—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
az keyvault secret set \
  --vault-name $KV_NAME \
  --name "OpenAI-ApiKey" \
  --value "sk-proj-xxxxxxxxxxxxx"

az keyvault secret set \
  --vault-name $KV_NAME \
  --name "Stripe-ApiKey" \
  --value "sk_live_xxxxxxxxxxxxx"

az keyvault secret set \
  --vault-name $KV_NAME \
  --name "SendGrid-ApiKey" \
  --value "SG.xxxxxxxxxxxxx"
```

3. **–ö–æ–¥ –¥–æ–¥–∞—Ç–∫—É –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç—ñ–≤:**

**–§–∞–π–ª: `src/config.js`**

```javascript
const { DefaultAzureCredential } = require('@azure/identity');
const { SecretClient } = require('@azure/keyvault-secrets');

class Config {
  constructor() {
    this.credential = new DefaultAzureCredential();
    this.secretClient = new SecretClient(
      `https://${process.env.AZURE_KEY_VAULT_NAME}.vault.azure.net`,
      this.credential
    );
    this.cache = {};
  }

  async getSecret(secretName) {
    // –°–ø–æ—á–∞—Ç–∫—É –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–µ—à
    if (this.cache[secretName]) {
      return this.cache[secretName];
    }

    try {
      const secret = await this.secretClient.getSecret(secretName);
      this.cache[secretName] = secret.value;
      console.log(`‚úÖ Retrieved secret: ${secretName}`);
      return secret.value;
    } catch (error) {
      console.error(`‚ùå Failed to get secret ${secretName}:`, error.message);
      throw error;
    }
  }

  async getOpenAIKey() {
    return this.getSecret('OpenAI-ApiKey');
  }

  async getStripeKey() {
    return this.getSecret('Stripe-ApiKey');
  }

  async getSendGridKey() {
    return this.getSecret('SendGrid-ApiKey');
  }
}

module.exports = new Config();
```

4. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å–µ–∫—Ä–µ—Ç–∏ –≤ –¥–æ–¥–∞—Ç–∫—É:**

**–§–∞–π–ª: `src/app.js`**

```javascript
const express = require('express');
const config = require('./config');
const { OpenAI } = require('openai');

const app = express();

// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ OpenAI –∑ –∫–ª—é—á–µ–º —ñ–∑ Key Vault
let openaiClient;

async function initializeServices() {
  const openaiKey = await config.getOpenAIKey();
  openaiClient = new OpenAI({ apiKey: openaiKey });
  console.log('‚úÖ Services initialized with secrets from Key Vault');
}

// –í–∏–∫–ª–∏–∫–∞—Ç–∏ –ø—ñ–¥ —á–∞—Å –∑–∞–ø—É—Å–∫—É
initializeServices().catch(console.error);

app.post('/chat', async (req, res) => {
  try {
    const completion = await openaiClient.chat.completions.create({
      model: 'gpt-4',
      messages: [{ role: 'user', content: 'Hello!' }]
    });
    
    res.json({
      response: completion.choices[0].message.content,
      authentication: 'Key from Key Vault via Managed Identity'
    });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

app.listen(3000, () => {
  console.log('Secure API with Key Vault integration running');
});
```

5. **–†–æ–∑–≥–æ—Ä–Ω—ñ—Ç—å —ñ –ø—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ:**

```bash
azd up

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –ø—Ä–∞—Ü—é—é—Ç—å –∫–ª—é—á—ñ API
curl -X POST https://myapp.azurecontainerapps.io/chat \
  -H "Content-Type: application/json" \
  -d '{"message":"Hello AI"}'
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É:**
- ‚úÖ –ñ–æ–¥–Ω–∏—Ö API-–∫–ª—é—á—ñ–≤ —É –∫–æ–¥—ñ —á–∏ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
- ‚úÖ –î–æ–¥–∞—Ç–æ–∫ –æ—Ç—Ä–∏–º—É—î –∫–ª—é—á—ñ –∑ Key Vault
- ‚úÖ –°—Ç–æ—Ä–æ–Ω–Ω—ñ API –ø—Ä–∞—Ü—é—é—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ú–æ–∂–Ω–∞ –æ–±–µ—Ä—Ç–∞—Ç–∏ –∫–ª—é—á—ñ –±–µ–∑ –∑–º—ñ–Ω —É –∫–æ–¥—ñ

**–û–±–µ—Ä—Ç–∞–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç—É:**

```bash
# –û–Ω–æ–≤–∏—Ç–∏ —Å–µ–∫—Ä–µ—Ç —É Key Vault
az keyvault secret set \
  --vault-name $KV_NAME \
  --name "OpenAI-ApiKey" \
  --value "sk-proj-NEW_KEY_HERE"

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫, —â–æ–± –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –Ω–æ–≤–∏–π –∫–ª—é—á
az containerapp revision restart \
  --name myapp \
  --resource-group rg-myapp
```

**–ß–∞—Å**: 25-35 —Ö–≤–∏–ª–∏–Ω

---

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∏–π –ø—É–Ω–∫—Ç –∑–Ω–∞–Ω—å

### 1. –®–∞–±–ª–æ–Ω–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó ‚úì

–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å–≤–æ—ó –∑–Ω–∞–Ω–Ω—è:

- [ ] **Q1**: –Ø–∫—ñ —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ñ —à–∞–±–ª–æ–Ω–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó? 
  - **A**: –†—è–¥–∫–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è (–∑–∞—Å—Ç–∞—Ä—ñ–ª–∏–π), –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ Key Vault (–ø–µ—Ä–µ—Ö—ñ–¥–Ω–∏–π), –ö–µ—Ä–æ–≤–∞–Ω–∞ –Ü–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å (–Ω–∞–π–∫—Ä–∞—â–∏–π)

- [ ] **Q2**: –ß–æ–º—É –∫–µ—Ä–æ–≤–∞–Ω–∞ —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å –∫—Ä–∞—â–∞ –∑–∞ —Ä—è–¥–∫–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è?
  - **A**: –ñ–æ–¥–Ω–∏—Ö —Å–µ–∫—Ä–µ—Ç—ñ–≤ —É –∫–æ–¥—ñ, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Ä–æ—Ç–∞—Ü—ñ—è, –ø–æ–≤–Ω–∏–π –∂—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç—É, –¥–æ–∑–≤–æ–ª–∏ RBAC

- [ ] **Q3**: –ö–æ–ª–∏ —Å–ª—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–æ-–ø—Ä–∏–∑–Ω–∞—á–µ–Ω—É —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å –∑–∞–º—ñ—Å—Ç—å —Å–∏—Å—Ç–µ–º–Ω–æ-–ø—Ä–∏–∑–Ω–∞—á–µ–Ω–æ—ó?
  - **A**: –ö–æ–ª–∏ —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∫—ñ–ª—å–∫–æ–º–∞ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –∞–±–æ –∫–æ–ª–∏ –∂–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ –Ω–µ–∑–∞–ª–µ–∂–Ω–∏–π –≤—ñ–¥ —Ä–µ—Å—É—Ä—Å—É

**–ü—Ä–∞–∫—Ç–∏—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞:**
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —è–∫–∏–π —Ç–∏–ø —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –≤–∞—à –¥–æ–¥–∞—Ç–æ–∫
az containerapp show \
  --name myapp \
  --resource-group rg-myapp \
  --query "identity.type"

# –ü–µ—Ä–µ–ª—ñ—á—ñ—Ç—å —É—Å—ñ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–æ–ª–µ–π –¥–ª—è —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ
az role assignment list \
  --assignee $(az containerapp show --name myapp --resource-group rg-myapp --query "identity.principalId" -o tsv)
```

---

### 2. RBAC —Ç–∞ –¥–æ–∑–≤–æ–ª–∏ ‚úì

–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å–≤–æ—ó –∑–Ω–∞–Ω–Ω—è:

- [ ] **Q1**: –Ø–∫–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä —Ä–æ–ª—ñ –¥–ª—è "Storage Blob Data Contributor"?
  - **A**: `ba92f5b4-2d11-453d-a403-e96b0029c9fe`

- [ ] **Q2**: –Ø–∫—ñ –¥–æ–∑–≤–æ–ª–∏ –Ω–∞–¥–∞—î "Key Vault Secrets User"?
  - **A**: –î–æ—Å—Ç—É–ø –ª–∏—à–µ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç—ñ–≤ (–Ω–µ –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏, –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ —á–∏ –≤–∏–¥–∞–ª—è—Ç–∏)

- [ ] **Q3**: –Ø–∫ –Ω–∞–¥–∞—Ç–∏ Container App –¥–æ—Å—Ç—É–ø –¥–æ Azure SQL?
  - **A**: –ü—Ä–∏–∑–Ω–∞—á–∏—Ç–∏ —Ä–æ–ª—å "SQL DB Contributor" –∞–±–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é Azure AD –¥–ª—è SQL

**–ü—Ä–∞–∫—Ç–∏—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
- [ ] **Q1**: –Ø–∫ —É–≤—ñ–º–∫–Ω—É—Ç–∏ RBAC –¥–ª—è Key Vault –∑–∞–º—ñ—Å—Ç—å –ø–æ–ª—ñ—Ç–∏–∫ –¥–æ—Å—Ç—É–ø—É?
  - **A**: –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å `enableRbacAuthorization: true` —É Bicep

- [ ] **Q2**: –Ø–∫–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ Azure SDK –æ–±—Ä–æ–±–ª—è—î –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∫–µ—Ä–æ–≤–∞–Ω–æ—ó —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ?
  - **A**: `@azure/identity` –∑ –∫–ª–∞—Å–æ–º `DefaultAzureCredential`

- [ ] **Q3**: –Ø–∫ –¥–æ–≤–≥–æ —Å–µ–∫—Ä–µ—Ç–∏ Key Vault –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –≤ –∫–µ—à—ñ?
  - **A**: –ó–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –ø—Ä–æ–≥—Ä–∞–º–∏; —Ä–µ–∞–ª—ñ–∑—É–π—Ç–µ –≤–ª–∞—Å–Ω—É —Å—Ç—Ä–∞—Ç–µ–≥—ñ—é –∫–µ—à—É–≤–∞–Ω–Ω—è

**–ü—Ä–∞–∫—Ç–∏—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞:**
```bash
# –¢–µ—Å—Ç –¥–æ—Å—Ç—É–ø—É –¥–æ Key Vault
az keyvault secret show \
  --vault-name $KV_NAME \
  --name "OpenAI-ApiKey" \
  --query "value"

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ —É–≤—ñ–º–∫–Ω–µ–Ω–æ RBAC
az keyvault show \
  --name $KV_NAME \
  --query "properties.enableRbacAuthorization"
# ‚úÖ –û—á—ñ–∫—É–≤–∞–Ω–æ: true
```

---

## –ù–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏ –±–µ–∑–ø–µ–∫–∏

### ‚úÖ –†–û–ë–Ü–¢–¨:

1. **–ó–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–µ—Ä–æ–≤–∞–Ω—É —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å —É –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ**
   ```bicep
   identity: {
     type: 'SystemAssigned'
   }
   ```

2. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ä–æ–ª—ñ RBAC –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º–∏ –ø—Ä–∏–≤—ñ–ª–µ—è–º–∏**
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ä–æ–ª—ñ "Reader", –∫–æ–ª–∏ —Ü–µ –º–æ–∂–ª–∏–≤–æ
   - –£–Ω–∏–∫–∞–π—Ç–µ —Ä–æ–ª–µ–π "Owner" –∞–±–æ "Contributor", —è–∫—â–æ —Ü–µ –Ω–µ –æ–±–æ–≤'—è–∑–∫–æ–≤–æ

3. **–ó–±–µ—Ä—ñ–≥–∞–π—Ç–µ –∫–ª—é—á—ñ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤ —É Key Vault**
   ```javascript
   const apiKey = await secretClient.getSecret('ThirdPartyApiKey');
   ```

4. **–£–≤—ñ–º–∫–Ω—ñ—Ç—å –∞—É–¥–∏—Ç –ª–æ–≥—ñ–≤**
   ```bicep
   diagnosticSettings: {
     logs: [{ category: 'AuditEvent', enabled: true }]
   }
   ```

5. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ä—ñ–∑–Ω—ñ —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ –¥–ª—è dev/staging/prod**
   ```bash
   azd env new dev
   azd env new staging
   azd env new prod
   ```

6. **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–µ—Ä—Ç–∞–π—Ç–µ —Å–µ–∫—Ä–µ—Ç–∏**
   - –í—Å—Ç–∞–Ω–æ–≤–ª—é–π—Ç–µ –¥–∞—Ç–∏ –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è —Ç–µ—Ä–º—ñ–Ω—É –¥—ñ—ó –¥–ª—è —Å–µ–∫—Ä–µ—Ç—ñ–≤ Key Vault
   - –ê–≤—Ç–æ–º–∞—Ç–∏–∑—É–π—Ç–µ –æ–±–µ—Ä—Ç–∞–Ω–Ω—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Azure Functions

### ‚ùå –ù–ï –†–û–ë–Ü–¢–¨:

1. **–ù—ñ–∫–æ–ª–∏ –Ω–µ —Ö–∞—Ä–¥–∫–æ–¥—å—Ç–µ —Å–µ–∫—Ä–µ—Ç–∏**
   ```javascript
   // ‚ùå –ü–û–ì–ê–ù–û
   const apiKey = "sk-proj-xxxxxxxxxxxxx";
   ```

2. **–ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ä—è–¥–∫–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —É –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ**
   ```javascript
   // ‚ùå –ü–û–ì–ê–ù–û
   BlobServiceClient.fromConnectionString(process.env.STORAGE_CONNECTION_STRING)
   ```

3. **–ù–µ –Ω–∞–¥–∞–≤–∞–π—Ç–µ –Ω–∞–¥–º—ñ—Ä–Ω–∏—Ö –¥–æ–∑–≤–æ–ª—ñ–≤**
   ```bicep
   // ‚ùå BAD - too much access
   roleDefinitionId: 'Owner'
   
   // ‚úÖ GOOD - least privilege
   roleDefinitionId: 'Storage Blob Data Reader'
   ```

4. **–ù–µ –ª–æ–≥—É–π—Ç–µ —Å–µ–∫—Ä–µ—Ç–∏**
   ```javascript
   // ‚ùå –ü–û–ì–ê–ù–û
   console.log('API Key:', apiKey);
   
   // ‚úÖ –î–û–ë–†–ï
   console.log('API Key retrieved successfully');
   ```

5. **–ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –æ–¥–Ω–∞–∫–æ–≤—ñ —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É —Ç–∞ —ñ–Ω—à–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â**
   ```bicep
   // ‚ùå BAD - same identity for dev and prod
   // ‚úÖ GOOD - separate identities per environment
   ```

---

## –ü–æ—Å—ñ–±–Ω–∏–∫ –∑ —É—Å—É–Ω–µ–Ω–Ω—è –Ω–µ—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π

### –ü—Ä–æ–±–ª–µ–º–∞: "Unauthorized" –ø—Ä–∏ –¥–æ—Å—Ç—É–ø—ñ –¥–æ Azure Storage

**–°–∏–º–ø—Ç–æ–º–∏:**
```
Error: Unauthorized (403)
AuthorizationPermissionMismatch: This request is not authorized to perform this operation
```

**–î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ —É–≤—ñ–º–∫–Ω–µ–Ω–æ –∫–µ—Ä–æ–≤–∞–Ω—É —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å
az containerapp show \
  --name myapp \
  --resource-group rg-myapp \
  --query "identity.type"
# ‚úÖ –û—á—ñ–∫—É–≤–∞–Ω–æ: "SystemAssigned" –∞–±–æ "UserAssigned"

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–æ–ª–µ–π
PRINCIPAL_ID=$(az containerapp show --name myapp --resource-group rg-myapp --query "identity.principalId" -o tsv)
az role assignment list --assignee $PRINCIPAL_ID

# –û—á—ñ–∫—É–≤–∞–Ω–æ: –ü–æ–≤–∏–Ω–Ω–∞ –±—É—Ç–∏ —Ä–æ–ª—å "Storage Blob Data Contributor" –∞–±–æ –ø–æ–¥—ñ–±–Ω–∞
```

**–†—ñ—à–µ–Ω–Ω—è:**

1. **–ù–∞–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—É —Ä–æ–ª—å RBAC:**
```bash
STORAGE_ID=$(az storage account show --name mystorageaccount --resource-group rg-myapp --query "id" -o tsv)
az role assignment create \
  --assignee $PRINCIPAL_ID \
  --role "Storage Blob Data Contributor" \
  --scope $STORAGE_ID
```

2. **–ó–∞—á–µ–∫–∞–π—Ç–µ –Ω–∞ –ø–æ—à–∏—Ä–µ–Ω–Ω—è (–º–æ–∂–µ –∑–∞–π–Ω—è—Ç–∏ 5-10 —Ö–≤–∏–ª–∏–Ω):**
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–∞—Ç—É—Å –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–æ–ª—ñ
az role assignment list --assignee $PRINCIPAL_ID --scope $STORAGE_ID
```

3. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∫–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ:**
```javascript
// –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ DefaultAzureCredential
const credential = new DefaultAzureCredential();
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: –í—ñ–¥–º–æ–≤–ª–µ–Ω–æ –≤ –¥–æ—Å—Ç—É–ø—ñ –¥–æ Key Vault

**–°–∏–º–ø—Ç–æ–º–∏:**
```
Error: Forbidden (403)
The user, group or application does not have secrets get permission
```

**–î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ —É–≤—ñ–º–∫–Ω–µ–Ω–æ RBAC –¥–ª—è Key Vault
az keyvault show \
  --name $KV_NAME \
  --query "properties.enableRbacAuthorization"
# ‚úÖ –û—á—ñ–∫—É–≤–∞–Ω–æ: true

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–æ–ª–µ–π
az role assignment list \
  --assignee $PRINCIPAL_ID \
  --scope /subscriptions/{sub-id}/resourceGroups/rg-myapp/providers/Microsoft.KeyVault/vaults/$KV_NAME
```

**–†—ñ—à–µ–Ω–Ω—è:**

1. **–£–≤—ñ–º–∫–Ω—ñ—Ç—å RBAC –¥–ª—è Key Vault:**
```bash
az keyvault update \
  --name $KV_NAME \
  --enable-rbac-authorization true
```

2. **–ù–∞–¥–∞–π—Ç–µ —Ä–æ–ª—å Key Vault Secrets User:**
```bash
KV_ID=$(az keyvault show --name $KV_NAME --query "id" -o tsv)
az role assignment create \
  --assignee $PRINCIPAL_ID \
  --role "Key Vault Secrets User" \
  --scope $KV_ID
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: DefaultAzureCredential –Ω–µ –ø—Ä–∞—Ü—é—î –ª–æ–∫–∞–ª—å–Ω–æ

**–°–∏–º–ø—Ç–æ–º–∏:**
```
Error: DefaultAzureCredential failed to retrieve a token
CredentialUnavailableError: No credential available
```

**–î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –≤–∏ —É–≤—ñ–π—à–ª–∏ –≤ —Å–∏—Å—Ç–µ–º—É
az account show

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é Azure CLI
az ad signed-in-user show
```

**–†—ñ—à–µ–Ω–Ω—è:**

1. **–£–≤—ñ–π–¥—ñ—Ç—å —É Azure CLI:**
```bash
az login
```

2. **–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –ø—ñ–¥–ø–∏—Å–∫—É Azure:**
```bash
az account set --subscription "Your Subscription Name"
```

3. **–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞:**
```bash
export AZURE_TENANT_ID="your-tenant-id"
export AZURE_CLIENT_ID="your-client-id"
export AZURE_CLIENT_SECRET="your-client-secret"
```

4. **–ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —ñ–Ω—à—ñ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ –ª–æ–∫–∞–ª—å–Ω–æ:**
```javascript
const { DefaultAzureCredential, AzureCliCredential } = require('@azure/identity');

// –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ AzureCliCredential –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏
const credential = process.env.NODE_ENV === 'production' 
  ? new DefaultAzureCredential()
  : new AzureCliCredential();
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–æ–ª—ñ –∑–∞–π–º–∞—î –∑–∞–Ω–∞–¥—Ç–æ –±–∞–≥–∞—Ç–æ —á–∞—Å—É –¥–ª—è –ø–æ—à–∏—Ä–µ–Ω–Ω—è

**–°–∏–º–ø—Ç–æ–º–∏:**
- –†–æ–ª—å —É—Å–ø—ñ—à–Ω–æ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∞
- –í—Å–µ —â–µ –æ—Ç—Ä–∏–º—É—î—Ç–µ –ø–æ–º–∏–ª–∫–∏ 403
- –ü–µ—Ä—ñ–æ–¥–∏—á–Ω–∏–π –¥–æ—Å—Ç—É–ø (—ñ–Ω–æ–¥—ñ –ø—Ä–∞—Ü—é—î, —ñ–Ω–æ–¥—ñ –Ω—ñ)

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**
–ó–º—ñ–Ω–∏ –≤ Azure RBAC –º–æ–∂—É—Ç—å –∑–∞–π–º–∞—Ç–∏ 5-10 —Ö–≤–∏–ª–∏–Ω –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –ø–æ—à–∏—Ä–µ–Ω–Ω—è.

**–†—ñ—à–µ–Ω–Ω—è:**

```bash
# –ó–∞—á–µ–∫–∞–π—Ç–µ —ñ –ø–æ–≤—Ç–æ—Ä—ñ—Ç—å —Å–ø—Ä–æ–±—É
echo "Waiting for RBAC propagation..."
sleep 300  # –ó–∞—á–µ–∫–∞–π—Ç–µ 5 —Ö–≤–∏–ª–∏–Ω

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –¥–æ—Å—Ç—É–ø
curl https://myapp.azurecontainerapps.io/upload

# –Ø–∫—â–æ –≤—Å–µ —â–µ –Ω–µ –ø—Ä–∞—Ü—é—î, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å –¥–æ–¥–∞—Ç–æ–∫
az containerapp revision restart \
  --name myapp \
  --resource-group rg-myapp
```

---

## –í–∏—Ç—Ä–∞—Ç–∏

### –í–∏—Ç—Ä–∞—Ç–∏ –Ω–∞ –∫–µ—Ä–æ–≤–∞–Ω—É —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å

| –†–µ—Å—É—Ä—Å | –í–∞—Ä—Ç—ñ—Å—Ç—å |
|--------|----------|
| **–ö–µ—Ä–æ–≤–∞–Ω–∞ —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å** | üÜì **–ë–ï–ó–ö–û–®–¢–û–í–ù–û** - –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ |
| **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–æ–ª–µ–π RBAC** | üÜì **–ë–ï–ó–ö–û–®–¢–û–í–ù–û** - –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ |
| **–ó–∞–ø–∏—Ç–∏ —Ç–æ–∫–µ–Ω—ñ–≤ Azure AD** | üÜì **–ë–ï–ó–ö–û–®–¢–û–í–ù–û** - –í–∫–ª—é—á–µ–Ω–æ |
| **–û–ø–µ—Ä–∞—Ü—ñ—ó Key Vault** | $0.03 –∑–∞ 10,000 –æ–ø–µ—Ä–∞—Ü—ñ–π |
| **–ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è Key Vault** | $0.024 –∑–∞ —Å–µ–∫—Ä–µ—Ç –Ω–∞ –º—ñ—Å—è—Ü—å |

**–ö–µ—Ä–æ–≤–∞–Ω–∞ —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å –µ–∫–æ–Ω–æ–º–∏—Ç—å –≥—Ä–æ—à—ñ –∑–∞–≤–¥—è–∫–∏:**
- ‚úÖ –£—Å—É–Ω–µ–Ω–Ω—é –æ–ø–µ—Ä–∞—Ü—ñ–π Key Vault –¥–ª—è –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –º—ñ–∂ —Å–µ—Ä–≤—ñ—Å–∞–º–∏
- ‚úÖ –ó–º–µ–Ω—à–µ–Ω–Ω—é —ñ–Ω—Ü–∏–¥–µ–Ω—Ç—ñ–≤ –±–µ–∑–ø–µ–∫–∏ (–≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –≤–∏—Ç–æ–∫—ñ–≤ –æ–±–ª—ñ–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö)
- ‚úÖ –ó–Ω–∏–∂–µ–Ω–Ω—é –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–æ–≥–æ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (–≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —Ä—É—á–Ω–æ–≥–æ –æ–±–µ—Ä—Ç–∞–Ω–Ω—è)

**–ü—Ä–∏–∫–ª–∞–¥ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –≤–∏—Ç—Ä–∞—Ç (—â–æ–º—ñ—Å—è—á–Ω–æ):**

| –°—Ü–µ–Ω–∞—Ä—ñ–π | –†—è–¥–∫–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è | –ö–µ—Ä–æ–≤–∞–Ω–∞ —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å | –ï–∫–æ–Ω–æ–º—ñ—è |
|----------|-------------------|-----------------------|----------|
| –ù–µ–≤–µ–ª–∏–∫–∏–π –¥–æ–¥–∞—Ç–æ–∫ (1M –∑–∞–ø–∏—Ç—ñ–≤) | ~$50 (Key Vault + –æ–ø–µ—Ä–∞—Ü—ñ—ó) | ~$0 | $50/–º—ñ—Å—è—Ü—å |
| –°–µ—Ä–µ–¥–Ω—ñ–π –¥–æ–¥–∞—Ç–æ–∫ (10M –∑–∞–ø–∏—Ç—ñ–≤) | ~$200 | ~$0 | $200/–º—ñ—Å—è—Ü—å |
| –í–µ–ª–∏–∫–∏–π –¥–æ–¥–∞—Ç–æ–∫ (100M –∑–∞–ø–∏—Ç—ñ–≤) | ~$1,500 | ~$0 | $1,500/–º—ñ—Å—è—Ü—å |

---

## –î—ñ–∑–Ω–∞—Ç–∏—Å—è –±—ñ–ª—å—à–µ

### –û—Ñ—ñ—Ü—ñ–π–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- [Azure Managed Identity](https://learn.microsoft.com/entra/identity/managed-identities-azure-resources/overview)
- [Azure RBAC](https://learn.microsoft.com/azure/role-based-access-control/overview)
- [Azure Key Vault](https://learn.microsoft.com/azure/key-vault/general/overview)
- [DefaultAzureCredential](https://learn.microsoft.com/dotnet/api/azure.identity.defaultazurecredential)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è SDK
- [@azure/identity (Node.js)](https://www.npmjs.com/package/@azure/identity)
- [Azure.Identity (C#)](https://www.nuget.org/packages/Azure.Identity/)
- [azure-identity (Python)](https://pypi.org/project/azure-identity/)

### –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏ –≤ —Ü—å–æ–º—É –∫—É—Ä—Å—ñ
- ‚Üê –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π: [–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é](configuration.md)
- ‚Üí –ù–∞—Å—Ç—É–ø–Ω–∏–π: [–ü–µ—Ä—à–∏–π –ø—Ä–æ—î–∫—Ç](first-project.md)
- üè† [–ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –∫—É—Ä—Å—É](../../README.md)

### –°—Ö–æ–∂—ñ –ø—Ä–∏–∫–ª–∞–¥–∏
- [–ü—Ä–∏–∫–ª–∞–¥ Azure OpenAI Chat](../../../../examples/azure-openai-chat) - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∫–µ—Ä–æ–≤–∞–Ω—É —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å –¥–ª—è Azure OpenAI
- [–ü—Ä–∏–∫–ª–∞–¥ –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å—ñ–≤](../../../../examples/microservices) - –®–∞–±–ª–æ–Ω–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –¥–ª—è –±–∞–≥–∞—Ç–æ—Å–µ—Ä–≤—ñ—Å–Ω–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤

---

## –ü—ñ–¥—Å—É–º–æ–∫

**–í–∏ –¥—ñ–∑–Ω–∞–ª–∏—Å—è:**
- ‚úÖ –¢—Ä–∏ —à–∞–±–ª–æ–Ω–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó (—Ä—è–¥–∫–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è, Key Vault, –∫–µ—Ä–æ–≤–∞–Ω–∞ —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å)
- ‚úÖ –Ø–∫ —É–≤—ñ–º–∫–Ω—É—Ç–∏ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∫–µ—Ä–æ–≤–∞–Ω—É —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å —É AZD
- ‚úÖ –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–æ–ª–µ–π RBAC –¥–ª—è —Å–µ—Ä–≤—ñ—Å—ñ–≤ Azure
- ‚úÖ –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é Key Vault –¥–ª—è —Å–µ–∫—Ä–µ—Ç—ñ–≤ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
- ‚úÖ –í—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç—ñ –º—ñ–∂ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏–º–∏ —Ç–∞ —Å–∏—Å—Ç–µ–º–Ω–∏–º–∏ —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—è–º–∏
- ‚úÖ –ù–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏ –±–µ–∑–ø–µ–∫–∏ —Ç–∞ —É—Å—É–Ω–µ–Ω–Ω—è –Ω–µ—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π

**–û—Å–Ω–æ–≤–Ω—ñ –≤–∏—Å–Ω–æ–≤–∫–∏:**
1. **–ó–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–µ—Ä–æ–≤–∞–Ω—É —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å —É –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ** - –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —Å–µ–∫—Ä–µ—Ç—ñ–≤, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–±–µ—Ä—Ç–∞–Ω–Ω—è
2. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ä–æ–ª—ñ RBAC –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º–∏ –ø—Ä–∏–≤—ñ–ª–µ—è–º–∏** - –ù–∞–¥–∞–≤–∞–π—Ç–µ –ª–∏—à–µ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥–æ–∑–≤–æ–ª–∏
3. **–ó–±–µ—Ä—ñ–≥–∞–π—Ç–µ –∫–ª—é—á—ñ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤ —É Key Vault** - –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç–∞–º–∏
4. **–†–æ–∑–¥—ñ–ª—è–π—Ç–µ —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞** - –Ü–∑–æ–ª—è—Ü—ñ—è dev, staging, prod
5. **–£–≤—ñ–º–∫–Ω—ñ—Ç—å –∞—É–¥–∏—Ç –ª–æ–≥—ñ–≤** - –í—ñ–¥—Å—Ç–µ–∂—É–π—Ç–µ, —Ö—Ç–æ —ñ —â–æ –æ—Ç—Ä–∏–º—É–≤–∞–≤ –¥–æ—Å—Ç—É–ø

**–ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏:**
1. –í–∏–∫–æ–Ω–∞–π—Ç–µ –ø—Ä–∞–∫—Ç–∏—á–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è, –Ω–∞–≤–µ–¥–µ–Ω—ñ –≤–∏—â–µ
2. –ü–µ—Ä–µ–Ω–µ—Å—ñ—Ç—å —ñ—Å–Ω—É—é—á–∏–π –¥–æ–¥–∞—Ç–æ–∫ –∑ —Ä—è–¥–∫—ñ–≤ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –Ω–∞ –∫–µ—Ä–æ–≤–∞–Ω—É —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å
3. –°—Ç–≤–æ—Ä—ñ—Ç—å —Å–≤—ñ–π –ø–µ—Ä—à–∏–π –ø—Ä–æ—î–∫—Ç AZD —ñ–∑ –±–µ–∑–ø–µ–∫–æ—é –∑ –ø–µ—Ä—à–æ–≥–æ –¥–Ω—è: [–ü–µ—Ä—à–∏–π –ø—Ä–æ—î–∫—Ç](first-project.md)

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**–í—ñ–¥–º–æ–≤–∞ –≤—ñ–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ**:  
–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –±—É–≤ –ø–µ—Ä–µ–∫–ª–∞–¥–µ–Ω–∏–π –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å–µ—Ä–≤—ñ—Å—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –ø–µ—Ä–µ–∫–ª–∞–¥—É [Co-op Translator](https://github.com/Azure/co-op-translator). –•–æ—á–∞ –º–∏ –ø—Ä–∞–≥–Ω–µ–º–æ –¥–æ —Ç–æ—á–Ω–æ—Å—Ç—ñ, –±—É–¥—å –ª–∞—Å–∫–∞, –º–∞–π—Ç–µ –Ω–∞ —É–≤–∞–∑—ñ, —â–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –ø–µ—Ä–µ–∫–ª–∞–¥–∏ –º–æ–∂—É—Ç—å –º—ñ—Å—Ç–∏—Ç–∏ –ø–æ–º–∏–ª–∫–∏ –∞–±–æ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç—ñ. –û—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ –π–æ–≥–æ —Ä—ñ–¥–Ω—ñ–π –º–æ–≤—ñ —Å–ª—ñ–¥ –≤–≤–∞–∂–∞—Ç–∏ –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω–∏–º –¥–∂–µ—Ä–µ–ª–æ–º. –î–ª—è –∫—Ä–∏—Ç–∏—á–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –ª—é–¥—Å—å–∫–∏–π –ø–µ—Ä–µ–∫–ª–∞–¥. –ú–∏ –Ω–µ –Ω–µ—Å–µ–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ –∑–∞ –±—É–¥—å-—è–∫—ñ –Ω–µ–ø–æ—Ä–æ–∑—É–º—ñ–Ω–Ω—è –∞–±–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ —Ç–ª—É–º–∞—á–µ–Ω–Ω—è, —â–æ –≤–∏–Ω–∏–∫–∞—é—Ç—å –≤–Ω–∞—Å–ª—ñ–¥–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ü—å–æ–≥–æ –ø–µ—Ä–µ–∫–ª–∞–¥—É.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->