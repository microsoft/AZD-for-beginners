# Глава 8: Паттерны продакшена и корпоративные паттерны

**📚 Курс**: [AZD для начинающих](../../README.md) | **⏱️ Длительность**: 2-3 часа | **⭐ Сложность**: Продвинутый

---

## Обзор

В этой главе рассматриваются шаблоны развёртывания, готовые для корпоративного использования, усиление безопасности, мониторинг и оптимизация затрат для производственных AI-рабочих нагрузок.

## Цели обучения

Выполнив эту главу, вы:
- Развернёте отказоустойчивые приложения в нескольких регионах
- Реализуете корпоративные паттерны безопасности
- Настроите комплексный мониторинг
- Оптимизируете затраты в масштабе
- Настроите CI/CD конвейеры с AZD

---

## 📚 Уроки

| # | Урок | Описание | Время |
|---|--------|-------------|------|
| 1 | [Практики Production AI](production-ai-practices.md) | Паттерны корпоративного развёртывания | 90 мин |

---

## 🚀 Контрольный список для продакшена

- [ ] Развёртывание в нескольких регионах для устойчивости
- [ ] Управляемая идентичность для аутентификации (без ключей)
- [ ] Application Insights для мониторинга
- [ ] Бюджеты затрат и оповещения настроены
- [ ] Включено сканирование безопасности
- [ ] Интеграция CI/CD конвейера
- [ ] План аварийного восстановления

---

## 🏗️ Паттерны архитектуры

### Паттерн 1: Микросервисы ИИ

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   API Gateway   │───▶│   AI Service    │───▶│   Azure OpenAI  │
└─────────────────┘    └─────────────────┘    └─────────────────┘
         │                      │
         ▼                      ▼
┌─────────────────┐    ┌─────────────────┐
│   Auth Service  │    │   Data Store    │
└─────────────────┘    └─────────────────┘
```

### Паттерн 2: Событийно-ориентированный ИИ

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Event Grid    │───▶│  Functions      │───▶│   AI Pipeline   │
└─────────────────┘    └─────────────────┘    └─────────────────┘
```

---

## 🔐 Лучшие практики безопасности

```bicep
// Use managed identity
identity: {
  type: 'SystemAssigned'
}

// Private endpoints for AI services
properties: {
  publicNetworkAccess: 'Disabled'
  networkAcls: {
    defaultAction: 'Deny'
  }
}
```

---

## 💰 Оптимизация затрат

| Strategy | Savings |
|----------|---------|
| Масштабирование до нуля (Container Apps) | 60-80% |
| Использовать уровни потребления для разработки | 50-70% |
| Плановое масштабирование | 30-50% |
| Резервная ёмкость | 20-40% |

```bash
# Установить оповещения о бюджете
az consumption budget create \
  --budget-name "AI-Budget" \
  --amount 500 \
  --category Cost \
  --time-grain Monthly
```

---

## 📊 Настройка мониторинга

```bash
# Просмотр потоковых журналов
azd monitor --logs

# Проверить Application Insights
azd monitor

# Просмотреть метрики
az monitor metrics list --resource <resource-id>
```

---

## 🔗 Навигация

| Direction | Chapter |
|-----------|---------|
| **Предыдущая** | [Глава 7: Устранение неполадок](../chapter-07-troubleshooting/README.md) |
| **Курс завершён** | [Домашняя страница курса](../../README.md) |

---

## 📖 Связанные ресурсы

- [Руководство по AI-агентам](../chapter-02-ai-development/agents.md)
- [Application Insights](../chapter-06-pre-deployment/application-insights.md)
- [Решения с несколькими агентами](../chapter-05-multi-agent/README.md)
- [Пример микросервисов](../../examples/microservices/README.md)

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
Отказ от ответственности:
Этот документ был переведён с помощью сервиса машинного перевода на основе ИИ [Co-op Translator](https://github.com/Azure/co-op-translator). Несмотря на наши усилия по обеспечению точности, обратите внимание, что автоматические переводы могут содержать ошибки или неточности. Оригинальный документ на его исходном языке следует считать авторитетным источником. Для критически важной информации рекомендуется воспользоваться услугами профессионального переводчика. Мы не несем ответственности за любые недоразумения или неправильные толкования, возникшие в результате использования этого перевода.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->