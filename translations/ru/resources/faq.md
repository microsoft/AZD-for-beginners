<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "a18b53f05c5e2fb42ebd98fcc82fcd18",
  "translation_date": "2025-09-09T20:13:00+00:00",
  "source_file": "resources/faq.md",
  "language_code": "ru"
}
-->
# Часто задаваемые вопросы (FAQ)

## Введение

Этот подробный FAQ содержит ответы на самые распространенные вопросы о Azure Developer CLI (azd) и развертывании в Azure. Найдите быстрые решения для распространенных проблем, узнайте лучшие практики и получите разъяснения по концепциям и рабочим процессам azd.

## Цели обучения

Изучив этот FAQ, вы сможете:
- Найти быстрые ответы на распространенные вопросы и проблемы Azure Developer CLI
- Понять ключевые концепции и терминологию через формат практических вопросов и ответов
- Получить решения для устранения неполадок, связанных с частыми проблемами и ошибками
- Узнать лучшие практики через часто задаваемые вопросы об оптимизации
- Открыть для себя расширенные функции и возможности через вопросы экспертного уровня
- Эффективно ссылаться на рекомендации по стоимости, безопасности и стратегии развертывания

## Результаты обучения

Регулярно обращаясь к этому FAQ, вы сможете:
- Самостоятельно решать распространенные проблемы Azure Developer CLI, используя предоставленные решения
- Принимать обоснованные решения о стратегиях и конфигурациях развертывания
- Понять взаимосвязь между azd и другими инструментами и сервисами Azure
- Применять лучшие практики, основанные на опыте сообщества и рекомендациях экспертов
- Эффективно устранять проблемы с аутентификацией, развертыванием и конфигурацией
- Оптимизировать затраты и производительность, используя рекомендации из FAQ

## Содержание

- [Начало работы](../../../resources)
- [Аутентификация и доступ](../../../resources)
- [Шаблоны и проекты](../../../resources)
- [Развертывание и инфраструктура](../../../resources)
- [Конфигурация и окружения](../../../resources)
- [Устранение неполадок](../../../resources)
- [Стоимость и выставление счетов](../../../resources)
- [Лучшие практики](../../../resources)
- [Расширенные темы](../../../resources)

---

## Начало работы

### В: Что такое Azure Developer CLI (azd)?
**О**: Azure Developer CLI (azd) — это инструмент командной строки, ориентированный на разработчиков, который ускоряет процесс переноса вашего приложения из локальной среды разработки в Azure. Он предоставляет лучшие практики через шаблоны и помогает на протяжении всего жизненного цикла развертывания.

### В: Чем azd отличается от Azure CLI?
**О**: 
- **Azure CLI**: Универсальный инструмент для управления ресурсами Azure
- **azd**: Инструмент, ориентированный на разработчиков, для рабочих процессов развертывания приложений
- azd использует Azure CLI внутри, но предоставляет более высокоуровневые абстракции для распространенных сценариев разработки
- azd включает шаблоны, управление окружениями и автоматизацию развертывания

### В: Нужно ли устанавливать Azure CLI для использования azd?
**О**: Да, azd требует Azure CLI для аутентификации и некоторых операций. Сначала установите Azure CLI, затем установите azd.

### В: Какие языки программирования поддерживает azd?
**О**: azd не зависит от языка программирования. Он работает с:
- Node.js/JavaScript/TypeScript
- Python
- .NET/C#
- Java
- Go
- PHP
- Статическими веб-сайтами
- Контейнеризированными приложениями

### В: Могу ли я использовать azd с существующими проектами?
**О**: Да! Вы можете:
1. Использовать `azd init`, чтобы добавить конфигурацию azd в существующие проекты
2. Адаптировать существующие проекты к структуре шаблонов azd
3. Создавать собственные шаблоны на основе вашей текущей архитектуры

---

## Аутентификация и доступ

### В: Как аутентифицироваться в Azure с помощью azd?
**О**: Используйте `azd auth login`, который откроет окно браузера для аутентификации в Azure. Для сценариев CI/CD используйте служебные учетные записи или управляемые идентичности.

### В: Могу ли я использовать azd с несколькими подписками Azure?
**О**: Да. Используйте `azd env set AZURE_SUBSCRIPTION_ID <subscription-id>`, чтобы указать, какую подписку использовать для каждого окружения.

### В: Какие разрешения мне нужны для развертывания с помощью azd?
**О**: Обычно вам нужны:
- Роль **Contributor** для группы ресурсов или подписки
- **User Access Administrator**, если развертываемые ресурсы требуют назначения ролей
- Конкретные разрешения зависят от шаблона и развертываемых ресурсов

### В: Могу ли я использовать azd в CI/CD пайплайнах?
**О**: Конечно! azd разработан для интеграции с CI/CD. Используйте служебные учетные записи для аутентификации и задавайте переменные окружения для конфигурации.

### В: Как настроить аутентификацию в GitHub Actions?
**О**: Используйте действие Azure Login с учетными данными служебной учетной записи:
```yaml
- uses: azure/login@v1
  with:
    creds: ${{ secrets.AZURE_CREDENTIALS }}
- run: azd deploy --no-prompt
```

---

## Шаблоны и проекты

### В: Где я могу найти шаблоны azd?
**О**: 
- Официальные шаблоны: [Azure-Samples/awesome-azd](https://github.com/Azure-Samples/awesome-azd)
- Шаблоны сообщества: Поиск на GitHub по "azd-template"
- Используйте `azd template list`, чтобы просмотреть доступные шаблоны

### В: Как создать собственный шаблон?
**О**: 
1. Начните с существующей структуры шаблона
2. Измените `azure.yaml`, файлы инфраструктуры и код приложения
3. Тщательно протестируйте с помощью `azd up`
4. Опубликуйте на GitHub с соответствующими тегами

### В: Могу ли я использовать azd без шаблона?
**О**: Да, используйте `azd init` в существующем проекте, чтобы создать необходимые конфигурационные файлы. Вам нужно будет вручную настроить `azure.yaml` и файлы инфраструктуры.

### В: В чем разница между официальными и шаблонами сообщества?
**О**: 
- **Официальные шаблоны**: Поддерживаются Microsoft, регулярно обновляются, имеют подробную документацию
- **Шаблоны сообщества**: Созданы разработчиками, могут иметь специализированные случаи использования, качество и поддержка варьируются

### В: Как обновить шаблон в моем проекте?
**О**: Шаблоны не обновляются автоматически. Вы можете:
1. Вручную сравнить и объединить изменения из исходного шаблона
2. Начать заново с `azd init`, используя обновленный шаблон
3. Выбрать конкретные улучшения из обновленных шаблонов

---

## Развертывание и инфраструктура

### В: Какие сервисы Azure может развернуть azd?
**О**: azd может развернуть любой сервис Azure через шаблоны Bicep/ARM, включая:
- App Services, Container Apps, Functions
- Базы данных (SQL, PostgreSQL, Cosmos DB)
- Хранилище, Key Vault, Application Insights
- Сетевые, защитные и мониторинговые ресурсы

### В: Могу ли я развернуть в нескольких регионах?
**О**: Да, настройте несколько регионов в ваших шаблонах Bicep и задайте параметр location для каждого окружения.

### В: Как управлять миграцией схемы базы данных?
**О**: Используйте хуки развертывания в `azure.yaml`:
```yaml
hooks:
  postdeploy:
    posix:
      run: ./scripts/migrate-database.sh
    windows:
      run: ./scripts/migrate-database.ps1
```

### В: Могу ли я развернуть только инфраструктуру без приложений?
**О**: Да, используйте `azd provision`, чтобы развернуть только компоненты инфраструктуры, определенные в ваших шаблонах.

### В: Как развернуть в существующих ресурсах Azure?
**О**: Это сложно и не поддерживается напрямую. Вы можете:
1. Импортировать существующие ресурсы в ваши шаблоны Bicep
2. Использовать ссылки на существующие ресурсы в шаблонах
3. Изменить шаблоны, чтобы условно создавать или ссылаться на ресурсы

### В: Могу ли я использовать Terraform вместо Bicep?
**О**: В настоящее время azd в основном поддерживает шаблоны Bicep/ARM. Официальной поддержки Terraform нет, хотя могут существовать решения сообщества.

---

## Конфигурация и окружения

### В: Как управлять различными окружениями (dev, staging, prod)?
**О**: Создайте отдельные окружения с помощью `azd env new <environment-name>` и настройте разные параметры для каждого:
```bash
azd env new development
azd env new staging  
azd env new production
```

### В: Где хранятся конфигурации окружений?
**О**: В папке `.azure` внутри вашего каталога проекта. Каждое окружение имеет свою собственную папку с конфигурационными файлами.

### В: Как настроить конфигурацию, специфичную для окружения?
**О**: Используйте `azd env set`, чтобы настроить переменные окружения:
```bash
azd env set AZURE_LOCATION eastus
azd env set DATABASE_TIER Basic
```

### В: Могу ли я делиться конфигурациями окружений с членами команды?
**О**: Папка `.azure` содержит конфиденциальную информацию и не должна быть добавлена в систему контроля версий. Вместо этого:
1. Документируйте необходимые переменные окружения
2. Используйте скрипты развертывания для настройки окружений
3. Используйте Azure Key Vault для конфиденциальной конфигурации

### В: Как переопределить значения по умолчанию в шаблоне?
**О**: Установите переменные окружения, соответствующие параметрам шаблона:
```bash
azd env set LOCATION "West US 2"
azd env set SKU_NAME "B1"
```

---

## Устранение неполадок

### В: Почему `azd up` не работает?
**О**: Распространенные причины:
1. **Проблемы с аутентификацией**: Выполните `azd auth login`
2. **Недостаточно разрешений**: Проверьте назначения ролей в Azure
3. **Конфликты имен ресурсов**: Измените AZURE_ENV_NAME
4. **Проблемы с квотами/емкостью**: Проверьте доступность региона
5. **Ошибки шаблона**: Проверьте шаблоны Bicep

### В: Как отладить сбои развертывания?
**О**: 
1. Используйте `azd deploy --debug` для подробного вывода
2. Проверьте историю развертывания в портале Azure
3. Просмотрите журнал активности в портале Azure
4. Используйте `azd show`, чтобы отобразить текущее состояние окружения

### В: Почему мои переменные окружения не работают?
**О**: Проверьте:
1. Имена переменных точно соответствуют параметрам шаблона
2. Значения правильно заключены в кавычки, если содержат пробелы
3. Выбрано окружение: `azd env select <environment>`
4. Переменные установлены в правильном окружении

### В: Как очистить неудачные развертывания?
**О**: 
```bash
azd down --force --purge
```
Это удаляет все ресурсы и конфигурацию окружения.

### В: Почему мое приложение недоступно после развертывания?
**О**: Проверьте:
1. Развертывание завершилось успешно
2. Приложение работает (проверьте журналы в портале Azure)
3. Сетевые группы безопасности разрешают трафик
4. DNS/настраиваемые домены настроены правильно

---

## Стоимость и выставление счетов

### В: Сколько будут стоить развертывания azd?
**О**: Стоимость зависит от:
- Развертываемых сервисов Azure
- Выбранных уровней/параметров сервисов
- Региональных различий в ценах
- Шаблонов использования

Используйте [Калькулятор цен Azure](https://azure.microsoft.com/pricing/calculator/) для оценки.

### В: Как контролировать затраты в развертываниях azd?
**О**: 
1. Используйте уровни с низкой стоимостью для окружений разработки
2. Настройте бюджеты и оповещения Azure
3. Используйте `azd down`, чтобы удалить ресурсы, когда они не нужны
4. Выбирайте подходящие регионы (стоимость варьируется в зависимости от местоположения)
5. Используйте инструменты управления затратами Azure

### В: Есть ли бесплатные варианты для шаблонов azd?
**О**: Многие сервисы Azure предлагают бесплатные уровни:
- App Service: Доступен бесплатный уровень
- Azure Functions: 1 млн бесплатных выполнений в месяц
- Cosmos DB: Бесплатный уровень с 400 RU/s
- Application Insights: Первые 5 ГБ/месяц бесплатно

Настройте шаблоны для использования бесплатных уровней, где это возможно.

### В: Как оценить затраты до развертывания?
**О**: 
1. Просмотрите `main.bicep` шаблона, чтобы увидеть, какие ресурсы создаются
2. Используйте Калькулятор цен Azure с конкретными параметрами
3. Сначала разверните в окружении разработки, чтобы отслеживать фактические затраты
4. Используйте Управление затратами Azure для детального анализа затрат

---

## Лучшие практики

### В: Каковы лучшие практики для структуры проекта azd?
**О**: 
1. Держите код приложения отдельно от инфраструктуры
2. Используйте осмысленные имена сервисов в `azure.yaml`
3. Реализуйте правильную обработку ошибок в скриптах сборки
4. Используйте конфигурацию, специфичную для окружения
5. Включите подробную документацию

### В: Как организовать несколько сервисов в azd?
**О**: Используйте рекомендованную структуру:
```
├── src/
│   ├── web/          # Frontend service
│   ├── api/          # Backend service  
│   └── worker/       # Background service
├── infra/            # Infrastructure templates
├── azure.yaml        # azd configuration
└── README.md         # Project documentation
```

### В: Нужно ли добавлять папку `.azure` в систему контроля версий?
**О**: **Нет!** Папка `.azure` содержит конфиденциальную информацию. Добавьте ее в `.gitignore`:
```gitignore
.azure/
```

### В: Как управлять секретами и конфиденциальной конфигурацией?
**О**: 
1. Используйте Azure Key Vault для секретов
2. Ссылайтесь на секреты Key Vault в конфигурации приложения
3. Никогда не добавляйте секреты в систему контроля версий
4. Используйте управляемые идентичности для аутентификации между сервисами

### В: Какой подход рекомендуется для CI/CD с azd?
**О**: 
1. Используйте отдельные окружения для каждого этапа (dev/staging/prod)
2. Реализуйте автоматическое тестирование перед развертыванием
3. Используйте служебные учетные записи для аутентификации
4. Храните конфиденциальную конфигурацию в секретах/переменных пайплайна
5. Реализуйте этапы утверждения для развертываний в продакшене

---

## Расширенные темы

### В: Могу ли я расширить azd с помощью пользовательских функций?
**О**: Да, через хуки развертывания в `azure.yaml`:
```yaml
hooks:
  predeploy:
    run: ./scripts/custom-setup.sh
  postdeploy:
    run: ./scripts/custom-config.sh
```

### В: Как интегрировать azd с существующими процессами DevOps?
**О**: 
1. Используйте команды azd в существующих скриптах пайплайнов
2. Стандартизируйте шаблоны azd в командах
3. Интегрируйте с существующими системами мониторинга и оповещения
4. Используйте JSON-вывод azd для интеграции в пайплайны

### В: Могу ли я использовать azd с Azure DevOps?
**О**: Да, azd работает с любой системой CI/CD. Создайте пайплайны Azure DevOps, которые используют команды azd.

### В: Как внести вклад в azd или создать шаблоны сообщества?
**О**: 
1. **Инструмент azd**: Вносите вклад в [Azure/azure-dev](https://github.com/Azure/azure-dev)
2. **Шаблоны**: Создавайте шаблоны, следуя [руководству по шаблонам](https://github.com/Azure-Samples/awesome-azd)
3. **Документация**: Вносите вклад в документацию на [MicrosoftDocs/azure-dev-docs](https://github.com/MicrosoftDocs/azure-dev-docs)

### В: Каков план развития azd?
**О**: Ознакомьтесь с [официальным планом развития](https://github.com/Azure/azure-dev/projects) для запланированных функций и улучшений.

### В: Как перейти с других инструментов развертывания на azd?
**О**:
1. Анализ текущей архитектуры развертывания  
2. Создание эквивалентных шаблонов Bicep  
3. Настройка `azure.yaml` в соответствии с текущими сервисами  
4. Тщательное тестирование в среде разработки  
5. Постепенная миграция окружений  

---

## Остались вопросы?

### **Сначала поиск**
- Ознакомьтесь с [официальной документацией](https://learn.microsoft.com/en-us/azure/developer/azure-developer-cli/)  
- Ищите похожие проблемы в [GitHub Issues](https://github.com/Azure/azure-dev/issues)  

### **Получить помощь**
- [GitHub Discussions](https://github.com/Azure/azure-dev/discussions) - Поддержка сообщества  
- [Stack Overflow](https://stackoverflow.com/questions/tagged/azure-developer-cli) - Технические вопросы  
- [Azure Discord](https://discord.gg/azure) - Общение с сообществом в реальном времени  

### **Сообщить о проблемах**
- [GitHub Issues](https://github.com/Azure/azure-dev/issues/new) - Сообщения об ошибках и запросы на новые функции  
- Укажите соответствующие логи, сообщения об ошибках и шаги для воспроизведения  

### **Узнать больше**
- [Документация Azure Developer CLI](https://learn.microsoft.com/en-us/azure/developer/azure-developer-cli/)  
- [Центр архитектуры Azure](https://learn.microsoft.com/en-us/azure/architecture/)  
- [Фреймворк Azure Well-Architected](https://learn.microsoft.com/en-us/azure/well-architected/)  

---

*Этот FAQ регулярно обновляется. Последнее обновление: 9 сентября 2025 года*  

---

**Навигация**  
- **Предыдущий урок**: [Глоссарий](glossary.md)  
- **Следующий урок**: [Руководство по изучению](study-guide.md)  

---

**Отказ от ответственности**:  
Этот документ был переведен с помощью сервиса автоматического перевода [Co-op Translator](https://github.com/Azure/co-op-translator). Несмотря на наши усилия обеспечить точность, автоматические переводы могут содержать ошибки или неточности. Оригинальный документ на его исходном языке следует считать авторитетным источником. Для получения критически важной информации рекомендуется профессиональный перевод человеком. Мы не несем ответственности за любые недоразумения или неправильные интерпретации, возникшие в результате использования данного перевода.