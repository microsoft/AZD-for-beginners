# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ - –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

‚è±Ô∏è **–û—Ü–µ–Ω–æ—á–Ω–æ–µ –≤—Ä–µ–º—è**: 25-35 –º–∏–Ω—É—Ç | üí∞ **–û—Ü–µ–Ω–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å**: ~$50-100/–º–µ—Å—è—Ü | ‚≠ê **–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å

**üìö –£—á–µ–±–Ω—ã–π –ø—É—Ç—å:**
- ‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–π: [–ü—Ä–æ—Å—Ç–æ–π Flask API](../../../../examples/container-app/simple-flask-api) - –æ—Å–Ω–æ–≤—ã –æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- üéØ **–í—ã –∑–¥–µ—Å—å**: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ (–æ—Å–Ω–æ–≤–∞ –∏–∑ 2 —Å–µ—Ä–≤–∏—Å–æ–≤)
- ‚Üí –°–ª–µ–¥—É—é—â–∏–π: [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ò–ò](../../../../docs/ai-foundry) - –¥–æ–±–∞–≤—å—Ç–µ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –≤ –≤–∞—à–∏ —Å–µ—Ä–≤–∏—Å—ã
- üè† [–î–æ–º–∞—à–Ω—è—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫—É—Ä—Å–∞](../../README.md)

---

**–£–ø—Ä–æ—â—ë–Ω–Ω–∞—è, –Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è** –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤, —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞—è –≤ Azure Container Apps —Å –ø–æ–º–æ—â—å—é AZD CLI. –≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏, –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–π –º–æ–¥–µ–ª–∏ –∏–∑ 2 —Å–µ—Ä–≤–∏—Å–æ–≤.

> **üìö –ú–µ—Ç–æ–¥ –æ–±—É—á–µ–Ω–∏—è**: –≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏–∑ 2 —Å–µ—Ä–≤–∏—Å–æ–≤ (API Gateway + Backend Service), –∫–æ—Ç–æ—Ä—É—é –≤—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Å–º–æ–∂–µ—Ç–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∏ –∏–∑—É—á–∏—Ç—å. –û—Å–≤–æ–∏–≤ —ç—Ç—É –æ—Å–Ω–æ–≤—É, –º—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤.

## –ß–µ–º—É –≤—ã –Ω–∞—É—á–∏—Ç–µ—Å—å

–ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —ç—Ç–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ –≤—ã —Å–º–æ–∂–µ—Ç–µ:
- –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤ Azure Container Apps
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤ —á–µ—Ä–µ–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å–µ—Ç—å
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é Application Insights
- –ü–æ–Ω—è—Ç—å —à–∞–±–ª–æ–Ω—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏
- –ù–∞—É—á–∏—Ç—å—Å—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–º—É —Ä–∞–∑–≤–∏—Ç–∏—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –æ—Ç –ø—Ä–æ—Å—Ç–æ–π –∫ —Å–ª–æ–∂–Ω–æ–π

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –§–∞–∑–∞ 1: –ß—Ç–æ –º—ã —Å—Ç—Ä–æ–∏–º (–≤–∫–ª—é—á–µ–Ω–æ –≤ —ç—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä)

```mermaid
graph TB
    Internet[–ò–Ω—Ç–µ—Ä–Ω–µ—Ç/–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å]
    Gateway[API Gateway<br/>–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä Node.js<br/>–ü–æ—Ä—Ç 8080]
    Product[–°–µ—Ä–≤–∏—Å –ø—Ä–æ–¥—É–∫—Ç–∞<br/>–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä Python<br/>–ü–æ—Ä—Ç 8000]
    AppInsights[Application Insights<br/>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏]
    
    Internet -->|HTTPS| Gateway
    Gateway -->|HTTP –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π| Product
    Gateway -.->|–¢–µ–ª–µ–º–µ—Ç—Ä–∏—è| AppInsights
    Product -.->|–¢–µ–ª–µ–º–µ—Ç—Ä–∏—è| AppInsights
    
    style Gateway fill:#2196F3,stroke:#1976D2,stroke-width:3px,color:#fff
    style Product fill:#4CAF50,stroke:#388E3C,stroke-width:3px,color:#fff
    style Internet fill:#FF9800,stroke:#F57C00,stroke-width:2px,color:#fff
    style AppInsights fill:#9C27B0,stroke:#7B1FA2,stroke-width:2px,color:#fff
```
**–î–µ—Ç–∞–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:**

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –î–æ—Å—Ç—É–ø | –†–µ—Å—É—Ä—Å—ã |
|-----------|------------|--------|---------|
| **API Gateway** | –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –±—ç–∫–µ–Ω–¥-—Å–µ—Ä–≤–∏—Å–∞–º | –ü—É–±–ª–∏—á–Ω—ã–π (HTTPS) | 1 vCPU, 2GB RAM, 2-20 —Ä–µ–ø–ª–∏–∫ |
| **Product Service** | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ –ø–∞–º—è—Ç–∏ | –¢–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –¥–æ—Å—Ç—É–ø | 0.5 vCPU, 1GB RAM, 1-10 —Ä–µ–ø–ª–∏–∫ |
| **Application Insights** | –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ª–æ–≥ –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ | –ü–æ—Ä—Ç–∞–ª Azure | –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö 1-2 –ì–ë/–º–µ—Å |

**–ü–æ—á–µ–º—É –Ω–∞—á–∏–Ω–∞—Ç—å —Å –ø—Ä–æ—Å—Ç–æ–≥–æ?**
- ‚úÖ –ë—ã—Å—Ç—Ä–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∏ –ø–æ–Ω—è—Ç—å (25-35 –º–∏–Ω—É—Ç)
- ‚úÖ –ò–∑—É—á–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –±–µ–∑ –∏–∑–ª–∏—à–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- ‚úÖ –†–∞–±–æ—á–∏–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å –∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å
- ‚úÖ –ù–∏–∑–∫–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è (~$50‚Äì100/–º–µ—Å –ø—Ä–æ—Ç–∏–≤ $300‚Äì1400/–º–µ—Å)
- ‚úÖ –ü–æ–ª—É—á–∏—Ç—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–µ–∂–¥–µ —á–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –æ—á–µ—Ä–µ–¥–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

**–ê–Ω–∞–ª–æ–≥–∏—è**: –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤—ã —É—á–∏—Ç–µ—Å—å –≤–æ–¥–∏—Ç—å. –°–Ω–∞—á–∞–ª–∞ –≤—ã –Ω–∞—á–∏–Ω–∞–µ—Ç–µ —Å –ø—É—Å—Ç–æ–π –ø–∞—Ä–∫–æ–≤–∫–∏ (2 —Å–µ—Ä–≤–∏—Å–∞), –æ—Å–≤–∞–∏–≤–∞–µ—Ç–µ –±–∞–∑—É, –∞ –∑–∞—Ç–µ–º –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ –≥–æ—Ä–æ–¥—Å–∫–æ–º—É –¥–≤–∏–∂–µ–Ω–∏—é (5+ —Å–µ—Ä–≤–∏—Å–æ–≤ —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö).

### –§–∞–∑–∞ 2: –ë—É–¥—É—â–µ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ (–†–µ—Ñ–µ—Ä–µ–Ω—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)

–ü–æ—Å–ª–µ –æ—Å–≤–æ–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏–∑ 2 —Å–µ—Ä–≤–∏—Å–æ–≤, –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å –µ—ë:

```mermaid
graph TB
    User[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å]
    Gateway[API Gateway<br/>‚úÖ –í–∫–ª—é—á–µ–Ω–æ]
    Product[–°–µ—Ä–≤–∏—Å –ø—Ä–æ–¥—É–∫—Ç–æ–≤<br/>‚úÖ –í–∫–ª—é—á–µ–Ω–æ]
    Order[–°–µ—Ä–≤–∏—Å –∑–∞–∫–∞–∑–æ–≤<br/>üîú –î–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ]
    UserSvc[–°–µ—Ä–≤–∏—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π<br/>üîú –î–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ]
    Notify[–°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π<br/>üîú –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–Ω—Ü–µ]
    
    CosmosDB[(Cosmos DB<br/>üîú –î–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ–¥—É–∫—Ç–∞—Ö)]
    AzureSQL[(Azure SQL<br/>üîú –î–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑–æ–≤)]
    ServiceBus[Azure Service Bus<br/>üîú –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è]
    AppInsights[Application Insights<br/>‚úÖ –í–∫–ª—é—á–µ–Ω–æ]
    
    User --> Gateway
    Gateway --> Product
    Gateway --> Order
    Gateway --> UserSvc
    
    Product --> CosmosDB
    Order --> AzureSQL
    UserSvc --> AzureSQL
    
    Product -.->|ProductCreated Event| ServiceBus
    ServiceBus -.->|Subscribe| Notify
    ServiceBus -.->|Subscribe| Order
    
    Gateway -.-> AppInsights
    Product -.-> AppInsights
    Order -.-> AppInsights
    UserSvc -.-> AppInsights
    Notify -.-> AppInsights
    
    style Product fill:#4CAF50,stroke:#388E3C,stroke-width:3px,color:#fff
    style Gateway fill:#2196F3,stroke:#1976D2,stroke-width:3px,color:#fff
    style Order fill:#9E9E9E,stroke:#616161,stroke-width:2px,color:#fff
    style UserSvc fill:#9E9E9E,stroke:#616161,stroke-width:2px,color:#fff
    style Notify fill:#9E9E9E,stroke:#616161,stroke-width:2px,color:#fff
```
–°–º. —Ä–∞–∑–¥–µ–ª "–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é" –≤ –∫–æ–Ω—Ü–µ –¥–ª—è –ø–æ—à–∞–≥–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π.

## –í–∫–ª—é—á—ë–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

‚úÖ **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ DNS-–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏  
‚úÖ **–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏**: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –±–∞–ª–∞–Ω—Å –Ω–∞–≥—Ä—É–∑–∫–∏ –ø–æ —Ä–µ–ø–ª–∏–∫–∞–º  
‚úÖ **–ê–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ù–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –ø–æ HTTP-–∑–∞–ø—Ä–æ—Å–∞–º  
‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è**: –ü—Ä–æ–±—ã –∂–∏–≤–æ—Å—Ç–∏ –∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –¥–ª—è –æ–±–æ–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤  
‚úÖ **–†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –ª–æ–≥**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ª–æ–≥ —Å Application Insights  
‚úÖ **–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å–µ—Ç—å**: –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤  
‚úÖ **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ  
‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑ –ø—Ä–æ—Å—Ç–æ—è**: –ü–æ—à–∞–≥–æ–≤—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Ä–µ–≤–∏–∑–∏—è–º–∏  

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —ç—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

1. **[Azure Developer CLI (azd)](https://learn.microsoft.com/azure/developer/azure-developer-cli/install-azd)** (–≤–µ—Ä—Å–∏—è 1.0.0 –∏–ª–∏ –Ω–æ–≤–µ–µ)
   ```bash
   azd version
   # –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥: azd –≤–µ—Ä—Å–∏–∏ 1.0.0 –∏–ª–∏ –≤—ã—à–µ
   ```

2. **[Azure CLI](https://learn.microsoft.com/cli/azure/install-azure-cli)** (–≤–µ—Ä—Å–∏—è 2.50.0 –∏–ª–∏ –Ω–æ–≤–µ–µ)
   ```bash
   az --version
   # –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥: azure-cli –≤–µ—Ä—Å–∏–∏ 2.50.0 –∏–ª–∏ –≤—ã—à–µ
   ```

3. **[Docker](https://www.docker.com/get-started)** (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏/—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è - –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
   ```bash
   docker --version
   # –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥: –≤–µ—Ä—Å–∏—è Docker 20.10 –∏–ª–∏ –≤—ã—à–µ
   ```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å—ë –≥–æ—Ç–æ–≤–æ:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Azure Developer CLI
azd version
# ‚úÖ –û–∂–∏–¥–∞–µ—Ç—Å—è: –≤–µ—Ä—Å–∏—è azd 1.0.0 –∏–ª–∏ –≤—ã—à–µ

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Azure CLI
az --version
# ‚úÖ –û–∂–∏–¥–∞–µ—Ç—Å—è: azure-cli 2.50.0 –∏–ª–∏ –≤—ã—à–µ

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Docker (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
docker --version
# ‚úÖ –û–∂–∏–¥–∞–µ—Ç—Å—è: –≤–µ—Ä—Å–∏—è Docker 20.10 –∏–ª–∏ –≤—ã—à–µ
```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏**: –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –¥–æ–ª–∂–Ω—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –≤–µ—Ä—Å–∏–∏, –Ω–µ –Ω–∏–∂–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö.

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è Azure

- –ê–∫—Ç–∏–≤–Ω–∞—è **–ø–æ–¥–ø–∏—Å–∫–∞ Azure** ([—Å–æ–∑–¥–∞–π—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç](https://azure.microsoft.com/free/))
- –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ –ø–æ–¥–ø–∏—Å–∫–µ
- –†–æ–ª—å **Contributor** –≤ –ø–æ–¥–ø–∏—Å–∫–µ –∏–ª–∏ –≥—Ä—É–ø–ø–µ —Ä–µ—Å—É—Ä—Å–æ–≤

### –ó–Ω–∞–Ω–∏—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è

–≠—Ç–æ –ø—Ä–∏–º–µ—Ä **–ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ —É—Ä–æ–≤–Ω—è**. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
- –ó–∞–≤–µ—Ä—à–∏—Ç—å [–ø—Ä–∏–º–µ—Ä –ü—Ä–æ—Å—Ç–æ–≥–æ Flask API](../../../../examples/container-app/simple-flask-api) 
- –ò–º–µ—Ç—å –±–∞–∑–æ–≤—ã–µ –∑–Ω–∞–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤
- –ó–Ω–∞—Ç—å REST API –∏ HTTP
- –ü–æ–Ω–∏–º–∞—Ç—å –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

**–ù–æ–≤–∏—á–æ–∫ –≤ Container Apps?** –ù–∞—á–Ω–∏—Ç–µ —Å [–ü—Ä–æ—Å—Ç–æ–≥–æ Flask API](../../../../examples/container-app/simple-flask-api), —á—Ç–æ–±—ã –∏–∑—É—á–∏—Ç—å –±–∞–∑—É.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–ø–æ—à–∞–≥–æ–≤–æ)

### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥

```bash
git clone https://github.com/microsoft/AZD-for-beginners.git
cd AZD-for-beginners/examples/microservices
```

**‚úì –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—Ö–∞**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∏–¥–∏—Ç–µ —Ñ–∞–π–ª `azure.yaml`:
```bash
ls
# –û–∂–∏–¥–∞–µ—Ç—Å—è: README.md, azure.yaml, infra/, src/
```

### –®–∞–≥ 2: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –≤ Azure

```bash
azd auth login
```

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä –¥–ª—è –≤—Ö–æ–¥–∞ –≤ Azure. –í–æ–π–¥–∏—Ç–µ —Å –≤–∞—à–∏–º–∏ —É—á—ë—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ Azure.

**‚úì –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—Ö–∞**: –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
Logged in to Azure.
```

### –®–∞–≥ 3: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ

```bash
azd init
```

**–í–∞—Å –ø–æ–ø—Ä–æ—Å—è—Ç –≤–≤–µ—Å—Ç–∏**:
- **–ò–º—è –æ–∫—Ä—É–∂–µ–Ω–∏—è**: –í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä–æ—Ç–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `microservices-dev`)
- **–ü–æ–¥–ø–∏—Å–∫–∞ Azure**: –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à—É –ø–æ–¥–ø–∏—Å–∫—É
- **–†–µ–≥–∏–æ–Ω Azure**: –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, `eastus`, `westeurope`)

**‚úì –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—Ö–∞**: –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
SUCCESS: New project initialized!
```

### –®–∞–≥ 4: –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ —Å–µ—Ä–≤–∏—Å—ã

```bash
azd up
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç** (–∑–∞–Ω–∏–º–∞–µ—Ç 8-12 –º–∏–Ω—É—Ç):

```mermaid
graph LR
    A[azd up] --> B[–°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É —Ä–µ—Å—É—Ä—Å–æ–≤]
    B --> C[–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Ä–µ–µ—Å—Ç—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤]
    C --> D[–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å Log Analytics]
    D --> E[–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å App Insights]
    E --> F[–°–æ–∑–¥–∞—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤]
    F --> G[–°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑ API Gateway]
    F --> H[–°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑ Product Service]
    G --> I[–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ —Ä–µ–µ—Å—Ç—Ä]
    H --> I
    I --> J[–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å API Gateway]
    I --> K[–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å Product Service]
    J --> L[–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è]
    K --> L
    L --> M[–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ ‚úì]
    
    style A fill:#2196F3,stroke:#1976D2,stroke-width:3px,color:#fff
    style M fill:#4CAF50,stroke:#388E3C,stroke-width:3px,color:#fff
```
**‚úì –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—Ö–∞**: –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
SUCCESS: Your application was deployed to Azure in X minutes Y seconds.
Endpoint: https://api-gateway-<unique-id>.azurecontainerapps.io
```

**‚è±Ô∏è –í—Ä–µ–º—è**: 8-12 –º–∏–Ω—É—Ç

### –®–∞–≥ 5: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

```bash
# –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É —à–ª—é–∑–∞
GATEWAY_URL=$(azd env get-values | grep API_GATEWAY_URL | cut -d '=' -f2 | tr -d '"')

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ API —à–ª—é–∑–∞
curl $GATEWAY_URL/health
```

**‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```json
{
  "status": "healthy",
  "service": "api-gateway",
  "timestamp": "2025-11-19T10:30:00Z"
}
```

**–¢–µ—Å—Ç–∏—Ä—É–µ–º –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å —á–µ—Ä–µ–∑ —à–ª—é–∑**:
```bash
# –°–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
curl $GATEWAY_URL/api/products
```

**‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```json
[
  {"id":1,"name":"Laptop","price":999.99,"stock":50},
  {"id":2,"name":"Mouse","price":29.99,"stock":200},
  {"id":3,"name":"Keyboard","price":79.99,"stock":150}
]
```

**‚úì –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—Ö–∞**: –û–±–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç JSON –±–µ–∑ –æ—à–∏–±–æ–∫.

---

**üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!** –í—ã —Ä–∞–∑–≤–µ—Ä–Ω—É–ª–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –≤ Azure!

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–í—Å–µ —Ñ–∞–π–ª—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–∫–ª—é—á–µ–Ω—ã ‚Äî —ç—Ç–æ –ø–æ–ª–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–∏–º–µ—Ä:

```
microservices/
‚îÇ
‚îú‚îÄ‚îÄ README.md                         # This file
‚îú‚îÄ‚îÄ azure.yaml                        # AZD configuration
‚îú‚îÄ‚îÄ .gitignore                        # Git ignore patterns
‚îÇ
‚îú‚îÄ‚îÄ infra/                           # Infrastructure as Code (Bicep)
‚îÇ   ‚îú‚îÄ‚îÄ main.bicep                   # Main orchestration
‚îÇ   ‚îú‚îÄ‚îÄ abbreviations.json           # Naming conventions
‚îÇ   ‚îú‚îÄ‚îÄ core/                        # Shared infrastructure
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ container-apps-environment.bicep  # Container environment + registry
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ monitor.bicep            # Application Insights + Log Analytics
‚îÇ   ‚îî‚îÄ‚îÄ app/                         # Service definitions
‚îÇ       ‚îú‚îÄ‚îÄ api-gateway.bicep        # API Gateway container app
‚îÇ       ‚îî‚îÄ‚îÄ product-service.bicep    # Product Service container app
‚îÇ
‚îî‚îÄ‚îÄ src/                             # Application source code
    ‚îú‚îÄ‚îÄ api-gateway/                 # Node.js API Gateway
    ‚îÇ   ‚îú‚îÄ‚îÄ app.js                   # Express server with routing
    ‚îÇ   ‚îú‚îÄ‚îÄ package.json             # Node dependencies
    ‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile               # Container definition
    ‚îî‚îÄ‚îÄ product-service/             # Python Product Service
        ‚îú‚îÄ‚îÄ main.py                  # Flask API with product data
        ‚îú‚îÄ‚îÄ requirements.txt         # Python dependencies
        ‚îî‚îÄ‚îÄ Dockerfile               # Container definition
```

**–§—É–Ω–∫—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:**

**–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (infra/)**:
- `main.bicep`: –û—Ä–∫–µ—Å—Ç—Ä–æ–≤–∫–∞ –≤—Å–µ—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ Azure –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- `core/container-apps-environment.bicep`: –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ä–µ–¥—ã Container Apps –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–æ–≥–æ —Ä–µ–µ—Å—Ç—Ä–∞ Azure
- `core/monitor.bicep`: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Application Insights –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- `app/*.bicep`: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è

**API Gateway (src/api-gateway/)**:
- –ü—É–±–ª–∏—á–Ω—ã–π —Å–µ—Ä–≤–∏—Å, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å—ã –∫ –±—ç–∫–µ–Ω–¥–∞–º
- –í–µ–¥—ë—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç HTTP –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤

**Product Service (src/product-service/)**:
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–µ—Ä–≤–∏—Å —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (–≤ –ø–∞–º—è—Ç–∏ –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã)
- REST API —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ –∑–¥–æ—Ä–æ–≤—å—è
- –ü—Ä–∏–º–µ—Ä –±—ç–∫–µ–Ω–¥–æ–≤–æ–≥–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞

## –û–±–∑–æ—Ä —Å–µ—Ä–≤–∏—Å–æ–≤

### API Gateway (Node.js/Express)

**–ü–æ—Ä—Ç**: 8080  
**–î–æ—Å—Ç—É–ø**: –ü—É–±–ª–∏—á–Ω—ã–π (–≤–Ω–µ—à–Ω–∏–π –≤—Ö–æ–¥)  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ú–∞—Ä—à—Ä—É—Ç–∏–∑—É–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –±—ç–∫–µ–Ω–¥-—Å–µ—Ä–≤–∏—Å–∞–º  

**–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã**:
- `GET /` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–∏—Å–µ
- `GET /health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- `GET /api/products` - –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∫ –ø—Ä–æ–¥—É–∫—Ç-—Å–µ—Ä–≤–∏—Å—É (—Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö)
- `GET /api/products/:id` - –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∫ –ø—Ä–æ–¥—É–∫—Ç-—Å–µ—Ä–≤–∏—Å—É (–ø–æ ID)

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
- –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –ø–æ–º–æ—â—å—é axios
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Ç–∞–π–º–∞—É—Ç–æ–≤
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Application Insights

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞** (`src/api-gateway/app.js`):
```javascript
// –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤
app.get('/api/products', async (req, res) => {
  const response = await axios.get(`${PRODUCT_SERVICE_URL}/products`, {
    timeout: 5000
  });
  res.json(response.data);
});
```

### Product Service (Python/Flask)

**–ü–æ—Ä—Ç**: 8000  
**–î–æ—Å—Ç—É–ø**: –¢–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π (–±–µ–∑ –≤–Ω–µ—à–Ω–µ–≥–æ –≤—Ö–æ–¥–∞)  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ –ø–∞–º—è—Ç–∏  

**–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã**:
- `GET /` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–∏—Å–µ
- `GET /health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- `GET /products` - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- `GET /products/<id>` - –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç –ø–æ ID

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
- RESTful API –Ω–∞ Flask
- –•—Ä–∞–Ω–∏–ª–∏—â–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ –ø–∞–º—è—Ç–∏ (–ø—Ä–æ—Å—Ç–æ, –±–µ–∑ –ë–î)
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å –ø–æ–º–æ—â—å—é –ø—Ä–æ–±
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Application Insights

**–ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö**:
```python
{
  "id": 1,
  "name": "Laptop",
  "description": "High-performance laptop",
  "price": 999.99,
  "stock": 50
}
```

**–ü–æ—á–µ–º—É —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –¥–æ—Å—Ç—É–ø?**
–ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞–ø—Ä—è–º—É—é. –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ API Gateway, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–∞—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞
- –ì–∏–±–∫–æ—Å—Ç—å: –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –±—ç–∫–µ–Ω–¥ –±–µ–∑ –≤–ª–∏—è–Ω–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤

## –ü–æ–Ω–∏–º–∞–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤

### –ö–∞–∫ —Å–µ—Ä–≤–∏—Å—ã –æ–±—â–∞—é—Ç—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º

```mermaid
sequenceDiagram
    participant User
    participant Gateway as API Gateway<br/>(–ü–æ—Ä—Ç 8080)
    participant Product as –°–µ—Ä–≤–∏—Å –ø—Ä–æ–¥—É–∫—Ç–æ–≤<br/>(–ü–æ—Ä—Ç 8000)
    participant AI as Application Insights
    
    User->>Gateway: GET /api/products
    Gateway->>AI: –õ–æ–≥ –∑–∞–ø—Ä–æ—Å–∞
    Gateway->>Product: GET /products (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π HTTP)
    Product->>AI: –õ–æ–≥ –∑–∞–ø—Ä–æ—Å–∞
    Product-->>Gateway: JSON –æ—Ç–≤–µ—Ç [5 –ø—Ä–æ–¥—É–∫—Ç–æ–≤]
    Gateway->>AI: –õ–æ–≥ –æ—Ç–≤–µ—Ç–∞
    Gateway-->>User: JSON –æ—Ç–≤–µ—Ç [5 –ø—Ä–æ–¥—É–∫—Ç–æ–≤]
    
    Note over Gateway,Product: –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π DNS: http://product-service
    Note over User,AI: –í—Å—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∞ –∏ –ø—Ä–æ—Å–ª–µ–∂–µ–Ω–∞
```
–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ API Gateway –æ–±—â–∞–µ—Ç—Å—è —Å Product Service —á–µ—Ä–µ–∑ **–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ HTTP –≤—ã–∑–æ–≤—ã**:

```javascript
// API Gateway (src/api-gateway/app.js)
const PRODUCT_SERVICE_URL = process.env.PRODUCT_SERVICE_URL;

// –í—ã–ø–æ–ª–Ω–∏—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π HTTP-–∑–∞–ø—Ä–æ—Å
const response = await axios.get(`${PRODUCT_SERVICE_URL}/products`);
```

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã**:

1. **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ DNS**: Container Apps –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç DNS –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
   - FQDN Product Service: `product-service.internal.<environment>.azurecontainerapps.io`
   - –£–ø—Ä–æ—â—ë–Ω–Ω–æ: `http://product-service` (Container Apps —Ä–∞–∑—Ä–µ—à–∞–µ—Ç)

2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞**: –í Bicep —É Product Service —Å—Ç–æ–∏—Ç `external: false`
   - –î–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ Container Apps —Å—Ä–µ–¥—ã
   - –ù–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞

3. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**: URL —Å–µ—Ä–≤–∏—Å–æ–≤ –≤–Ω–µ–¥—Ä—è—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
   - Bicep –ø–µ—Ä–µ–¥–∞—ë—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π FQDN –≤ —à–ª—é–∑
   - –í –∫–æ–¥–µ –Ω–µ—Ç –∂–µ—Å—Ç–∫–æ –∑–∞–¥–∞–Ω–Ω—ã—Ö URL

**–ê–Ω–∞–ª–æ–≥–∏—è**: –≠—Ç–æ –∫–∞–∫ –æ—Ñ–∏—Å–Ω–æ–µ –∑–¥–∞–Ω–∏–µ. API Gateway ‚Äî —Å—Ç–æ–π–∫–∞ —Ä–µ—Å–µ–ø—à–Ω (–ø—É–±–ª–∏—á–Ω–∞—è), –∞ Product Service ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –æ—Ñ–∏—Å. –ü–æ—Å–µ—Ç–∏—Ç–µ–ª–∏ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏ —á–µ—Ä–µ–∑ —Ä–µ—Å–µ–ø—à–Ω, —á—Ç–æ–±—ã –ø–æ–ø–∞—Å—Ç—å –≤ –æ—Ñ–∏—Å.

## –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### –ü–æ–ª–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –æ–±–∞ —Å–µ—Ä–≤–∏—Å–∞
azd up
```

–†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç:
1. –°—Ä–µ–¥—É Container Apps
2. Application Insights
3. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä
4. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä API Gateway
5. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä Product Service

**–í—Ä–µ–º—è**: 8-12 –º–∏–Ω—É—Ç

### –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å

```bash
# –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É —Å–ª—É–∂–±—É (–ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–≥–æ azd up)
azd deploy api-gateway

# –ò–ª–∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–æ–¥—É–∫—Ç–æ–≤—É—é —Å–ª—É–∂–±—É
azd deploy product-service
```

**–°–ª—É—á–∞–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**: –∫–æ–≥–¥–∞ –≤—ã –æ–±–Ω–æ–≤–∏–ª–∏ –∫–æ–¥ –æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –∏ —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Ç–æ–ª—å–∫–æ –µ–≥–æ.

### –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

```bash
# –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
azd env set GATEWAY_MAX_REPLICAS 30

# –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∑–∞–Ω–æ–≤–æ —Å –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
azd up
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

–û–±–∞ —Å–µ—Ä–≤–∏—Å–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –Ω–∞ HTTP-–∞–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –∏—Ö Bicep —Ñ–∞–π–ª—ã:

**API Gateway**:
- –ú–∏–Ω–∏–º—É–º —Ä–µ–ø–ª–∏–∫: 2 (–≤—Å–µ–≥–¥–∞ –º–∏–Ω–∏–º—É–º 2 –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏)
- –ú–∞–∫—Å–∏–º—É–º —Ä–µ–ø–ª–∏–∫: 20
- –¢—Ä–∏–≥–≥–µ—Ä –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è: 50 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Ä–µ–ø–ª–∏–∫—É

**Product Service**:
- –ú–∏–Ω–∏–º—É–º —Ä–µ–ø–ª–∏–∫: 1 (–º–æ–∂–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å—Å—è –¥–æ –Ω—É–ª—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
- –ú–∞–∫—Å–∏–º—É–º —Ä–µ–ø–ª–∏–∫: 10
- –¢—Ä–∏–≥–≥–µ—Ä –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è: 100 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Ä–µ–ø–ª–∏–∫—É

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è** (–≤ `infra/app/*.bicep`):
```bicep
scale: {
  minReplicas: 1
  maxReplicas: 10
  rules: [
    {
      name: 'http-scale-rule'
      http: {
        metadata: {
          concurrentRequests: '100'  // Adjust this
        }
      }
    }
  ]
}
```

### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

**API Gateway**:
- CPU: 1.0 vCPU
- –ü–∞–º—è—Ç—å: 2 GiB
- –ü—Ä–∏—á–∏–Ω–∞: –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤–µ—Å—å –≤–Ω–µ—à–Ω–∏–π —Ç—Ä–∞—Ñ–∏–∫

**Product Service**:
- CPU: 0.5 vCPU
- –ü–∞–º—è—Ç—å: 1 GiB
- –ü—Ä–∏—á–∏–Ω–∞: –ª—ë–≥–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –ø–∞–º—è—Ç–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è

–û–±–∞ —Å–µ—Ä–≤–∏—Å–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø—Ä–æ–±—ã –∂–∏–≤–æ—Å—Ç–∏ –∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:

```bicep
probes: [
  {
    type: 'Liveness'
    httpGet: {
      path: '/health'
      port: 8080
    }
    initialDelaySeconds: 10
    periodSeconds: 30
  }
  {
    type: 'Readiness'
    httpGet: {
      path: '/health'
      port: 8080
    }
    initialDelaySeconds: 5
    periodSeconds: 10
  }
]
```

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç**:
- **–ñ–∏–≤–æ—Å—Ç—å (liveness)**: –µ—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç, Container Apps –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å (readiness)**: –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –≥–æ—Ç–æ–≤, Container Apps –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ —ç—Ç—É —Ä–µ–ø–ª–∏–∫—É

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –∂—É—Ä–Ω–∞–ª–æ–≤ —Å –ø–æ–º–æ—â—å—é azd monitor
azd monitor --logs

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Azure CLI –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π:
# –ü–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –∂—É—Ä–Ω–∞–ª–æ–≤ –∏–∑ API Gateway
az containerapp logs show --name api-gateway --resource-group $RG_NAME --follow

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∂—É—Ä–Ω–∞–ª–æ–≤ —Å–ª—É–∂–±—ã –ø—Ä–æ–¥—É–∫—Ç–∞
az containerapp logs show --name product-service --resource-group $RG_NAME --tail 100
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥**:
```
[api-gateway] API Gateway listening on port 8080
[api-gateway] Product Service URL: http://product-service
[api-gateway] GET /api/products 200 - 45ms
[product-service] Retrieved 5 products
```

### –ó–∞–ø—Ä–æ—Å—ã Application Insights

–ó–∞–π–¥–∏—Ç–µ –≤ Application Insights –≤ –ø–æ—Ä—Ç–∞–ª–µ Azure –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –∑–∞–ø—Ä–æ—Å—ã:

**–ü–æ–∏—Å–∫ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤**:
```kusto
requests
| where timestamp > ago(1h)
| where duration > 1000  // Requests taking >1 second
| summarize count() by name, cloud_RoleName
| order by count_ desc
```

**–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—ã–∑–æ–≤–æ–≤ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏**:
```kusto
dependencies
| where timestamp > ago(1h)
| where type == "Http"
| project timestamp, name, target, duration, success
| order by timestamp desc
```

**–ü—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫ –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º**:
```kusto
exceptions
| where timestamp > ago(24h)
| summarize errorCount = count() by cloud_RoleName, type
| order by errorCount desc
```

**–û–±—ä—ë–º –∑–∞–ø—Ä–æ—Å–æ–≤ –≤–æ –≤—Ä–µ–º–µ–Ω–∏**:
```kusto
requests
| where timestamp > ago(1h)
| summarize requestCount = count() by bin(timestamp, 5m), cloud_RoleName
| render timechart
```

### –î–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```bash
# –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ Application Insights
azd env get-values | grep APPLICATIONINSIGHTS

# –û—Ç–∫—Ä—ã—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Ä—Ç–∞–ª–∞ Azure
az monitor app-insights component show \
  --app $(azd env get-values | grep APPLICATIONINSIGHTS_CONNECTION_STRING | cut -d '=' -f2) \
  --resource-group $(azd env get-values | grep AZURE_RESOURCE_GROUP | cut -d '=' -f2) \
  --query "appId" -o tsv
```

### –ú–µ—Ç—Ä–∏–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Application Insights –≤ –ø–æ—Ä—Ç–∞–ª–µ Azure  
2. –ù–∞–∂–º–∏—Ç–µ "Live Metrics" (–º–µ—Ç—Ä–∏–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏)  
3. –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ —Ç–µ–∫—É—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã, –æ—à–∏–±–∫–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å  
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –≤—ã–ø–æ–ª–Ω–∏–≤: `curl $(azd env get-values | grep API_GATEWAY_URL | cut -d '=' -f2 | tr -d '"')/api/products`  

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 1: –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –ø—Ä–æ–¥—É–∫—Ç–∞ ‚≠ê (–ª–µ–≥–∫–æ)

**–¶–µ–ª—å**: –î–æ–±–∞–≤–∏—Ç—å POST —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤

**–°—Ç–∞—Ä—Ç–æ–≤–∞—è —Ç–æ—á–∫–∞**: `src/product-service/main.py`

**–®–∞–≥–∏**:

1. –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç –ø–æ—Å–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏ `get_product` –≤ `main.py`:

```python
@app.route('/products', methods=['POST'])
def create_product():
    """Create a new product"""
    data = request.get_json()
    
    # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
    if not data or 'name' not in data or 'price' not in data:
        return jsonify({'error': 'Missing required fields: name, price'}), 400
    
    new_id = max(p['id'] for p in products) + 1
    new_product = {
        'id': new_id,
        'name': data['name'],
        'description': data.get('description', ''),
        'price': float(data['price']),
        'stock': int(data.get('stock', 0))
    }
    products.append(new_product)
    logger.info(f"Created product {new_id}")
    return jsonify(new_product), 201
```

2. –î–æ–±–∞–≤—å—Ç–µ –º–∞—Ä—à—Ä—É—Ç POST –≤ API Gateway (`src/api-gateway/app.js`):

```javascript
// –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ –ø–æ—Å–ª–µ –º–∞—Ä—à—Ä—É—Ç–∞ GET /api/products
app.post('/api/products', async (req, res) => {
  try {
    console.log(`Forwarding POST request to ${PRODUCT_SERVICE_URL}/products`);
    const response = await axios.post(`${PRODUCT_SERVICE_URL}/products`, req.body, {
      timeout: 5000
    });
    res.status(201).json(response.data);
  } catch (error) {
    console.error('Error calling product service:', error.message);
    res.status(503).json({
      error: 'Product service unavailable',
      message: error.message
    });
  }
});
```

3. –ü–æ–≤—Ç–æ—Ä–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –æ–±–∞ —Å–µ—Ä–≤–∏—Å–∞:

```bash
azd deploy product-service
azd deploy api-gateway
```

4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç:

```bash
GATEWAY_URL=$(azd env get-values | grep API_GATEWAY_URL | cut -d '=' -f2 | tr -d '"')

# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç
curl -X POST $GATEWAY_URL/api/products \
  -H "Content-Type: application/json" \
  -d '{"name":"USB Cable","price":9.99,"stock":500}'
```

**‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{"id":6,"name":"USB Cable","description":"","price":9.99,"stock":500}
```

5. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ:

```bash
curl $GATEWAY_URL/api/products
# –¢–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è 6 –ø—Ä–æ–¥—É–∫—Ç–æ–≤, –≤–∫–ª—é—á–∞—è –Ω–æ–≤—ã–π USB-–∫–∞–±–µ–ª—å
```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞**:
- ‚úÖ POST-–∑–∞–ø—Ä–æ—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTTP 201
- ‚úÖ –ù–æ–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ GET /api/products
- ‚úÖ –£ –ø—Ä–æ–¥—É–∫—Ç–∞ –µ—Å—Ç—å –∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–Ω—ã–π ID

**–í—Ä–µ–º—è**: 10-15 –º–∏–Ω—É—Ç

---

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 2: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –∞–≤—Ç–æ—Å–∫–µ–π–ª–∏–Ω–≥–∞ ‚≠ê‚≠ê (–°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å)

**–¶–µ–ª—å**: –ò–∑–º–µ–Ω–∏—Ç—å Product Service —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–ª—Å—è –±–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ

**–ò—Å—Ö–æ–¥–Ω–∞—è —Ç–æ—á–∫–∞**: `infra/app/product-service.bicep`

**–®–∞–≥–∏**:

1. –û—Ç–∫—Ä–æ–π—Ç–µ `infra/app/product-service.bicep` –∏ –Ω–∞–π–¥–∏—Ç–µ –±–ª–æ–∫ `scale` (–æ–∫–æ–ª–æ —Å—Ç—Ä–æ–∫–∏ 95)

2. –ò–∑–º–µ–Ω–∏—Ç–µ —Å:
```bicep
scale: {
  minReplicas: 1
  maxReplicas: 10
  rules: [
    {
      name: 'http-scale-rule'
      http: {
        metadata: {
          concurrentRequests: '100'  // OLD
        }
      }
    }
  ]
}
```

–ù–∞:
```bicep
scale: {
  minReplicas: 2  // Always have 2 running
  maxReplicas: 20  // Allow more scaling
  rules: [
    {
      name: 'http-scale-rule'
      http: {
        metadata: {
          concurrentRequests: '20'  // Scale at lower threshold
        }
      }
    }
  ]
}
```

3. –ü–æ–≤—Ç–æ—Ä–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É:

```bash
azd up
```

4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:

```bash
az containerapp show \
  --name $(azd env get-values | grep PRODUCT_SERVICE | head -1 | cut -d '/' -f5) \
  --resource-group $(azd env get-values | grep AZURE_RESOURCE_GROUP | cut -d '=' -f2 | tr -d '"') \
  --query "properties.template.scale" -o json
```

**‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "minReplicas": 2,
  "maxReplicas": 20,
  "rules": [...]
}
```

5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–≤—Ç–æ—Å–∫–µ–π–ª–∏–Ω–≥ –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π:

```bash
# –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
for i in {1..500}; do curl $GATEWAY_URL/api/products & done

# –ù–∞–±–ª—é–¥–∞—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é Azure CLI
az containerapp logs show --name product-service --resource-group $RG_NAME --follow
# –°–ª–µ–¥–∏—Ç—å –∑–∞ —Å–æ–±—ã—Ç–∏—è–º–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞**:
- ‚úÖ Product Service –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –º–∏–Ω–∏–º—É–º 2 —Ä–µ–ø–ª–∏–∫–∞–º–∏
- ‚úÖ –ü—Ä–∏ –Ω–∞–≥—Ä—É–∑–∫–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –±–æ–ª–µ–µ —á–µ–º 2 —Ä–µ–ø–ª–∏–∫–∏
- ‚úÖ Azure Portal –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –Ω–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

**–í—Ä–µ–º—è**: 15-20 –º–∏–Ω—É—Ç

---

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ ‚≠ê‚≠ê (–°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å)

**–¶–µ–ª—å**: –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å Application Insights –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ API –ø—Ä–æ–¥—É–∫—Ç–∞

**–®–∞–≥–∏**:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Application Insights –≤ Azure Portal:
   - –û—Ç–∫—Ä–æ–π—Ç–µ Azure Portal
   - –ù–∞–π–¥–∏—Ç–µ –≤–∞—à—É –≥—Ä—É–ø–ø—É —Ä–µ—Å—É—Ä—Å–æ–≤ (rg-microservices-*)
   - –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Ä–µ—Å—É—Ä—Å Application Insights

2. –ù–∞–∂–º–∏—Ç–µ "Logs" –≤ –ª–µ–≤–æ–º –º–µ–Ω—é

3. –°–æ–∑–¥–∞–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å:

```kusto
requests
| where timestamp > ago(1h)
| where name contains "products"
| summarize 
    RequestCount = count(),
    AvgDuration = avg(duration),
    P95Duration = percentile(duration, 95),
    SuccessRate = 100.0 * countif(success == true) / count()
  by bin(timestamp, 5m)
| render timechart
```

4. –ù–∞–∂–º–∏—Ç–µ "Run", —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å

5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∑–∞–ø—Ä–æ—Å:
   - –ù–∞–∂–º–∏—Ç–µ "Save"
   - –ù–∞–∑–≤–∞–Ω–∏–µ: "Product API Performance"
   - –ö–∞—Ç–µ–≥–æ—Ä–∏—è: "Performance"

6. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Ç—Ä–∞—Ñ–∏–∫:

```bash
for i in {1..100}; do curl $GATEWAY_URL/api/products; sleep 1; done
```

7. –û–±–Ω–æ–≤–∏—Ç–µ –∑–∞–ø—Ä–æ—Å, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –¥–∞–Ω–Ω—ã–µ

**‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ì—Ä–∞—Ñ–∏–∫ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∑–∞–ø—Ä–æ—Å–æ–≤ –≤–æ –≤—Ä–µ–º–µ–Ω–∏
- –°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å < 500–º—Å
- –£—Å–ø–µ—à–Ω–æ—Å—Ç—å = 100%
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –ø–æ 5 –º–∏–Ω—É—Ç

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞**:
- ‚úÖ –ó–∞–ø—Ä–æ—Å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 100+ –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –£—Å–ø–µ—à–Ω–æ—Å—Ç—å 100%
- ‚úÖ –°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å < 500–º—Å
- ‚úÖ –ì—Ä–∞—Ñ–∏–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –ø–æ 5 –º–∏–Ω—É—Ç

**–ò–∑—É—á–∞–µ–º—ã–π –Ω–∞–≤—ã–∫**: –ü–æ–Ω–∏–º–∞—Ç—å, –∫–∞–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞ —Å –ø–æ–º–æ—â—å—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

**–í—Ä–µ–º—è**: 10-15 –º–∏–Ω—É—Ç

---

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 4: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ ‚≠ê‚≠ê‚≠ê (–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å)

**–¶–µ–ª—å**: –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤ API Gateway –ø—Ä–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Product Service

**–ò—Å—Ö–æ–¥–Ω–∞—è —Ç–æ—á–∫–∞**: `src/api-gateway/app.js`

**–®–∞–≥–∏**:

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫:

```bash
cd src/api-gateway
npm install axios-retry --save
cd ../..
```

2. –û–±–Ω–æ–≤–∏—Ç–µ `src/api-gateway/app.js` (–¥–æ–±–∞–≤—å—Ç–µ –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ axios):

```javascript
const axiosRetry = require('axios-retry');

// –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏–∫—É –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
axiosRetry(axios, {
  retries: 3,
  retryDelay: (retryCount) => {
    return retryCount * 1000; // 1—Å, 2—Å, 3—Å
  },
  retryCondition: (error) => {
    // –ü–æ–≤—Ç–æ—Ä—è—Ç—å –ø—Ä–∏ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–∫–∞—Ö –∏–ª–∏ –æ—Ç–≤–µ—Ç–∞—Ö 5xx
    return axiosRetry.isNetworkOrIdempotentRequestError(error) ||
           (error.response && error.response.status >= 500);
  }
});

console.log('Retry logic configured: 3 retries with exponential backoff');
```

3. –ü–æ–≤—Ç–æ—Ä–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ API Gateway:

```bash
azd deploy api-gateway
```

4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫, —Å–∏–º—É–ª–∏—Ä—É—è –æ—Ç–∫–∞–∑ —Å–µ—Ä–≤–∏—Å–∞:

```bash
# –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å –ø—Ä–æ–¥—É–∫—Ç–∞ –¥–æ 0 (—Å–º–æ–¥–µ–ª–∏—Ä–æ–≤–∞—Ç—å —Å–±–æ–π)
az containerapp update \
  --name $(azd env get-values | grep PRODUCT_SERVICE | head -1 | cut -d '/' -f5) \
  --resource-group $(azd env get-values | grep AZURE_RESOURCE_GROUP | cut -d '=' -f2 | tr -d '"') \
  --min-replicas 0 \
  --max-replicas 0

# –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–æ–¥—É–∫—Ç–∞–º (–±—É–¥–µ—Ç –ø–æ–≤—Ç–æ—Ä–µ–Ω–æ 3 —Ä–∞–∑–∞)
time curl -v $GATEWAY_URL/api/products
# –ù–∞–±–ª—é–¥–µ–Ω–∏–µ: –û—Ç–≤–µ—Ç –∑–∞–Ω–∏–º–∞–µ—Ç –æ–∫–æ–ª–æ 6 —Å–µ–∫—É–Ω–¥ (1—Å + 2—Å + 3—Å –ø–æ–≤—Ç–æ—Ä—ã)

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å –ø—Ä–æ–¥—É–∫—Ç–∞
az containerapp update \
  --name $(azd env get-values | grep PRODUCT_SERVICE | head -1 | cut -d '/' -f5) \
  --resource-group $(azd env get-values | grep AZURE_RESOURCE_GROUP | cut -d '=' -f2 | tr -d '"') \
  --min-replicas 1 \
  --max-replicas 10
```

5. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫:

```bash
az containerapp logs show --name api-gateway --resource-group $RG_NAME --tail 50
# –ò—Å–∫–∞—Ç—å: —Å–æ–æ–±—â–µ–Ω–∏—è –æ –ø–æ–ø—ã—Ç–∫–∞—Ö –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
```

**‚úÖ –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ó–∞–ø—Ä–æ—Å—ã –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è 3 —Ä–∞–∑–∞ –ø–µ—Ä–µ–¥ –æ—à–∏–±–∫–æ–π
- –ö–∞–∂–¥–∞—è –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ –∂–¥–µ—Ç –≤—Å—ë –¥–æ–ª—å—à–µ (1—Å, 2—Å, 3—Å)
- –£—Å–ø–µ—à–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
- –í –ª–æ–≥–∞—Ö –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø–æ–ø—ã—Ç–∫–∏ –ø–æ–≤—Ç–æ—Ä–æ–≤

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞**:
- ‚úÖ –ó–∞–ø—Ä–æ—Å—ã –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è 3 —Ä–∞–∑–∞ –ø–µ—Ä–µ–¥ –æ—à–∏–±–∫–æ–π
- ‚úÖ –ö–∞–∂–¥–∞—è –ø–æ–ø—ã—Ç–∫–∞ –∂–¥–µ—Ç –¥–æ–ª—å—à–µ (—ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞)
- ‚úÖ –£—Å–ø–µ—à–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ—Å–ª–µ —Ä–µ—Å—Ç–∞—Ä—Ç–∞ —Å–µ—Ä–≤–∏—Å–∞
- ‚úÖ –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø–æ–ø—ã—Ç–∫–∏ –ø–æ–≤—Ç–æ—Ä–æ–≤

**–ò–∑—É—á–∞–µ–º—ã–π –Ω–∞–≤—ã–∫**: –ü–æ–Ω–∏–º–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä—ã, circuit breakers, —Ç–∞–π–º–∞—É—Ç—ã)

**–í—Ä–µ–º—è**: 20-25 –º–∏–Ω—É—Ç

---

## –ö–æ–Ω—Ç—Ä–æ–ª—å –∑–Ω–∞–Ω–∏–π

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è:

### 1. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤ ‚úì

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–±—è:
- [ ] –ú–æ–∂–µ—Ç–µ –æ–±—ä—è—Å–Ω–∏—Ç—å, –∫–∞–∫ API Gateway –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç Product Service? (–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ DNS)
- [ ] –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –µ—Å–ª–∏ Product Service –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω? (Gateway –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É 503)
- [ ] –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ—Ç–∏–π —Å–µ—Ä–≤–∏—Å? (–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π Bicep-—Ñ–∞–π–ª, –¥–æ–±–∞–≤–∏—Ç—å –≤ main.bicep, —Å–æ–∑–¥–∞—Ç—å src –ø–∞–ø–∫—É)

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ:**
```bash
# –°–º–æ–¥–µ–ª–∏—Ä–æ–≤–∞—Ç—å —Å–±–æ–π —Å–ª—É–∂–±—ã
az containerapp update --name <product-service-name> --min-replicas 0 --max-replicas 0
curl $GATEWAY_URL/api/products
# ‚úÖ –û–∂–∏–¥–∞–µ—Ç—Å—è: 503 –°–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–ª—É–∂–±—É
az containerapp update --name <product-service-name> --min-replicas 1 --max-replicas 10
```

### 2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±–æ–∑—Ä–µ–≤–∞–µ–º–æ—Å—Ç—å ‚úì

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–±—è:
- [ ] –ì–¥–µ –≤–∏–¥–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –ª–æ–≥–∏? (Application Insights –≤ Azure Portal)
- [ ] –ö–∞–∫ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã? (Kusto-–∑–∞–ø—Ä–æ—Å: `requests | where duration > 1000`)
- [ ] –ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–æ–π —Å–µ—Ä–≤–∏—Å –≤—ã–∑–≤–∞–ª –æ—à–∏–±–∫—É? (–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª–µ `cloud_RoleName` –≤ –ª–æ–≥–∞—Ö)

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ:**
```bash
# –°–æ–∑–¥–∞—Ç—å –∏–º–∏—Ç–∞—Ü–∏—é –º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
curl "$GATEWAY_URL/api/products?delay=2000"

# –ó–∞–ø—Ä–æ—Å–∏—Ç—å –≤ Application Insights –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
# –ü–µ—Ä–µ–π—Ç–∏ –≤ Azure Portal ‚Üí Application Insights ‚Üí –ñ—É—Ä–Ω–∞–ª—ã
# –í—ã–ø–æ–ª–Ω–∏—Ç—å: requests | where duration > 1000 | project timestamp, name, duration, cloud_RoleName
```

### 3. –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å ‚úì

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–±—è:
- [ ] –ß—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∞–≤—Ç–æ—Å–∫–µ–π–ª–∏–Ω–≥? (–ü—Ä–∞–≤–∏–ª–∞ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤: 50 –¥–ª—è gateway, 100 –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∞)
- [ ] –°–∫–æ–ª—å–∫–æ —Ä–µ–ø–ª–∏–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å? (–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ `az containerapp revision list`)
- [ ] –ö–∞–∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å Product Service –¥–æ 5 —Ä–µ–ø–ª–∏–∫? (–û–±–Ω–æ–≤–∏—Ç—å minReplicas –≤ Bicep)

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ:**
```bash
# –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–≤—Ç–æ—Å–∫–∞–ª–∏—Ä–æ–≤–∞–Ω–∏—è
for i in {1..1000}; do curl $GATEWAY_URL/api/products & done

# –ù–∞–±–ª—é–¥–∞—Ç—å —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–ø–ª–∏–∫ —Å –ø–æ–º–æ—â—å—é Azure CLI
az containerapp logs show --name api-gateway --resource-group $RG_NAME --follow
# ‚úÖ –û–∂–∏–¥–∞–µ—Ç—Å—è: —É–≤–∏–¥–∏—Ç–µ —Å–æ–±—ã—Ç–∏—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –∂—É—Ä–Ω–∞–ª–∞—Ö
```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞**: –í—ã –º–æ–∂–µ—Ç–µ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—ã.

---

## –ê–Ω–∞–ª–∏–∑ –∑–∞—Ç—Ä–∞—Ç

### –û—Ü–µ–Ω–∫–∞ –µ–∂–µ–º–µ—Å—è—á–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç (–¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ —Å 2 —Å–µ—Ä–≤–∏—Å–∞–º–∏)

| –†–µ—Å—É—Ä—Å | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | –û—Ü–µ–Ω–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å |
|--------|--------------|--------------------|
| API Gateway | 2-20 —Ä–µ–ø–ª–∏–∫, 1 vCPU, 2GB RAM | $30-150 |
| Product Service | 1-10 —Ä–µ–ø–ª–∏–∫, 0.5 vCPU, 1GB RAM | $15-75 |
| Container Registry | –ë–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å | $5 |
| Application Insights | 1-2 –ì–ë/–º–µ—Å | $5-10 |
| Log Analytics | 1 –ì–ë/–º–µ—Å | $3 |
| **–ò—Ç–æ–≥–æ** | | **$58-243/–º–µ—Å—è—Ü** |

### –†–∞—Å—Ö–æ–¥—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

**–ù–µ–±–æ–ª—å—à–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞** (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/–æ–±—É—á–µ–Ω–∏–µ): ~$60/–º–µ—Å—è—Ü
- API Gateway: 2 —Ä–µ–ø–ª–∏–∫–∏ √ó 24/7 = $30
- Product Service: 1 —Ä–µ–ø–ª–∏–∫–∞ √ó 24/7 = $15
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ + —Ä–µ–µ—Å—Ç—Ä = $13

**–°—Ä–µ–¥–Ω—è—è –Ω–∞–≥—Ä—É–∑–∫–∞** (–º–∞–ª–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ): ~$120/–º–µ—Å—è—Ü
- API Gateway: —Å—Ä–µ–¥–Ω–µ–µ 5 —Ä–µ–ø–ª–∏–∫ = $75
- Product Service: —Å—Ä–µ–¥–Ω–µ–µ 3 —Ä–µ–ø–ª–∏–∫–∏ = $45
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ + —Ä–µ–µ—Å—Ç—Ä = $13

**–ë–æ–ª—å—à–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞** (–ø–∏–∫–æ–≤—ã–µ –ø–µ—Ä–∏–æ–¥—ã): ~$240/–º–µ—Å—è—Ü
- API Gateway: —Å—Ä–µ–¥–Ω–µ–µ 15 —Ä–µ–ø–ª–∏–∫ = $225
- Product Service: —Å—Ä–µ–¥–Ω–µ–µ 8 —Ä–µ–ø–ª–∏–∫ = $120
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ + —Ä–µ–µ—Å—Ç—Ä = $13

### –°–æ–≤–µ—Ç—ã –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞—Ç—Ä–∞—Ç

1. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–π—Ç–µ –¥–æ –Ω—É–ª—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**:
   ```bicep
   scale: {
     minReplicas: 0  // Save $30-40/month when not in use
     maxReplicas: 10
   }
   ```

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Consumption Plan –¥–ª—è Cosmos DB** (–∫–æ–≥–¥–∞ –¥–æ–±–∞–≤–∏—Ç–µ):
   - –ü–ª–∞—Ç–∏—Ç–µ —Ç–æ–ª—å–∫–æ –∑–∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
   - –ù–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–µ–º–ø–ª–∏–Ω–≥ –≤ Application Insights**:
   ```javascript
   appInsights.defaultClient.config.samplingPercentage = 50; // –û—Ç–±–æ—Ä 50% –∑–∞–ø—Ä–æ—Å–æ–≤
   ```

4. **–ß–∏—Å—Ç–∏—Ç–µ —Ä–µ—Å—É—Ä—Å—ã, –∫–æ–≥–¥–∞ –æ–Ω–∏ –Ω–µ –Ω—É–∂–Ω—ã**:
   ```bash
   azd down --force --purge
   ```

### –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –æ–ø—Ü–∏–∏

–î–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ:
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –∫—Ä–µ–¥–∏—Ç–æ–≤ Azure ($200 –Ω–∞ –ø–µ—Ä–≤—ã–µ 30 –¥–Ω–µ–π –¥–ª—è –Ω–æ–≤—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤)
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–ª–∏–∫ (—ç–∫–æ–Ω–æ–º–∏—è –æ–∫–æ–ª–æ 50%)
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–Ω–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç)
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ –Ω—É–ª—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏ –æ–±—É—á–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä**: –ó–∞–ø—É—Å–∫ —ç—Ç–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ 2 —á–∞—Å–∞ –≤ –¥–µ–Ω—å √ó 30 –¥–Ω–µ–π = ~$5/–º–µ—Å—è—Ü –≤–º–µ—Å—Ç–æ $60/–º–µ—Å—è—Ü

---

## –ë—ã—Å—Ç—Ä—ã–µ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: `azd up` –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É "Subscription not found"

**–†–µ—à–µ–Ω–∏–µ**:
```bash
# –í–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞ —Å —è–≤–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–æ–π
az account set --subscription <your-subscription-id>
azd env set AZURE_SUBSCRIPTION_ID <your-subscription-id>
azd up
```

### –ü—Ä–æ–±–ª–µ–º–∞: API Gateway –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 503 "Product service unavailable"

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∂—É—Ä–Ω–∞–ª—ã —Å–ª—É–∂–±—ã –ø—Ä–æ–¥—É–∫—Ç–∞ —Å –ø–æ–º–æ—â—å—é Azure CLI
az containerapp logs show --name product-service --resource-group $RG_NAME --tail 50

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–ª—É–∂–±—ã –ø—Ä–æ–¥—É–∫—Ç–∞
az containerapp show \
  --name $(azd env get-values | grep PRODUCT_SERVICE | head -1 | cut -d '/' -f5) \
  --resource-group $(azd env get-values | grep AZURE_RESOURCE_GROUP | cut -d '=' -f2 | tr -d '"') \
  --query "properties.runningStatus"
```

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã**:
1. –ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏ Python)
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –Ω–µ –ø—Ä–æ—à–ª–∞ (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç `/health`)
3. –°–±–æ–π —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–µ—Å—Ç—Ä –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ–±—Ä–∞–∑–∞)

### –ü—Ä–æ–±–ª–µ–º–∞: –ê–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Å—á–µ—Ç—á–∏–∫ —Ä–µ–ø–ª–∏–∫
az containerapp revision list \
  --name $(azd env get-values | grep API_GATEWAY | head -1 | cut -d '/' -f5) \
  --resource-group $(azd env get-values | grep AZURE_RESOURCE_GROUP | cut -d '=' -f2 | tr -d '"') \
  --query "[].properties.replicas"

# –°–æ–∑–¥–∞—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
for i in {1..1000}; do curl $GATEWAY_URL/api/products & done

# –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è —Å –ø–æ–º–æ—â—å—é Azure CLI
az containerapp logs show --name api-gateway --resource-group $RG_NAME --follow | grep -i scale
```

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã**:
1. –ù–∞–≥—Ä—É–∑–∫–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—ã—Å–æ–∫–∞—è –¥–ª—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª–∞ (–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ >50 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤)
2. –î–æ—Å—Ç–∏–≥–Ω—É—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–µ–¥–µ–ª —Ä–µ–ø–ª–∏–∫ (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Bicep)
3. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Bicep (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ concurrentRequests)

### –ü—Ä–æ–±–ª–µ–º–∞: Application Insights –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–æ–≥–∏

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
azd env get-values | grep APPLICATIONINSIGHTS

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç –ª–∏ —Å–ª—É–∂–±—ã —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—é
az monitor app-insights component show \
  --app $(azd env get-values | grep APPLICATIONINSIGHTS_NAME | cut -d '=' -f2 | tr -d '"') \
  --resource-group $(azd env get-values | grep AZURE_RESOURCE_GROUP | cut -d '=' -f2 | tr -d '"') \
  --query "properties.InstrumentationKey"
```

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã**:
1. –°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)
2. SDK Application Insights –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º–ø–æ—Ä—Ç—ã –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –≤ –∫–æ–¥–µ)
3. –ú–µ–∂—Å–µ—Ç–µ–≤–æ–π —ç–∫—Ä–∞–Ω –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—é (—Ä–µ–¥–∫–æ, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞)

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ —Å–±–æ—Ä–∫–∏ Docker –ª–æ–∫–∞–ª—å–Ω–æ

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**:
```bash
# –¢–µ—Å—Ç —Å–±–æ—Ä–∫–∏ API Gateway
cd src/api-gateway
docker build -t test-gateway .

# –¢–µ—Å—Ç —Å–±–æ—Ä–∫–∏ Product Service
cd ../product-service
docker build -t test-product .
```

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã**:
1. –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ package.json/requirements.txt
2. –û—à–∏–±–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ Dockerfile
3. –°–µ—Ç–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–í—Å–µ –µ—â–µ –ø—Ä–æ–±–ª–µ–º—ã?** –°–º. [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–º –ø—Ä–æ–±–ª–µ–º–∞–º](../../docs/chapter-07-troubleshooting/common-issues.md) –∏–ª–∏ [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫ Azure Container Apps](https://learn.microsoft.com/azure/container-apps/troubleshooting)

---

## –û—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤

–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –µ–∂–µ–º–µ—Å—è—á–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç, —É–¥–∞–ª–∏—Ç–µ –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã:

```bash
azd down --force --purge
```

**–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ:**
```
? Total resources to delete: 6, are you sure you want to continue? (y/N)
```

–í–≤–µ–¥–∏—Ç–µ `y` –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.

**–ß—Ç–æ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ**:
- –°—Ä–µ–¥–∞ Container Apps
- –û–±–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (gateway –∏ product service)
- Container Registry
- Application Insights
- Log Analytics Workspace
- –ì—Ä—É–ø–ø–∞ —Ä–µ—Å—É—Ä—Å–æ–≤

**‚úì –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—á–∏—Å—Ç–∫—É**:
```bash
az group list --query "[?starts_with(name,'rg-microservices')]" --output table
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –ø—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

---

## –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é: –æ—Ç 2 –¥–æ 5+ —Å–µ—Ä–≤–∏—Å–æ–≤

–ö–æ–≥–¥–∞ –≤—ã –æ—Å–≤–æ–∏—Ç–µ —ç—Ç—É –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å 2 —Å–µ—Ä–≤–∏—Å–∞–º–∏, –≤–æ—Ç –∫–∞–∫ —Ä–∞—Å—à–∏—Ä—è—Ç—å:

### –§–∞–∑–∞ 1: –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (—Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥)

**–î–æ–±–∞–≤–∏—Ç—å Cosmos DB –¥–ª—è Product Service**:

1. –°–æ–∑–¥–∞–π—Ç–µ `infra/core/cosmos.bicep`:
   ```bicep
   resource cosmosAccount 'Microsoft.DocumentDB/databaseAccounts@2023-04-15' = {
     name: name
     location: location
     kind: 'GlobalDocumentDB'
     properties: {
       databaseAccountOfferType: 'Standard'
       consistencyPolicy: { defaultConsistencyLevel: 'Session' }
       locations: [{ locationName: location, failoverPriority: 0 }]
     }
   }
   ```

2. –û–±–Ω–æ–≤–∏—Ç–µ Product Service –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Azure Cosmos DB Python SDK –≤–º–µ—Å—Ç–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ø–∞–º—è—Ç–∏

3. –ü—Ä–∏–º–µ—Ä–Ω–∞—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: ~$25/–º–µ—Å—è—Ü (serverless)

### –§–∞–∑–∞ 2: –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ—Ç–∏–π —Å–µ—Ä–≤–∏—Å (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏)

**–°–æ–∑–¥–∞–π—Ç–µ Order Service**:

1. –ù–æ–≤–∞—è –ø–∞–ø–∫–∞: `src/order-service/` (Python/Node.js/C#)
2. –ù–æ–≤—ã–π Bicep: `infra/app/order-service.bicep`
3. –û–±–Ω–æ–≤–∏—Ç–µ API Gateway –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ `/api/orders`
4. –î–æ–±–∞–≤—å—Ç–µ Azure SQL Database –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å—Ç–∞–Ω–µ—Ç**:
```
API Gateway ‚Üí Product Service (Cosmos DB)
           ‚Üí Order Service (Azure SQL)
```

### –§–∞–∑–∞ 3: –î–æ–±–∞–≤–∏—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ (Service Bus)

**–í–Ω–µ–¥—Ä–∏—Ç—å event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É**:

1. –î–æ–±–∞–≤–∏—Ç—å Azure Service Bus: `infra/core/servicebus.bicep`
2. Product Service –ø—É–±–ª–∏–∫—É–µ—Ç —Å–æ–±—ã—Ç–∏—è "ProductCreated"
3. Order Service –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è –ø—Ä–æ–¥—É–∫—Ç–∞
4. –î–æ–±–∞–≤–∏—Ç—å Notification Service –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π

**–ü–∞—Ç—Ç–µ—Ä–Ω**: Request/Response (HTTP) + Event-Driven (Service Bus)

### –§–∞–∑–∞ 4: –î–æ–±–∞–≤–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å User Service**:

1. –°–æ–∑–¥–∞—Ç—å `src/user-service/` (Go/Node.js)
2. –î–æ–±–∞–≤–∏—Ç—å Azure AD B2C –∏–ª–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
3. API Gateway –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–∫–µ–Ω—ã –ø–µ—Ä–µ–¥ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π
4. –°–µ—Ä–≤–∏—Å—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –§–∞–∑–∞ 5: –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

**–î–æ–±–∞–≤–∏—Ç—å —ç—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:
- ‚úÖ Azure Front Door (–≥–ª–æ–±–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ –Ω–∞–≥—Ä—É–∑–∫–∏)
- ‚úÖ Azure Key Vault (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞–º–∏)
- ‚úÖ Azure Monitor Workbooks (–∫–∞—Å—Ç–æ–º–Ω—ã–µ –¥–∞—à–±–æ—Ä–¥—ã)
- ‚úÖ CI/CD Pipeline (GitHub Actions)
- ‚úÖ Blue-Green Deployments
- ‚úÖ –£–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–∏ –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

**–°—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–ª–Ω–æ–π –ø—Ä–æ–¥–∞–∫—à–µ–Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**: ~$300-1,400/–º–µ—Å—è—Ü

---

## –£–∑–Ω–∞–π—Ç–µ –±–æ–ª—å—à–µ

### –°–≤—è–∑–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Azure Container Apps](https://learn.microsoft.com/azure/container-apps/)
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤](https://learn.microsoft.com/azure/architecture/guide/architecture-styles/microservices)
- [Application Insights –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∞–Ω–∏—è](https://learn.microsoft.com/azure/azure-monitor/app/distributed-tracing)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Azure Developer CLI](https://learn.microsoft.com/azure/developer/azure-developer-cli/)

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –≤ –∫—É—Ä—Å–µ
- ‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–π: [–ü—Ä–æ—Å—Ç–æ–π Flask API](../../../../examples/container-app/simple-flask-api) - –ü—Ä–∏–º–µ—Ä –¥–ª—è –æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö
- ‚Üí –°–ª–µ–¥—É—é—â–∏–π: [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ò–ò](../../../../docs/ai-foundry) - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ò–ò –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
- üè† [–î–æ–º–∞—à–Ω—è—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫—É—Ä—Å–∞](../../README.md)

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á—Ç–æ

| –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å | –û–¥–∏–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä | –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã (—ç—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä) | Kubernetes (AKS) |
|-------------|---------------|----------------------------|------------------|
| **–°—Ü–µ–Ω–∞—Ä–∏–π** | –ü—Ä–æ—Å—Ç—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | –°–ª–æ–∂–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** | –û–¥–∏–Ω —Å–µ—Ä–≤–∏—Å | –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å** | –ù–∏–∑–∫–∞—è | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–∞—è |
| **–†–∞–∑–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã** | 1-3 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ | 3-10 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ | 10+ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ |
| **–°—Ç–æ–∏–º–æ—Å—Ç—å** | ~$15-50/–º–µ—Å | ~$60-250/–º–µ—Å | ~$150-500/–º–µ—Å |
| **–í—Ä–µ–º—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è** | 5-10 –º–∏–Ω—É—Ç | 8-12 –º–∏–Ω—É—Ç | 15-30 –º–∏–Ω—É—Ç |
| **–õ—É—á—à–µ –≤—Å–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è** | MVP, –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã | –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | –ú—É–ª—å—Ç–∏–æ–±–ª–∞–∫–æ, –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Å–µ—Ç—å |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ù–∞—á–∏–Ω–∞–π—Ç–µ —Å Container Apps (—ç—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä), –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –Ω–∞ AKS —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω—É–∂–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è Kubernetes.

---

## –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

**–í: –ü–æ—á–µ–º—É –≤—Å–µ–≥–æ 2 —Å–µ—Ä–≤–∏—Å–∞ –≤–º–µ—Å—Ç–æ 5+?**  
–û: –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∏—è. –û—Å–≤–æ–π—Ç–µ –æ—Å–Ω–æ–≤—ã (–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ) –Ω–∞ –ø—Ä–æ—Å—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ, –ø—Ä–µ–∂–¥–µ —á–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å. –û–±—Ä–∞–∑—ã, –∫–æ—Ç–æ—Ä—ã–º –≤—ã –Ω–∞—É—á–∏—Ç–µ—Å—å –∑–¥–µ—Å—å, –ø—Ä–∏–º–µ–Ω–∏–º—ã –∫ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞–º —Å 100 —Å–µ—Ä–≤–∏—Å–∞–º–∏.

**–í: –ú–æ–≥—É –ª–∏ —è –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —Å–µ—Ä–≤–∏—Å–æ–≤ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ?**  
–û: –ê–±—Å–æ–ª—é—Ç–Ω–æ! –°–ª–µ–¥—É–π—Ç–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é –≤—ã—à–µ. –ö–∞–∂–¥—ã–π –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å —Å–ª–µ–¥—É–µ—Ç —Ç–æ–π –∂–µ —Å—Ö–µ–º–µ: —Å–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É src, —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª Bicep, –æ–±–Ω–æ–≤–∏—Ç–µ azure.yaml, –∑–∞–¥–µ–ø–ª–æ–π—Ç–µ.

**–í: –≠—Ç–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞?**  
–û: –≠—Ç–æ –Ω–∞–¥–µ–∂–Ω–∞—è –æ—Å–Ω–æ–≤–∞. –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –¥–æ–±–∞–≤—å—Ç–µ: —É–ø—Ä–∞–≤–ª—è–µ–º—É—é –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å, Key Vault, –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, CI/CD –ø–∞–π–ø–ª–∞–π–Ω, –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è.

**–í: –ü–æ—á–µ–º—É –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Dapr –∏–ª–∏ –¥—Ä—É–≥—É—é —Å–µ—Ç–µ–≤—É—é –æ–±–æ–ª–æ—á–∫—É —Å–µ—Ä–≤–∏—Å–æ–≤?**  
–û: –ß—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ—Å—Ç–æ—Ç—É –¥–ª—è –æ–±—É—á–µ–Ω–∏—è. –ü–æ—Å–ª–µ –ø–æ–Ω–∏–º–∞–Ω–∏—è –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ —Å–µ—Ç–µ–≤–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è Container Apps, –≤—ã —Å–º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å Dapr –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º, pub/sub, –±–∏–Ω–¥–∏–Ω–≥–∏).

**–í: –ö–∞–∫ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ?**  
–û: –ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –ª–æ–∫–∞–ª—å–Ω–æ —Å Docker:  
```bash
cd src/api-gateway
docker build -t local-gateway .
docker run -p 8080:8080 -e PRODUCT_SERVICE_URL=http://localhost:8000 local-gateway
```
  
**–í: –ú–æ–≥—É –ª–∏ —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —è–∑—ã–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è?**  
–û: –î–∞! –í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –ø–æ–∫–∞–∑–∞–Ω—ã Node.js (gateway) + Python (product service). –ú–æ–∂–Ω–æ —Å–º–µ—à–∏–≤–∞—Ç—å –ª—é–±—ã–µ —è–∑—ã–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö: C#, Go, Java, Ruby, PHP –∏ –¥—Ä.

**–í: –ß—Ç–æ –µ—Å–ª–∏ —É –º–µ–Ω—è –Ω–µ—Ç Azure –∫—Ä–µ–¥–∏—Ç–æ–≤?**  
–û: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ Azure (–ø–µ—Ä–≤—ã–µ 30 –¥–Ω–µ–π –Ω–æ–≤—ã–º –∞–∫–∫–∞—É–Ω—Ç–∞–º –¥–∞—é—Ç $200 –∫—Ä–µ–¥–∏—Ç–æ–≤) –∏–ª–∏ –¥–µ–ø–ª–æ–π—Ç–µ –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤ –∏ —É–¥–∞–ª—è–π—Ç–µ —Å—Ä–∞–∑—É. –≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä —Å—Ç–æ–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ $2 –≤ –¥–µ–Ω—å.

**–í: –ß–µ–º —ç—Ç–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç Azure Kubernetes Service (AKS)?**  
–û: Container Apps –ø—Ä–æ—â–µ (–Ω–µ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å Kubernetes), –Ω–æ –º–µ–Ω–µ–µ –≥–∏–±–æ–∫. AKS –¥–∞–µ—Ç –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ Kubernetes, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –∑–Ω–∞–Ω–∏–π. –ù–∞—á–∏–Ω–∞–π—Ç–µ —Å Container Apps, –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –Ω–∞ AKS –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

**–í: –ú–æ–≥—É –ª–∏ —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ Azure —Å–µ—Ä–≤–∏—Å–∞–º–∏?**  
–û: –î–∞! –ú–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –±–∞–∑–∞–º –¥–∞–Ω–Ω—ã—Ö, —Ö—Ä–∞–Ω–∏–ª–∏—â–∞–º, Service Bus –∏ —Ç.–¥. –û–±–Ω–æ–≤–∏—Ç–µ Bicep —Ñ–∞–π–ª—ã, —á—Ç–æ–±—ã —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä–µ—Å—É—Ä—Å—ã –≤–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö.

---

> **üéì –ò—Ç–æ–≥–∏ –æ–±—É—á–µ–Ω–∏—è**: –í—ã –Ω–∞—É—á–∏–ª–∏—Å—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞—Ç—å –º–Ω–æ–≥–æ—Å–µ—Ä–≤–∏—Å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º —Å–µ—Ç–µ–≤—ã–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ–º, —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏, –≥–æ—Ç–æ–≤—ã–º–∏ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É. –≠—Ç–∞ –±–∞–∑–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç –≤–∞—Å –∫ —Å–ª–æ–∂–Ω—ã–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º —Å–∏—Å—Ç–µ–º–∞–º –∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–º –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—ã–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞–º.

**üìö –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫—É—Ä—Å—É:**  
- ‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–π: [–ü—Ä–æ—Å—Ç–æ–π Flask API](../../../../examples/container-app/simple-flask-api)  
- ‚Üí –°–ª–µ–¥—É—é—â–∏–π: [–ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö](../../../../database-app)  
- üè† [–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫—É—Ä—Å–∞](../../README.md)  
- üìñ [–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ Container Apps](../../docs/chapter-04-infrastructure/deployment-guide.md)  

---

**‚ú® –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!** –í—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏ –ø—Ä–∏–º–µ—Ä –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤. –¢–µ–ø–µ—Ä—å –≤—ã –ø–æ–Ω–∏–º–∞–µ—Ç–µ, –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å, —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞—Ç—å –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ Azure Container Apps. –ì–æ—Ç–æ–≤—ã –¥–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ò–ò? –ò–∑—É—á–∏—Ç–µ [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ò–ò](../../../../docs/ai-foundry)!

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**–û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**:
–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –±—ã–ª –ø–µ—Ä–µ–≤–µ–¥–µ–Ω —Å –ø–æ–º–æ—â—å—é —Å–µ—Ä–≤–∏—Å–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞ [Co-op Translator](https://github.com/Azure/co-op-translator). –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –Ω–∞—à–∏ —É—Å–∏–ª–∏—è –ø–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—é —Ç–æ—á–Ω–æ—Å—Ç–∏, –∏–º–µ–π—Ç–µ –≤ –≤–∏–¥—É, —á—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ—à–∏–±–∫–∏ –∏–ª–∏ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–∏. –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ –∏—Å—Ö–æ–¥–Ω–æ–º —è–∑—ã–∫–µ —Å–ª–µ–¥—É–µ—Ç —Å—á–∏—Ç–∞—Ç—å –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º. –î–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ —á–µ–ª–æ–≤–µ–∫–æ–º. –ú—ã –Ω–µ –Ω–µ—Å–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –ª—é–±—ã–µ –Ω–µ–¥–æ—Ä–∞–∑—É–º–µ–Ω–∏—è –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç—Ä–∞–∫—Ç–æ–≤–∫–∏, –≤–æ–∑–Ω–∏–∫—à–∏–µ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->