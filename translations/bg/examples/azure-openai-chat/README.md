# Azure OpenAI Chat –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**–ù–∏–≤–æ –Ω–∞ –æ–±—É—á–µ–Ω–∏–µ:** –°—Ä–µ–¥–Ω–æ ‚≠ê‚≠ê | **–í—Ä–µ–º–µ:** 35-45 –º–∏–Ω—É—Ç–∏ | **–¶–µ–Ω–∞:** $50-200/–º–µ—Å–µ—Ü

–ü—ä–ª–Ω–æ Azure OpenAI —á–∞—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Ä–∞–∑–ø–æ–ª–æ–∂–µ–Ω–æ —Å –ø–æ–º–æ—â—Ç–∞ –Ω–∞ Azure Developer CLI (azd). –¢–æ–∑–∏ –ø—Ä–∏–º–µ—Ä –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–∞ —Ä–∞–∑–ø–æ–ª–∞–≥–∞–Ω–µ –Ω–∞ GPT-4, —Å–∏–≥—É—Ä–µ–Ω –¥–æ—Å—Ç—ä–ø –¥–æ API –∏ –ø—Ä–æ—Å—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞ —á–∞—Ç.

## üéØ –ö–∞–∫–≤–æ —â–µ –Ω–∞—É—á–∏—Ç–µ

- –†–∞–∑–ø–æ–ª–∞–≥–∞–Ω–µ –Ω–∞ Azure OpenAI Service —Å –º–æ–¥–µ–ª GPT-4
- –°–∏–≥—É—Ä–Ω–æ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ OpenAI API –∫–ª—é—á–æ–≤–µ —Å Key Vault
- –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –ø—Ä–æ—Å—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞ —á–∞—Ç —Å Python
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ —Ç–æ–∫–µ–Ω–∏ –∏ —Ä–∞–∑—Ö–æ–¥–∏—Ç–µ
- –ò–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–∞–≤–∞–Ω–µ –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—Ç–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –≥—Ä–µ—à–∫–∏

## üì¶ –ö–∞–∫–≤–æ –µ –≤–∫–ª—é—á–µ–Ω–æ

‚úÖ **Azure OpenAI Service** - –†–∞–∑–ø–æ–ª–∞–≥–∞–Ω–µ –Ω–∞ –º–æ–¥–µ–ª GPT-4  
‚úÖ **Python Chat App** - –ü—Ä–æ—Å—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞ —á–∞—Ç –≤ –∫–æ–º–∞–Ω–¥–Ω–∏—è —Ä–µ–¥  
‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Key Vault** - –°–∏–≥—É—Ä–Ω–æ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ API –∫–ª—é—á–æ–≤–µ  
‚úÖ **ARM Templates** - –ü—ä–ª–Ω–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–æ –∫–æ–¥  
‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ —Ä–∞–∑—Ö–æ–¥–∏—Ç–µ** - –ü—Ä–æ—Å–ª–µ–¥—è–≤–∞–Ω–µ –Ω–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ —Ç–æ–∫–µ–Ω–∏  
‚úÖ **–û–≥—Ä–∞–Ω–∏—á–∞–≤–∞–Ω–µ –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—Ç–∞** - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç—è–≤–∞–Ω–µ –Ω–∞ –∏–∑—á–µ—Ä–ø–≤–∞–Ω–µ –Ω–∞ –∫–≤–æ—Ç–∞—Ç–∞  

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Python Chat Application (Local/Cloud)    ‚îÇ
‚îÇ   - Command-line interface                 ‚îÇ
‚îÇ   - Conversation history                   ‚îÇ
‚îÇ   - Token usage tracking                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ HTTPS (API Key)
                   ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Azure OpenAI Service                      ‚îÇ
‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ   ‚îÇ   GPT-4 Model                         ‚îÇ ‚îÇ
‚îÇ   ‚îÇ   - 20K tokens/min capacity           ‚îÇ ‚îÇ
‚îÇ   ‚îÇ   - Multi-region failover (optional)  ‚îÇ ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ   Managed Identity ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ
                   ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Azure Key Vault                           ‚îÇ
‚îÇ   - OpenAI API Key (secret)                 ‚îÇ
‚îÇ   - Endpoint URL (secret)                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª–Ω–∏ –∏–∑–∏—Å–∫–≤–∞–Ω–∏—è

### –ó–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–∏

- **Azure Developer CLI (azd)** - [–†—ä–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∑–∞ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–µ](https://learn.microsoft.com/azure/developer/azure-developer-cli/install-azd)
- **–ê–±–æ–Ω–∞–º–µ–Ω—Ç –∑–∞ Azure** —Å –¥–æ—Å—Ç—ä–ø –¥–æ OpenAI - [–ó–∞—è–≤–∫–∞ –∑–∞ –¥–æ—Å—Ç—ä–ø](https://aka.ms/oai/access)
- **Python 3.9+** - [–ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–µ –Ω–∞ Python](https://www.python.org/downloads/)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª–Ω–∏—Ç–µ –∏–∑–∏—Å–∫–≤–∞–Ω–∏—è

```bash
# –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –≤–µ—Ä—Å–∏—è—Ç–∞ –Ω–∞ azd (—Ç—Ä—è–±–≤–∞ 1.5.0 –∏–ª–∏ –ø–æ-–≤–∏—Å–æ–∫–∞)
azd version

# –ü–æ—Ç–≤—ä—Ä–¥–µ—Ç–µ –≤–ª–∏–∑–∞–Ω–µ—Ç–æ –≤ Azure
azd auth login

# –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –≤–µ—Ä—Å–∏—è—Ç–∞ –Ω–∞ Python
python --version  # –∏–ª–∏ python3 --version

# –ü–æ—Ç–≤—ä—Ä–¥–µ—Ç–µ –¥–æ—Å—Ç—ä–ø–∞ –¥–æ OpenAI (–ø—Ä–æ–≤–µ—Ä–µ—Ç–µ –≤ Azure Portal)
az cognitiveservices account list-skus \
  --kind OpenAI \
  --location eastus
```

> **‚ö†Ô∏è –í–∞–∂–Ω–æ:** Azure OpenAI –∏–∑–∏—Å–∫–≤–∞ –æ–¥–æ–±—Ä–µ–Ω–∏–µ –Ω–∞ –∑–∞—è–≤–ª–µ–Ω–∏–µ—Ç–æ. –ê–∫–æ –Ω–µ —Å—Ç–µ –∫–∞–Ω–¥–∏–¥–∞—Ç—Å—Ç–≤–∞–ª–∏, –ø–æ—Å–µ—Ç–µ—Ç–µ [aka.ms/oai/access](https://aka.ms/oai/access). –û–¥–æ–±—Ä–µ–Ω–∏–µ—Ç–æ –æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ –æ—Ç–Ω–µ–º–∞ 1-2 —Ä–∞–±–æ—Ç–Ω–∏ –¥–Ω–∏.

## ‚è±Ô∏è –í—Ä–µ–º–µ–≤–∞ –ª–∏–Ω–∏—è –∑–∞ —Ä–∞–∑–ø–æ–ª–∞–≥–∞–Ω–µ

| –ï—Ç–∞–ø | –ü—Ä–æ–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ—Å—Ç | –ö–∞–∫–≤–æ —Å–µ —Å–ª—É—á–≤–∞ |
|------|-----------------|-----------------|
| –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª–Ω–∏—Ç–µ –∏–∑–∏—Å–∫–≤–∞–Ω–∏—è | 2-3 –º–∏–Ω—É—Ç–∏ | –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ –∫–≤–æ—Ç–∞—Ç–∞ –∑–∞ OpenAI |
| –†–∞–∑–ø–æ–ª–∞–≥–∞–Ω–µ –Ω–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ç–∞ | 8-12 –º–∏–Ω—É—Ç–∏ | –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ OpenAI, Key Vault, —Ä–∞–∑–ø–æ–ª–∞–≥–∞–Ω–µ –Ω–∞ –º–æ–¥–µ–ª–∞ |
| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ | 2-3 –º–∏–Ω—É—Ç–∏ | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ —Å—Ä–µ–¥–∞—Ç–∞ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏—Ç–µ |
| **–û–±—â–æ** | **12-18 –º–∏–Ω—É—Ç–∏** | –ì–æ—Ç–æ–≤–æ –∑–∞ —á–∞—Ç —Å GPT-4 |

**–ó–∞–±–µ–ª–µ–∂–∫–∞:** –ü—ä—Ä–≤–æ—Ç–æ —Ä–∞–∑–ø–æ–ª–∞–≥–∞–Ω–µ –Ω–∞ OpenAI –º–æ–∂–µ –¥–∞ –æ—Ç–Ω–µ–º–µ –ø–æ–≤–µ—á–µ –≤—Ä–µ–º–µ –ø–æ—Ä–∞–¥–∏ –ø—Ä–æ–≤–∏–∑–∏—Ä–∞–Ω–µ—Ç–æ –Ω–∞ –º–æ–¥–µ–ª–∞.

## –ë—ä—Ä–∑ —Å—Ç–∞—Ä—Ç

```bash
# –ù–∞–≤–∏–≥–∏—Ä–∞–π—Ç–µ –¥–æ –ø—Ä–∏–º–µ—Ä–∞
cd examples/azure-openai-chat

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ —Å—Ä–µ–¥–∞—Ç–∞
azd env new myopenai

# –†–∞–∑–≥—ä—Ä–Ω–µ—Ç–µ –≤—Å–∏—á–∫–æ (–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ + –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
azd up
# –©–µ –±—ä–¥–µ—Ç–µ –ø–æ–¥–∫–∞–Ω–µ–Ω–∏ –¥–∞:
# 1. –ò–∑–±–µ—Ä–µ—Ç–µ –∞–±–æ–Ω–∞–º–µ–Ω—Ç –∑–∞ Azure
# 2. –ò–∑–±–µ—Ä–µ—Ç–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Å –Ω–∞–ª–∏—á–Ω–æ—Å—Ç –Ω–∞ OpenAI (–Ω–∞–ø—Ä–∏–º–µ—Ä, eastus, eastus2, westus)
# 3. –ò–∑—á–∞–∫–∞–π—Ç–µ 12-18 –º–∏–Ω—É—Ç–∏ –∑–∞ —Ä–∞–∑–≥—Ä—ä—â–∞–Ω–µ

# –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∑–∞ Python
pip install -r requirements.txt

# –ó–∞–ø–æ—á–Ω–µ—Ç–µ –¥–∞ —á–∞—Ç–∏—Ç–µ!
python chat.py
```

**–û—á–∞–∫–≤–∞–Ω —Ä–µ–∑—É–ª—Ç–∞—Ç:**
```
ü§ñ Azure OpenAI Chat Application
Connected to: GPT-4 (eastus)
Type your message (or 'quit' to exit)

You: Hello! Tell me about Azure OpenAI.
Assistant: Azure OpenAI Service provides REST API access to OpenAI's powerful language models including GPT-4, GPT-3.5-Turbo, and Embeddings...

[Tokens used: 145 | Estimated cost: $0.0044]
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ä–∞–∑–ø–æ–ª–∞–≥–∞–Ω–µ—Ç–æ

### –°—Ç—ä–ø–∫–∞ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ä–µ—Å—É—Ä—Å–∏—Ç–µ –≤ Azure

```bash
# –ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ —Ä–∞–∑–ø–æ–ª–æ–∂–µ–Ω–∏—Ç–µ —Ä–µ—Å—É—Ä—Å–∏
azd show

# –û—á–∞–∫–≤–∞–Ω–∏—è—Ç –∏–∑—Ö–æ–¥ –ø–æ–∫–∞–∑–≤–∞:
# - OpenAI —É—Å–ª—É–≥–∞: (–∏–º–µ –Ω–∞ —Ä–µ—Å—É—Ä—Å)
# - Key Vault: (–∏–º–µ –Ω–∞ —Ä–µ—Å—É—Ä—Å)
# - –†–∞–∑–ø–æ–ª–∞–≥–∞–Ω–µ: gpt-4
# - –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ: eastus (–∏–ª–∏ –∏–∑–±—Ä–∞–Ω–∏—è –æ—Ç –≤–∞—Å —Ä–µ–≥–∏–æ–Ω)
```

### –°—Ç—ä–ø–∫–∞ 2: –¢–µ—Å—Ç –Ω–∞ OpenAI API

```bash
# –í–∑–µ–º–µ—Ç–µ –∫—Ä–∞–π–Ω–∞ —Ç–æ—á–∫–∞ –∏ –∫–ª—é—á –Ω–∞ OpenAI
OPENAI_ENDPOINT=$(azd env get-value AZURE_OPENAI_ENDPOINT)
OPENAI_KEY=$(azd env get-value AZURE_OPENAI_API_KEY)

# –¢–µ—Å—Ç–≤–∞–π—Ç–µ API –∏–∑–≤–∏–∫–≤–∞–Ω–µ
curl "$OPENAI_ENDPOINT/openai/deployments/gpt-4/chat/completions?api-version=2024-08-01-preview" \
  -H "Content-Type: application/json" \
  -H "api-key: $OPENAI_KEY" \
  -d '{
    "messages": [{"role": "user", "content": "Say hello!"}],
    "max_tokens": 50
  }'
```

**–û—á–∞–∫–≤–∞–Ω –æ—Ç–≥–æ–≤–æ—Ä:**
```json
{
  "choices": [
    {
      "message": {
        "role": "assistant",
        "content": "Hello! How can I assist you today?"
      }
    }
  ],
  "usage": {
    "prompt_tokens": 8,
    "completion_tokens": 9,
    "total_tokens": 17
  }
}
```

### –°—Ç—ä–ø–∫–∞ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥–æ—Å—Ç—ä–ø–∞ –¥–æ Key Vault

```bash
# –ò–∑–±—Ä–æ–π—Ç–µ —Ç–∞–π–Ω–∏—Ç–µ –≤ Key Vault
KV_NAME=$(azd env get-value AZURE_KEY_VAULT_NAME)

az keyvault secret list \
  --vault-name $KV_NAME \
  --query "[].name" \
  --output table
```

**–û—á–∞–∫–≤–∞–Ω–∏ —Ç–∞–π–Ω–∏:**
- `openai-api-key`
- `openai-endpoint`

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞ —É—Å–ø–µ—Ö:**
- ‚úÖ OpenAI —É—Å–ª—É–≥–∞—Ç–∞ –µ —Ä–∞–∑–ø–æ–ª–æ–∂–µ–Ω–∞ —Å GPT-4
- ‚úÖ API –∑–∞—è–≤–∫–∞—Ç–∞ –≤—Ä—ä—â–∞ –≤–∞–ª–∏–¥–Ω–æ –∑–∞–≤—ä—Ä—à–≤–∞–Ω–µ
- ‚úÖ –¢–∞–π–Ω–∏—Ç–µ —Å–∞ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏ –≤ Key Vault
- ‚úÖ –ü—Ä–æ—Å–ª–µ–¥—è–≤–∞–Ω–µ—Ç–æ –Ω–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ —Ç–æ–∫–µ–Ω–∏ —Ä–∞–±–æ—Ç–∏

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
azure-openai-chat/
‚îú‚îÄ‚îÄ README.md                   ‚úÖ This guide
‚îú‚îÄ‚îÄ azure.yaml                  ‚úÖ AZD configuration
‚îú‚îÄ‚îÄ infra/                      ‚úÖ Infrastructure as Code
‚îÇ   ‚îú‚îÄ‚îÄ main.bicep             ‚úÖ Main Bicep template
‚îÇ   ‚îú‚îÄ‚îÄ main.parameters.json   ‚úÖ Parameters
‚îÇ   ‚îî‚îÄ‚îÄ openai.bicep           ‚úÖ OpenAI resource definition
‚îú‚îÄ‚îÄ src/                        ‚úÖ Application code
‚îÇ   ‚îú‚îÄ‚îÄ chat.py                ‚úÖ Chat interface
‚îÇ   ‚îú‚îÄ‚îÄ config.py              ‚úÖ Configuration loader
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt       ‚úÖ Python dependencies
‚îî‚îÄ‚îÄ .gitignore                  ‚úÖ Git ignore rules
```

## –§—É–Ω–∫—Ü–∏–∏ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ

### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞ —á–∞—Ç (`chat.py`)

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –∑–∞ —á–∞—Ç –≤–∫–ª—é—á–≤–∞:

- **–ò—Å—Ç–æ—Ä–∏—è –Ω–∞ —Ä–∞–∑–≥–æ–≤–æ—Ä–∏—Ç–µ** - –ü–æ–¥–¥—ä—Ä–∂–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç –º–µ–∂–¥—É —Å—ä–æ–±—â–µ–Ω–∏—è—Ç–∞
- **–ë—Ä–æ–µ–Ω–µ –Ω–∞ —Ç–æ–∫–µ–Ω–∏** - –ü—Ä–æ—Å–ª–µ–¥—è–≤–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –∏ –æ—Ü–µ–Ω—è–≤–∞ —Ä–∞–∑—Ö–æ–¥–∏—Ç–µ
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –≥—Ä–µ—à–∫–∏** - –ì—Ä–∞—Ü–∏–æ–∑–Ω–æ —Å–ø—Ä–∞–≤—è–Ω–µ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ç–∞ –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—Ç–∞ –∏ API –≥—Ä–µ—à–∫–∏
- **–û—Ü–µ–Ω–∫–∞ –Ω–∞ —Ä–∞–∑—Ö–æ–¥–∏—Ç–µ** - –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ —Ä–∞–∑—Ö–æ–¥–∏—Ç–µ –≤ —Ä–µ–∞–ª–Ω–æ –≤—Ä–µ–º–µ –∑–∞ –≤—Å—è–∫–æ —Å—ä–æ–±—â–µ–Ω–∏–µ
- **–ü–æ–¥–¥—Ä—ä–∂–∫–∞ –Ω–∞ —Å—Ç—Ä–∏–π–º–∏–Ω–≥** - –û–ø—Ü–∏–æ–Ω–∞–ª–Ω–∏ —Å—Ç—Ä–∏–π–º–∏–Ω–≥ –æ—Ç–≥–æ–≤–æ—Ä–∏

### –ö–æ–º–∞–Ω–¥–∏

–î–æ–∫–∞—Ç–æ —á–∞—Ç–∏—Ç–µ, –º–æ–∂–µ—Ç–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ:
- `quit` –∏–ª–∏ `exit` - –ö—Ä–∞–π –Ω–∞ —Å–µ—Å–∏—è—Ç–∞
- `clear` - –ò–∑—á–∏—Å—Ç–≤–∞–Ω–µ –Ω–∞ –∏—Å—Ç–æ—Ä–∏—è—Ç–∞ –Ω–∞ —Ä–∞–∑–≥–æ–≤–æ—Ä–∏—Ç–µ
- `tokens` - –ü–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ –æ–±—â–æ—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ —Ç–æ–∫–µ–Ω–∏
- `cost` - –ü–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ –æ—Ü–µ–Ω–µ–Ω–∏—Ç–µ –æ–±—â–∏ —Ä–∞–∑—Ö–æ–¥–∏

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (`config.py`)

–ó–∞—Ä–µ–∂–¥–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ—Ç –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏ –Ω–∞ —Å—Ä–µ–¥–∞—Ç–∞:
```python
AZURE_OPENAI_ENDPOINT  # –û—Ç Key Vault
AZURE_OPENAI_API_KEY   # –û—Ç Key Vault
AZURE_OPENAI_MODEL     # –ü–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ: gpt-4
AZURE_OPENAI_MAX_TOKENS # –ü–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ: 800
```

## –ü—Ä–∏–º–µ—Ä–∏ –∑–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ

### –û—Å–Ω–æ–≤–µ–Ω —á–∞—Ç

```bash
python chat.py
```

### –ß–∞—Ç —Å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω –º–æ–¥–µ–ª

```bash
export AZURE_OPENAI_MODEL=gpt-35-turbo
python chat.py
```

### –ß–∞—Ç —Å—ä—Å —Å—Ç—Ä–∏–π–º–∏–Ω–≥

```bash
python chat.py --stream
```

### –ü—Ä–∏–º–µ—Ä–µ–Ω —Ä–∞–∑–≥–æ–≤–æ—Ä

```
You: Explain Azure OpenAI Service in 3 sentences.
Assistant: Azure OpenAI Service is Microsoft Azure's cloud platform offering 
that provides access to OpenAI's powerful language models. It enables developers 
to integrate capabilities like GPT-4 into their applications with enterprise-grade 
security and compliance. The service includes features for content filtering, 
abuse monitoring, and responsible AI practices.

[Tokens used: 89 | Estimated cost: $0.0027]

You: What models are available?
Assistant: Azure OpenAI Service offers several model families including GPT-4 
(most capable), GPT-3.5-Turbo (faster and cost-effective), and Embeddings models 
for vector search. Each model has different capabilities, pricing, and token limits.

[Tokens used: 67 | Estimated cost: $0.0020]

Total session: 156 tokens | $0.0047
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Ä–∞–∑—Ö–æ–¥–∏—Ç–µ

### –¶–µ–Ω–æ–æ–±—Ä–∞–∑—É–≤–∞–Ω–µ –Ω–∞ —Ç–æ–∫–µ–Ω–∏ (GPT-4)

| –ú–æ–¥–µ–ª | –í—Ö–æ–¥ (–∑–∞ 1K —Ç–æ–∫–µ–Ω–∏) | –ò–∑—Ö–æ–¥ (–∑–∞ 1K —Ç–æ–∫–µ–Ω–∏) |
|-------|---------------------|----------------------|
| GPT-4 | $0.03 | $0.06 |
| GPT-3.5-Turbo | $0.0015 | $0.002 |

### –û—Ü–µ–Ω–µ–Ω–∏ –º–µ—Å–µ—á–Ω–∏ —Ä–∞–∑—Ö–æ–¥–∏

–í—ä–∑ –æ—Å–Ω–æ–≤–∞ –Ω–∞ –º–æ–¥–µ–ª–∏ –Ω–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ:

| –ù–∏–≤–æ –Ω–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ | –°—ä–æ–±—â–µ–Ω–∏—è/–¥–µ–Ω | –¢–æ–∫–µ–Ω–∏/–¥–µ–Ω | –ú–µ—Å–µ—á–Ω–∏ —Ä–∞–∑—Ö–æ–¥–∏ |
|--------------------|---------------|------------|----------------|
| **–õ–µ–∫–æ** | 20 —Å—ä–æ–±—â–µ–Ω–∏—è | 3,000 —Ç–æ–∫–µ–Ω–∏ | $3-5 |
| **–£–º–µ—Ä–µ–Ω–æ** | 100 —Å—ä–æ–±—â–µ–Ω–∏—è | 15,000 —Ç–æ–∫–µ–Ω–∏ | $15-25 |
| **–ò–Ω—Ç–µ–Ω–∑–∏–≤–Ω–æ** | 500 —Å—ä–æ–±—â–µ–Ω–∏—è | 75,000 —Ç–æ–∫–µ–Ω–∏ | $75-125 |

**–û—Å–Ω–æ–≤–Ω–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∏ —Ä–∞–∑—Ö–æ–¥–∏:** $1-2/–º–µ—Å–µ—Ü (Key Vault + –º–∏–Ω–∏–º–∞–ª–µ–Ω –∫–æ–º–ø—é—Ç—ä—Ä)

### –°—ä–≤–µ—Ç–∏ –∑–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ —Ä–∞–∑—Ö–æ–¥–∏—Ç–µ

```bash
# 1. –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ GPT-3.5-Turbo –∑–∞ –ø–æ-–ø—Ä–æ—Å—Ç–∏ –∑–∞–¥–∞—á–∏ (20x –ø–æ-–µ–≤—Ç–∏–Ω–æ)
export AZURE_OPENAI_MODEL=gpt-35-turbo

# 2. –ù–∞–º–∞–ª–µ—Ç–µ –º–∞–∫—Å–∏–º–∞–ª–Ω–∏—è –±—Ä–æ–π —Ç–æ–∫–µ–Ω–∏ –∑–∞ –ø–æ-–∫—Ä–∞—Ç–∫–∏ –æ—Ç–≥–æ–≤–æ—Ä–∏
export AZURE_OPENAI_MAX_TOKENS=400

# 3. –ù–∞–±–ª—é–¥–∞–≤–∞–π—Ç–µ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ —Ç–æ–∫–µ–Ω–∏
python chat.py --show-tokens

# 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∏–∑–≤–µ—Å—Ç–∏—è –∑–∞ –±—é–¥–∂–µ—Ç
az consumption budget create \
  --budget-name "openai-budget" \
  --amount 50 \
  --time-grain Monthly
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ —Ç–æ–∫–µ–Ω–∏

```bash
# –í Azure Portal:
# OpenAI Resource ‚Üí –ú–µ—Ç—Ä–∏–∫–∏ ‚Üí –ò–∑–±–µ—Ä–µ—Ç–µ "Token Transaction"

# –ò–ª–∏ —á—Ä–µ–∑ Azure CLI:
az monitor metrics list \
  --resource $(azd env get-value AZURE_OPENAI_RESOURCE_ID) \
  --metric "TokenTransaction" \
  --start-time $(date -u -d '1 hour ago' '+%Y-%m-%dT%H:%M:%S') \
  --interval PT1M
```

### –ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ API –ª–æ–≥–æ–≤–µ

```bash
# –ü–æ—Ç–æ–∫ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–Ω–∏ –¥–Ω–µ–≤–Ω–∏—Ü–∏
az monitor diagnostic-settings create \
  --resource $(azd env get-value AZURE_OPENAI_RESOURCE_ID) \
  --name openai-logs \
  --logs '[{"category": "Audit", "enabled": true}]' \
  --workspace $(azd env get-value LOG_ANALYTICS_WORKSPACE_ID)

# –ó–∞–ø–∏—Ç–≤–∞–Ω–µ –Ω–∞ –¥–Ω–µ–≤–Ω–∏—Ü–∏
az monitor log-analytics query \
  --workspace $(azd env get-value LOG_ANALYTICS_WORKSPACE_ID) \
  --analytics-query "AzureDiagnostics | where Category == 'Audit' | top 10 by TimeGenerated"
```

## –û—Ç—Å—Ç—Ä–∞–Ω—è–≤–∞–Ω–µ –Ω–∞ –ø—Ä–æ–±–ª–µ–º–∏

### –ü—Ä–æ–±–ª–µ–º: –ì—Ä–µ—à–∫–∞ "–î–æ—Å—Ç—ä–ø –æ—Ç–∫–∞–∑–∞–Ω"

**–°–∏–º–ø—Ç–æ–º–∏:** 403 Forbidden –ø—Ä–∏ –∏–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ API

**–†–µ—à–µ–Ω–∏—è:**
```bash
# 1. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ –¥–æ—Å—Ç—ä–ø—ä—Ç –¥–æ OpenAI –µ –æ–¥–æ–±—Ä–µ–Ω
az cognitiveservices account show \
  --name $(azd env get-value AZURE_OPENAI_NAME) \
  --resource-group $(azd env get-value AZURE_RESOURCE_GROUP)

# 2. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ API –∫–ª—é—á—ä—Ç –µ –ø—Ä–∞–≤–∏–ª–µ–Ω
azd env get-value AZURE_OPENAI_API_KEY

# 3. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ —Ñ–æ—Ä–º–∞—Ç–∞ –Ω–∞ URL –∞–¥—Ä–µ—Å–∞ –Ω–∞ –∫—Ä–∞–π–Ω–∞—Ç–∞ —Ç–æ—á–∫–∞
azd env get-value AZURE_OPENAI_ENDPOINT
# –¢—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ: https://[name].openai.azure.com/
```

### –ü—Ä–æ–±–ª–µ–º: "–ü—Ä–µ–≤–∏—à–µ–Ω –ª–∏–º–∏—Ç –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—Ç–∞"

**–°–∏–º–ø—Ç–æ–º–∏:** 429 Too Many Requests

**–†–µ—à–µ–Ω–∏—è:**
```bash
# 1. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ —Ç–µ–∫—É—â–∞—Ç–∞ –∫–≤–æ—Ç–∞
az cognitiveservices account deployment show \
  --name $(azd env get-value AZURE_OPENAI_NAME) \
  --resource-group $(azd env get-value AZURE_RESOURCE_GROUP) \
  --deployment-name gpt-4

# 2. –ó–∞—è–≤–µ—Ç–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–≤–æ—Ç–∞—Ç–∞ (–∞–∫–æ –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ)
# –û—Ç–∏–¥–µ—Ç–µ –≤ Azure Portal ‚Üí OpenAI Resource ‚Üí Quotas ‚Üí Request Increase

# 3. –†–µ–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ –ª–æ–≥–∏–∫–∞ –∑–∞ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ (–≤–µ—á–µ –µ –≤ chat.py)
# –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∞–≤–∏ –ø–æ–≤—Ç–æ—Ä–Ω–∏ –æ–ø–∏—Ç–∏ —Å –µ–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª–Ω–æ –∑–∞–±–∞–≤—è–Ω–µ
```

### –ü—Ä–æ–±–ª–µ–º: "–ú–æ–¥–µ–ª—ä—Ç –Ω–µ –µ –Ω–∞–º–µ—Ä–µ–Ω"

**–°–∏–º–ø—Ç–æ–º–∏:** 404 –≥—Ä–µ—à–∫–∞ –∑–∞ —Ä–∞–∑–ø–æ–ª–∞–≥–∞–Ω–µ

**–†–µ—à–µ–Ω–∏—è:**
```bash
# 1. –ò–∑–±—Ä–æ–π—Ç–µ –Ω–∞–ª–∏—á–Ω–∏—Ç–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è
az cognitiveservices account deployment list \
  --name $(azd env get-value AZURE_OPENAI_NAME) \
  --resource-group $(azd env get-value AZURE_RESOURCE_GROUP)

# 2. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –∏–º–µ—Ç–æ –Ω–∞ –º–æ–¥–µ–ª–∞ –≤ —Å—Ä–µ–¥–∞—Ç–∞
echo $AZURE_OPENAI_MODEL

# 3. –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ —Å –ø—Ä–∞–≤–∏–ª–Ω–æ—Ç–æ –∏–º–µ –Ω–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ—Ç–æ
export AZURE_OPENAI_MODEL=gpt-4  # –∏–ª–∏ gpt-35-turbo
```

### –ü—Ä–æ–±–ª–µ–º: –í–∏—Å–æ–∫–∞ –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç

**–°–∏–º–ø—Ç–æ–º–∏:** –ë–∞–≤–Ω–∏ –≤—Ä–µ–º–µ–Ω–∞ –∑–∞ –æ—Ç–≥–æ–≤–æ—Ä (>5 —Å–µ–∫—É–Ω–¥–∏)

**–†–µ—à–µ–Ω–∏—è:**
```bash
# 1. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ —Ä–µ–≥–∏–æ–Ω–∞–ª–Ω–∞—Ç–∞ –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç
# –†–∞–∑–ø–æ–ª–æ–∂–µ—Ç–µ –≤ —Ä–µ–≥–∏–æ–Ω–∞, –Ω–∞–π-–±–ª–∏–∑—ä–∫ –¥–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏—Ç–µ

# 2. –ù–∞–º–∞–ª–µ—Ç–µ max_tokens –∑–∞ –ø–æ-–±—ä—Ä–∑–∏ –æ—Ç–≥–æ–≤–æ—Ä–∏
export AZURE_OPENAI_MAX_TOKENS=400

# 3. –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ —Å—Ç—Ä–∏–π–º–∏–Ω–≥ –∑–∞ –ø–æ-–¥–æ–±—ä—Ä UX
python chat.py --stream
```

## –ù–∞–π-–¥–æ–±—Ä–∏ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∑–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç

### 1. –ó–∞—â–∏—Ç–∞ –Ω–∞ API –∫–ª—é—á–æ–≤–µ

```bash
# –ù–∏–∫–æ–≥–∞ –Ω–µ –∫–∞—á–≤–∞–π—Ç–µ –∫–ª—é—á–æ–≤–µ –≤ —Å–∏—Å—Ç–µ–º–∞—Ç–∞ –∑–∞ –∫–æ–Ω—Ç—Ä–æ–ª –Ω–∞ –≤–µ—Ä—Å–∏–∏—Ç–µ
# –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ Key Vault (–≤–µ—á–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω)

# –†–µ–¥–æ–≤–Ω–æ —Å–º–µ–Ω—è–π—Ç–µ –∫–ª—é—á–æ–≤–µ—Ç–µ
az cognitiveservices account keys regenerate \
  --name $(azd env get-value AZURE_OPENAI_NAME) \
  --resource-group $(azd env get-value AZURE_RESOURCE_GROUP) \
  --key-name key1
```

### 2. –ò–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞–Ω–µ –Ω–∞ —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –Ω–∞ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ

```python
# Azure OpenAI –≤–∫–ª—é—á–≤–∞ –≤–≥—Ä–∞–¥–µ–Ω–æ —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –Ω–∞ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–µ –≤ Azure Portal:
# OpenAI Resource ‚Üí –§–∏–ª—Ç—Ä–∏ –∑–∞ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ ‚Üí –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω —Ñ–∏–ª—Ç—ä—Ä

# –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: –û–º—Ä–∞–∑–∞, –°–µ–∫—Å—É–∞–ª–Ω–æ, –ù–∞—Å–∏–ª–∏–µ, –°–∞–º–æ–Ω–∞—Ä–∞–Ω—è–≤–∞–Ω–µ
# –ù–∏–≤–∞: –ù–∏—Å–∫–æ, –°—Ä–µ–¥–Ω–æ, –í–∏—Å–æ–∫–æ —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ
```

### 3. –ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ —É–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç (–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ)

```bash
# –ó–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–∏ –≤–Ω–µ–¥—Ä—è–≤–∞–Ω–∏—è –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ —É–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç
# –≤–º–µ—Å—Ç–æ API –∫–ª—é—á–æ–≤–µ (–∏–∑–∏—Å–∫–≤–∞ —Ö–æ—Å—Ç–≤–∞–Ω–µ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –≤ Azure)

# –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ infra/openai.bicep, –∑–∞ –¥–∞ –≤–∫–ª—é—á–≤–∞:
# identity: { type: 'SystemAssigned' }
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ –ª–æ–∫–∞–ª–Ω–æ

```bash
# –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r src/requirements.txt

# –ó–∞–¥–∞–π—Ç–µ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏ –Ω–∞ —Å—Ä–µ–¥–∞—Ç–∞
export AZURE_OPENAI_ENDPOINT="https://[name].openai.azure.com/"
export AZURE_OPENAI_API_KEY="your-api-key"
export AZURE_OPENAI_MODEL="gpt-4"

# –°—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ
python src/chat.py
```

### –°—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ —Ç–µ—Å—Ç–æ–≤–µ

```bash
# –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∑–∞ —Ç–µ—Å—Ç–æ–≤–µ
pip install pytest pytest-cov

# –°—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤–µ—Ç–µ
pytest tests/ -v

# –° –ø–æ–∫—Ä–∏—Ç–∏–µ
pytest tests/ --cov=src --cov-report=html
```

### –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ —Ä–∞–∑–ø–æ–ª–∞–≥–∞–Ω–µ—Ç–æ –Ω–∞ –º–æ–¥–µ–ª–∞

```bash
# –†–∞–∑–≥—ä—Ä–Ω–µ—Ç–µ —Ä–∞–∑–ª–∏—á–Ω–∞ –≤–µ—Ä—Å–∏—è –Ω–∞ –º–æ–¥–µ–ª–∞
az cognitiveservices account deployment create \
  --name $(azd env get-value AZURE_OPENAI_NAME) \
  --resource-group $(azd env get-value AZURE_RESOURCE_GROUP) \
  --deployment-name gpt-35-turbo \
  --model-name gpt-35-turbo \
  --model-version "0613" \
  --model-format OpenAI \
  --sku-capacity 20 \
  --sku-name "Standard"
```

## –ü–æ—á–∏—Å—Ç–≤–∞–Ω–µ

```bash
# –ò–∑—Ç—Ä–∏–π—Ç–µ –≤—Å–∏—á–∫–∏ —Ä–µ—Å—É—Ä—Å–∏ –Ω–∞ Azure
azd down --force --purge

# –¢–æ–≤–∞ –ø—Ä–µ–º–∞—Ö–≤–∞:
# - –£—Å–ª—É–≥–∞—Ç–∞ OpenAI
# - Key Vault (—Å 90-–¥–Ω–µ–≤–Ω–æ –º–µ–∫–æ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ)
# - –ì—Ä—É–ø–∞ —Ä–µ—Å—É—Ä—Å–∏
# - –í—Å–∏—á–∫–∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```

## –°–ª–µ–¥–≤–∞—â–∏ —Å—Ç—ä–ø–∫–∏

### –†–∞–∑—à–∏—Ä—è–≤–∞–Ω–µ –Ω–∞ —Ç–æ–∑–∏ –ø—Ä–∏–º–µ—Ä

1. **–î–æ–±–∞–≤—è–Ω–µ –Ω–∞ —É–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ React/Vue —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
   ```bash
   # –î–æ–±–∞–≤–µ—Ç–µ —É—Å–ª—É–≥–∞—Ç–∞ –∑–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫—ä–º azure.yaml
   # –†–∞–∑–≥—ä—Ä–Ω–µ—Ç–µ –≤ Azure Static Web Apps
   ```

2. **–ò–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞–Ω–µ –Ω–∞ RAG** - –î–æ–±–∞–≤—è–Ω–µ –Ω–∞ —Ç—ä—Ä—Å–µ–Ω–µ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏ —Å Azure AI Search
   ```python
   # –ò–Ω—Ç–µ–≥—Ä–∏—Ä–∞–Ω–µ –Ω–∞ Azure Cognitive Search
   # –ö–∞—á–≤–∞–Ω–µ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏ –∏ —Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –≤–µ–∫—Ç–æ—Ä–µ–Ω –∏–Ω–¥–µ–∫—Å
   ```

3. **–î–æ–±–∞–≤—è–Ω–µ –Ω–∞ –∏–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏** - –ê–∫—Ç–∏–≤–∏—Ä–∞–Ω–µ –Ω–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏
   ```python
   # –î–µ—Ñ–∏–Ω–∏—Ä–∞–Ω–µ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ chat.py
   # –ü–æ–∑–≤–æ–ª—è–≤–∞–Ω–µ –Ω–∞ GPT-4 –¥–∞ –∏–∑–≤–∏–∫–≤–∞ –≤—ä–Ω—à–Ω–∏ API
   ```

4. **–ü–æ–¥–¥—Ä—ä–∂–∫–∞ –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –º–æ–¥–µ–ª–∏** - –†–∞–∑–ø–æ–ª–∞–≥–∞–Ω–µ –Ω–∞ –Ω—è–∫–æ–ª–∫–æ –º–æ–¥–µ–ª–∞
   ```bash
   # –î–æ–±–∞–≤–µ—Ç–µ gpt-35-turbo, –º–æ–¥–µ–ª–∏ –∑–∞ –≤–≥—Ä–∞–∂–¥–∞–Ω–µ
   # –†–µ–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ –ª–æ–≥–∏–∫–∞—Ç–∞ –∑–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ –º–æ–¥–µ–ª–∞
   ```

### –°–≤—ä—Ä–∑–∞–Ω–∏ –ø—Ä–∏–º–µ—Ä–∏

- **[–ú—É–ª—Ç–∏-–∞–≥–µ–Ω—Ç –∑–∞ —Ç—ä—Ä–≥–æ–≤–∏—è –Ω–∞ –¥—Ä–µ–±–Ω–æ](../retail-scenario.md)** - –†–∞–∑—à–∏—Ä–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∞–≥–µ–Ω—Ç–∏
- **[–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω–∏](../../../../examples/database-app)** - –î–æ–±–∞–≤—è–Ω–µ –Ω–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–∞ –ø–∞–º–µ—Ç
- **[–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](../../../../examples/container-app)** - –†–∞–∑–ø–æ–ª–∞–≥–∞–Ω–µ –∫–∞—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∏—Ä–∞–Ω–∞ —É—Å–ª—É–≥–∞

### –†–µ—Å—É—Ä—Å–∏ –∑–∞ –æ–±—É—á–µ–Ω–∏–µ

- üìö [–ö—É—Ä—Å –∑–∞ –Ω–∞—á–∏–Ω–∞–µ—â–∏ —Å AZD](../../README.md) - –û—Å–Ω–æ–≤–µ–Ω –∫—É—Ä—Å
- üìö [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∑–∞ Azure OpenAI](https://learn.microsoft.com/azure/ai-services/openai/) - –û—Ñ–∏—Ü–∏–∞–ª–Ω–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏
- üìö [OpenAI API Reference](https://platform.openai.com/docs/api-reference) - –î–µ—Ç–∞–π–ª–∏ –∑–∞ API
- üìö [–û—Ç–≥–æ–≤–æ—Ä–µ–Ω AI](https://www.microsoft.com/ai/responsible-ai) - –ù–∞–π-–¥–æ–±—Ä–∏ –ø—Ä–∞–∫—Ç–∏–∫–∏

## –î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ —Ä–µ—Å—É—Ä—Å–∏

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **[Azure OpenAI Service](https://learn.microsoft.com/azure/ai-services/openai/)** - –ü—ä–ª–Ω–æ —Ä—ä–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- **[GPT-4 –ú–æ–¥–µ–ª–∏](https://learn.microsoft.com/azure/ai-services/openai/concepts/models)** - –í—ä–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –Ω–∞ –º–æ–¥–µ–ª–∞
- **[–§–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –Ω–∞ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ](https://learn.microsoft.com/azure/ai-services/openai/concepts/content-filter)** - –§—É–Ω–∫—Ü–∏–∏ –∑–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç
- **[Azure Developer CLI](https://learn.microsoft.com/azure/developer/azure-developer-cli/)** - –†–µ—Ñ–µ—Ä–µ–Ω—Ü–∏—è –∑–∞ azd

### –£—Ä–æ—Ü–∏
- **[–ë—ä—Ä–∑ —Å—Ç–∞—Ä—Ç —Å OpenAI](https://learn.microsoft.com/azure/ai-services/openai/quickstart)** - –ü—ä—Ä–≤–æ —Ä–∞–∑–ø–æ–ª–∞–≥–∞–Ω–µ
- **[–ß–∞—Ç –∑–∞–≤—ä—Ä—à–≤–∞–Ω–∏—è](https://learn.microsoft.com/azure/ai-services/openai/how-to/chatgpt)** - –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ —á–∞—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **[–ò–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏](https://learn.microsoft.com/azure/ai-services/openai/how-to/function-calling)** - –†–∞–∑—à–∏—Ä–µ–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏
- **[Azure OpenAI Studio](https://oai.azure.com/)** - –£–µ–±-–±–∞–∑–∏—Ä–∞–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
- **[–†—ä–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∑–∞ –∏–Ω–∂–µ–Ω–µ—Ä–∏–Ω–≥ –Ω–∞ –ø—Ä–æ–º–ø—Ç–æ–≤–µ](https://platform.openai.com/docs/guides/prompt-engineering)** - –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –ø–æ-–¥–æ–±—Ä–∏ –ø—Ä–æ–º–ø—Ç–æ–≤–µ
- **[–ö–∞–ª–∫—É–ª–∞—Ç–æ—Ä –Ω–∞ —Ç–æ–∫–µ–Ω–∏](https://platform.openai.com/tokenizer)** - –û—Ü–µ–Ω–∫–∞ –Ω–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ —Ç–æ–∫–µ–Ω–∏

### –û–±—â–Ω–æ—Å—Ç
- **[Azure AI Discord](https://discord.gg/azure)** - –ü–æ–º–æ—â –æ—Ç –æ–±—â–Ω–æ—Å—Ç—Ç–∞
- **[GitHub Discussions](https://github.com/Azure-Samples/openai/discussions)** - –§–æ—Ä—É–º –∑–∞ –≤—ä–ø—Ä–æ—Å–∏ –∏ –æ—Ç–≥–æ–≤–æ—Ä–∏
- **[Azure Blog](https://azure.microsoft.com/blog/tag/azure-openai-service/)** - –ü–æ—Å–ª–µ–¥–Ω–∏ –Ω–æ–≤–∏–Ω–∏

---

**üéâ –£—Å–ø–µ—Ö!** –†–∞–∑–ø–æ–ª–æ–∂–∏—Ö—Ç–µ Azure OpenAI –∏ —Å—ä–∑–¥–∞–¥–æ—Ö—Ç–µ —Ä–∞–±–æ—Ç–µ—â–æ —á–∞—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ó–∞–ø–æ—á–Ω–µ—Ç–µ –¥–∞ –∏–∑—Å–ª–µ–¥–≤–∞—Ç–µ –≤—ä–∑–º–æ–∂–Ω–æ—Å—Ç–∏—Ç–µ –Ω–∞ GPT-4 –∏ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–∞–π—Ç–µ —Å —Ä–∞–∑–ª–∏—á–Ω–∏ –ø—Ä–æ–º–ø—Ç–æ–≤–µ –∏ —Å–ª—É—á–∞–∏ –Ω–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ.

**–í—ä–ø—Ä–æ—Å–∏?** [–û—Ç–≤–æ—Ä–µ—Ç–µ –ø—Ä–æ–±–ª–µ–º](https://github.com/microsoft/AZD-for-beginners/issues) –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–µ—Ç–µ [FAQ](../../resources/faq.md)

**–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∑–∞ —Ä–∞–∑—Ö–æ–¥–∏:** –ù–µ –∑–∞–±—Ä–∞–≤—è–π—Ç–µ –¥–∞ –∏–∑–ø—ä–ª–Ω–∏—Ç–µ `azd down`, –∫–æ–≥–∞—Ç–æ –ø—Ä–∏–∫–ª—é—á–∏—Ç–µ —Å —Ç–µ—Å—Ç–≤–∞–Ω–µ—Ç–æ, –∑–∞ –¥–∞ –∏–∑–±–µ–≥–Ω–µ—Ç–µ —Ç–µ–∫—É—â–∏ —Ä–∞–∑—Ö–æ–¥–∏ (~$50-100/–º–µ—Å–µ—Ü –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ).

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**–û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç**:  
–¢–æ–∑–∏ –¥–æ–∫—É–º–µ–Ω—Ç –µ –ø—Ä–µ–≤–µ–¥–µ–Ω —Å –ø–æ–º–æ—â—Ç–∞ –Ω–∞ AI —É—Å–ª—É–≥–∞ –∑–∞ –ø—Ä–µ–≤–æ–¥ [Co-op Translator](https://github.com/Azure/co-op-translator). –í—ä–ø—Ä–µ–∫–∏ —á–µ —Å–µ —Å—Ç—Ä–µ–º–∏–º –∫—ä–º —Ç–æ—á–Ω–æ—Å—Ç, –º–æ–ª—è, –∏–º–∞–π—Ç–µ –ø—Ä–µ–¥–≤–∏–¥, —á–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞–Ω–∏—Ç–µ –ø—Ä–µ–≤–æ–¥–∏ –º–æ–∂–µ –¥–∞ —Å—ä–¥—ä—Ä–∂–∞—Ç –≥—Ä–µ—à–∫–∏ –∏–ª–∏ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–∏. –û—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏—è—Ç –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ –Ω–µ–≥–æ–≤–∏—è —Ä–æ–¥–µ–Ω –µ–∑–∏–∫ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ —Å—á–∏—Ç–∞ –∑–∞ –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–µ–Ω –∏–∑—Ç–æ—á–Ω–∏–∫. –ó–∞ –∫—Ä–∏—Ç–∏—á–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å–µ –ø—Ä–µ–ø–æ—Ä—ä—á–≤–∞ –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–µ–Ω —á–æ–≤–µ—à–∫–∏ –ø—Ä–µ–≤–æ–¥. –ù–∏–µ –Ω–µ –Ω–æ—Å–∏–º –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç –∑–∞ –∫–∞–∫–≤–∏—Ç–æ –∏ –¥–∞ –±–∏–ª–æ –Ω–µ–¥–æ—Ä–∞–∑—É–º–µ–Ω–∏—è –∏–ª–∏ –ø–æ–≥—Ä–µ—à–Ω–∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏, –ø—Ä–æ–∏–∑—Ç–∏—á–∞—â–∏ –æ—Ç –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ —Ç–æ–∑–∏ –ø—Ä–µ–≤–æ–¥.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->