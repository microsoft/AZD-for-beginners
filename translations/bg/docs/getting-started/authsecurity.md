# –®–∞–±–ª–æ–Ω–∏ –∑–∞ —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è–≤–∞–Ω–µ –∏ –£–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç

‚è±Ô∏è **–û—á–∞–∫–≤–∞–Ω–æ –≤—Ä–µ–º–µ**: 45-60 –º–∏–Ω—É—Ç–∏ | üí∞ **–í—ä–∑–¥–µ–π—Å—Ç–≤–∏–µ –≤—ä—Ä—Ö—É —Ä–∞–∑—Ö–æ–¥–∏—Ç–µ**: –ë–µ–∑–ø–ª–∞—Ç–Ω–æ (–±–µ–∑ –¥–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ —Ç–∞–∫—Å–∏) | ‚≠ê **–°–ª–æ–∂–Ω–æ—Å—Ç**: –°—Ä–µ–¥–Ω–æ –Ω–∏–≤–æ

**üìö –£—á–µ–±–µ–Ω –ø—ä—Ç:**
- ‚Üê –ü—Ä–µ–¥–∏—à–Ω–æ: [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏](configuration.md) - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏ –Ω–∞ —Å—Ä–µ–¥–∞—Ç–∞ –∏ —Ç–∞–π–Ω–∏
- üéØ **–¢—É–∫ —Å—Ç–µ**: –£–¥–æ—Å—Ç–æ–≤–µ—Ä—è–≤–∞–Ω–µ –∏ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç (–£–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç, Key Vault, —Å–∏–≥—É—Ä–Ω–∏ —à–∞–±–ª–æ–Ω–∏)
- ‚Üí –°–ª–µ–¥–≤–∞—â–æ: [–ü—ä—Ä–≤–∏ –ø—Ä–æ–µ–∫—Ç](first-project.md) - –°—ä–∑–¥–∞–π—Ç–µ –ø—ä—Ä–≤–æ—Ç–æ —Å–∏ AZD –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- üè† [–ù–∞—á–∞–ª–æ –Ω–∞ –∫—É—Ä—Å–∞](../../README.md)

---

## –ö–∞–∫–≤–æ —â–µ –Ω–∞—É—á–∏—Ç–µ

–°–ª–µ–¥ –∑–∞–≤—ä—Ä—à–≤–∞–Ω–µ –Ω–∞ —Ç–æ–∑–∏ —É—Ä–æ–∫ —â–µ:
- –†–∞–∑–±–µ—Ä–µ—Ç–µ —à–∞–±–ª–æ–Ω–∏—Ç–µ –∑–∞ —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è–≤–∞–Ω–µ –≤ Azure (–∫–ª—é—á–æ–≤–µ, –Ω–∏–∑–æ–≤–µ –∑–∞ –≤—Ä—ä–∑–∫–∞, —É–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç)
- –†–µ–∞–ª–∏–∑–∏—Ä–∞—Ç–µ **–£–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç** –∑–∞ —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è–≤–∞–Ω–µ –±–µ–∑ –ø–∞—Ä–æ–ª–∏
- –ó–∞—â–∏—Ç–∏—Ç–µ —Ç–∞–π–Ω–∏ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–∞ **Azure Key Vault**
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞—Ç–µ **–∫–æ–Ω—Ç—Ä–æ–ª –Ω–∞ –¥–æ—Å—Ç—ä–ø–∞ –Ω–∞ –±–∞–∑–∞—Ç–∞ –Ω–∞ —Ä–æ–ª–∏ (RBAC)** –∑–∞ AZD –≤–Ω–µ–¥—Ä–µ–Ω–∏—è
- –ü—Ä–∏–ª–æ–∂–∏—Ç–µ –Ω–∞–π-–¥–æ–±—Ä–∏—Ç–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∑–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç –≤ Container Apps –∏ Azure —É—Å–ª—É–≥–∏
- –ú–∏–≥—Ä–∏—Ä–∞—Ç–µ –æ—Ç —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è–≤–∞–Ω–µ –Ω–∞ –±–∞–∑–∞—Ç–∞ –Ω–∞ –∫–ª—é—á–æ–≤–µ –∫—ä–º —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è–≤–∞–Ω–µ –Ω–∞ –±–∞–∑–∞—Ç–∞ –Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç

## –ó–∞—â–æ –£–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞—Ç–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç –µ –≤–∞–∂–Ω–∞

### –ü—Ä–æ–±–ª–µ–º—ä—Ç: –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è–≤–∞–Ω–µ

**–ü—Ä–µ–¥–∏ –£–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞—Ç–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç:**
```javascript
// ‚ùå –†–ò–°–ö –ó–ê –°–ò–ì–£–†–ù–û–°–¢: –•–∞—Ä–∫–æ–¥–∏—Ä–∞–Ω–∏ —Ç–∞–π–Ω–∏ –≤ –∫–æ–¥–∞
const connectionString = "Server=mydb.database.windows.net;User=admin;Password=P@ssw0rd123";
const storageKey = "xK7mN9pQ2wR5tY8uI0oP3aS6dF1gH4jK...";
const cosmosKey = "C2x7B9n4M1p8Q5w3E6r0T2y5U8i1O4p7...";
```

**–ü—Ä–æ–±–ª–µ–º–∏:**
- üî¥ **–ò–∑–ª–æ–∂–µ–Ω–∏ —Ç–∞–π–Ω–∏** –≤ –∫–æ–¥–∞, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ, –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏ –Ω–∞ —Å—Ä–µ–¥–∞—Ç–∞
- üî¥ **–†–æ—Ç–∞—Ü–∏—è –Ω–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–∏ –¥–∞–Ω–Ω–∏** –∏–∑–∏—Å–∫–≤–∞ –ø—Ä–æ–º–µ–Ω–∏ –≤ –∫–æ–¥–∞ –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤–Ω–µ–¥—Ä—è–≤–∞–Ω–µ
- üî¥ **–ö–æ—à–º–∞—Ä –∑–∞ –æ–¥–∏—Ç** - –∫–æ–π –µ –∏–º–∞–ª –¥–æ—Å—Ç—ä–ø –¥–æ –∫–∞–∫–≤–æ –∏ –∫–æ–≥–∞?
- üî¥ **–†–∞–∑–ø—Ä—ä—Å–Ω–∞—Ç–æ—Å—Ç** - —Ç–∞–π–Ω–∏, —Ä–∞–∑–ø—Ä—ä—Å–Ω–∞—Ç–∏ –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–∏—Å—Ç–µ–º–∏
- üî¥ **–†–∏—Å–∫–æ–≤–µ –∑–∞ —Å—ä–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ** - –Ω–µ –ø—Ä–µ–º–∏–Ω–∞–≤–∞ –æ–¥–∏—Ç–∏ –∑–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç

### –†–µ—à–µ–Ω–∏–µ—Ç–æ: –£–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç

**–°–ª–µ–¥ –£–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞—Ç–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç:**
```javascript
// ‚úÖ –°–ò–ì–£–†–ù–û: –ù—è–º–∞ —Ç–∞–π–Ω–∏ –≤ –∫–æ–¥–∞
const credential = new DefaultAzureCredential();
const client = new BlobServiceClient(
  "https://mystorageaccount.blob.core.windows.net",
  credential  // Azure –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–±—Ä–∞–±–æ—Ç–≤–∞ —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è–≤–∞–Ω–µ—Ç–æ
);
```

**–ü–æ–ª–∑–∏:**
- ‚úÖ **–ù–∏–∫–∞–∫–≤–∏ —Ç–∞–π–Ω–∏** –≤ –∫–æ–¥–∞ –∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ç–∞
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Ä–æ—Ç–∞—Ü–∏—è** - Azure —Å–µ –≥—Ä–∏–∂–∏ –∑–∞ —Ç–æ–≤–∞
- ‚úÖ **–ü—ä–ª–µ–Ω –æ–¥–∏—Ç–µ–Ω –∑–∞–ø–∏—Å** –≤ Azure AD –ª–æ–≥–æ–≤–µ
- ‚úÖ **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∏—Ä–∞–Ω–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ Azure Portal
- ‚úÖ **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç –∑–∞ —Å—ä–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ** - –æ—Ç–≥–æ–≤–∞—Ä—è –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏—Ç–µ –∑–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç

**–ê–Ω–∞–ª–æ–≥–∏—è**: –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ—Ç–æ —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è–≤–∞–Ω–µ –µ –∫–∞—Ç–æ –¥–∞ –Ω–æ—Å–∏—Ç–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –∫–ª—é—á–æ–≤–µ –∑–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ –≤—Ä–∞—Ç–∏. –£–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞—Ç–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç –µ –∫–∞—Ç–æ –¥–∞ –∏–º–∞—Ç–µ –ø—Ä–æ–ø—É—Å–∫ –∑–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç, –∫–æ–π—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—è –¥–æ—Å—Ç—ä–ø –≤—ä–∑ –æ—Å–Ω–æ–≤–∞ –Ω–∞ —Ç–æ–≤–∞ –∫–æ–π —Å—Ç–µ - –±–µ–∑ –∫–ª—é—á–æ–≤–µ –∑–∞ –≥—É–±–µ–Ω–µ, –∫–æ–ø–∏—Ä–∞–Ω–µ –∏–ª–∏ —Ä–æ—Ç–∞—Ü–∏—è.

---

## –ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞—Ç–∞

### –ü–æ—Ç–æ–∫ –Ω–∞ —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è–≤–∞–Ω–µ —Å –£–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç

```mermaid
sequenceDiagram
    participant App as –í–∞—à–µ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ<br/>(–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
    participant MI as –£–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ —Å–∞–º–æ–ª–∏—á–Ω–æ—Å—Ç<br/>(Azure AD)
    participant KV as Key Vault
    participant Storage as Azure Storage
    participant DB as Azure SQL
    
    App->>MI: –ó–∞—è–≤–∫–∞ –∑–∞ —Ç–æ–∫–µ–Ω –∑–∞ –¥–æ—Å—Ç—ä–ø<br/>(–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)
    MI->>MI: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–∞–º–æ–ª–∏—á–Ω–æ—Å—Ç—Ç–∞<br/>(–±–µ–∑ –Ω—É–∂–¥–∞ –æ—Ç –ø–∞—Ä–æ–ª–∞)
    MI-->>App: –í—Ä—ä—â–∞–Ω–µ –Ω–∞ —Ç–æ–∫–µ–Ω<br/>(–≤–∞–ª–∏–¥–µ–Ω 1 —á–∞—Å)
    
    App->>KV: –í–∑–µ–º–∞–Ω–µ –Ω–∞ —Ç–∞–π–Ω–∞<br/>(—Å –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ —Ç–æ–∫–µ–Ω)
    KV->>KV: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ RBAC —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
    KV-->>App: –í—Ä—ä—â–∞–Ω–µ –Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ —Ç–∞–π–Ω–∞—Ç–∞
    
    App->>Storage: –ö–∞—á–≤–∞–Ω–µ –Ω–∞ blob<br/>(—Å –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ —Ç–æ–∫–µ–Ω)
    Storage->>Storage: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ RBAC —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
    Storage-->>App: –£—Å–ø–µ—Ö
    
    App->>DB: –ó–∞—è–≤–∫–∞ –∑–∞ –¥–∞–Ω–Ω–∏<br/>(—Å –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ —Ç–æ–∫–µ–Ω)
    DB->>DB: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ SQL —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
    DB-->>App: –í—Ä—ä—â–∞–Ω–µ –Ω–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏
    
    Note over App,DB: –¶—è–ª–∞—Ç–∞ –∞–≤—Ç–µ–Ω—Ç–∏–∫–∞—Ü–∏—è –µ –±–µ–∑ –ø–∞—Ä–æ–ª–∏!
```
### –í–∏–¥–æ–≤–µ –£–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–∏

```mermaid
graph TB
    MI[–£–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç]
    SystemAssigned[–ò–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç, —Å–≤—ä—Ä–∑–∞–Ω–∞ —Å—ä—Å —Å–∏—Å—Ç–µ–º–∞—Ç–∞]
    UserAssigned[–ò–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç, –∑–∞–¥–∞–¥–µ–Ω–∞ –æ—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è]
    
    MI --> SystemAssigned
    MI --> UserAssigned
    
    SystemAssigned --> SA1[–ñ–∏–∑–Ω–µ–Ω —Ü–∏–∫—ä–ª, —Å–≤—ä—Ä–∑–∞–Ω —Å —Ä–µ—Å—É—Ä—Å–∞]
    SystemAssigned --> SA2[–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—ä–∑–¥–∞–≤–∞–Ω–µ/–∏–∑—Ç—Ä–∏–≤–∞–Ω–µ]
    SystemAssigned --> SA3[–ù–∞–π-–¥–æ–±—Ä–æ –∑–∞ –µ–¥–∏–Ω —Ä–µ—Å—É—Ä—Å]
    
    UserAssigned --> UA1[–ù–µ–∑–∞–≤–∏—Å–∏–º –∂–∏–∑–Ω–µ–Ω —Ü–∏–∫—ä–ª]
    UserAssigned --> UA2[–†—ä—á–Ω–æ —Å—ä–∑–¥–∞–≤–∞–Ω–µ/–∏–∑—Ç—Ä–∏–≤–∞–Ω–µ]
    UserAssigned --> UA3[–°–ø–æ–¥–µ–ª–µ–Ω–æ –º–µ–∂–¥—É —Ä–µ—Å—É—Ä—Å–∏]
    
    style SystemAssigned fill:#2196F3,stroke:#1976D2,stroke-width:2px,color:#fff
    style UserAssigned fill:#4CAF50,stroke:#388E3C,stroke-width:2px,color:#fff
```
| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | –°–∏—Å—Ç–µ–º–Ω–æ-–ø—Ä–∏—Å–≤–æ–µ–Ω–∞ | –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–æ-–ø—Ä–∏—Å–≤–æ–µ–Ω–∞ |
|----------------|---------------------|-------------------------|
| **–ñ–∏–∑–Ω–µ–Ω —Ü–∏–∫—ä–ª** | –°–≤—ä—Ä–∑–∞–Ω —Å —Ä–µ—Å—É—Ä—Å–∞ | –ù–µ–∑–∞–≤–∏—Å–∏–º |
| **–°—ä–∑–¥–∞–≤–∞–Ω–µ** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å —Ä–µ—Å—É—Ä—Å–∞ | –†—ä—á–Ω–æ —Å—ä–∑–¥–∞–≤–∞–Ω–µ |
| **–ò–∑—Ç—Ä–∏–≤–∞–Ω–µ** | –ò–∑—Ç—Ä–∏–≤–∞ —Å–µ —Å —Ä–µ—Å—É—Ä—Å–∞ | –û—Å—Ç–∞–≤–∞ —Å–ª–µ–¥ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ —Ä–µ—Å—É—Ä—Å–∞ |
| **–°–ø–æ–¥–µ–ª—è–Ω–µ** | –°–∞–º–æ –µ–¥–∏–Ω —Ä–µ—Å—É—Ä—Å | –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–µ—Å—É—Ä—Å–∏ |
| **–°–ª—É—á–∞–π –Ω–∞ —É–ø–æ—Ç—Ä–µ–±–∞** | –ü—Ä–æ—Å—Ç–∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏ | –°–ª–æ–∂–Ω–∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–µ—Å—É—Ä—Å–∏ |
| **AZD –ø–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ** | ‚úÖ –ü—Ä–µ–ø–æ—Ä—ä—á–∏—Ç–µ–ª–Ω–æ | –û–ø—Ü–∏–æ–Ω–∞–ª–Ω–æ |

---

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª–Ω–∏ –∏–∑–∏—Å–∫–≤–∞–Ω–∏—è

### –ù–µ–æ–±—Ö–æ–¥–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏

–¢—Ä—è–±–≤–∞ –≤–µ—á–µ –¥–∞ —Å—Ç–µ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–ª–∏ —Å–ª–µ–¥–Ω–∏—Ç–µ –æ—Ç –ø—Ä–µ–¥–∏—à–Ω–∏ —É—Ä–æ—Ü–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ Azure Developer CLI
azd version
# ‚úÖ –û—á–∞–∫–≤–∞–Ω–æ: azd –≤–µ—Ä—Å–∏—è 1.0.0 –∏–ª–∏ –ø–æ-–≤–∏—Å–æ–∫–∞

# –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ Azure CLI
az --version
# ‚úÖ –û—á–∞–∫–≤–∞–Ω–æ: azure-cli 2.50.0 –∏–ª–∏ –ø–æ-–≤–∏—Å–æ–∫–∞
```

### –ò–∑–∏—Å–∫–≤–∞–Ω–∏—è –∫—ä–º Azure

- –ê–∫—Ç–∏–≤–µ–Ω Azure –∞–±–æ–Ω–∞–º–µ–Ω—Ç
- –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –∑–∞:
  - –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ —É–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–∏
  - –ü—Ä–∏—Å–≤–æ—è–≤–∞–Ω–µ –Ω–∞ RBAC —Ä–æ–ª–∏
  - –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ Key Vault —Ä–µ—Å—É—Ä—Å–∏
  - –í–Ω–µ–¥—Ä—è–≤–∞–Ω–µ –Ω–∞ Container Apps

### –ù–µ–æ–±—Ö–æ–¥–∏–º–∏ –∑–Ω–∞–Ω–∏—è

–¢—Ä—è–±–≤–∞ –¥–∞ —Å—Ç–µ –∑–∞–≤—ä—Ä—à–∏–ª–∏:
- [–†—ä–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∑–∞ –∏–Ω—Å—Ç–∞–ª–∞—Ü–∏—è](installation.md) - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ AZD
- [–û—Å–Ω–æ–≤–∏ –Ω–∞ AZD](azd-basics.md) - –û—Å–Ω–æ–≤–Ω–∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏](configuration.md) - –ü—Ä–æ–º–µ–Ω–ª–∏–≤–∏ –Ω–∞ —Å—Ä–µ–¥–∞—Ç–∞

---

## –£—Ä–æ–∫ 1: –†–∞–∑–±–∏—Ä–∞–Ω–µ –Ω–∞ —à–∞–±–ª–æ–Ω–∏—Ç–µ –∑–∞ —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è–≤–∞–Ω–µ

### –®–∞–±–ª–æ–Ω 1: –ù–∏–∑–æ–≤–µ –∑–∞ –≤—Ä—ä–∑–∫–∞ (–û—Å—Ç–∞—Ä—è–ª - –ò–∑–±—è–≥–≤–∞–π—Ç–µ)

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∏:**
```bash
# –ù–∏–∑—ä—Ç –∑–∞ –≤—Ä—ä–∑–∫–∞ —Å—ä–¥—ä—Ä–∂–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–∏ –¥–∞–Ω–Ω–∏
STORAGE_CONNECTION_STRING="DefaultEndpointsProtocol=https;AccountName=myaccount;AccountKey=xK7mN9pQ2wR5..."
COSMOS_CONNECTION_STRING="AccountEndpoint=https://myaccount.documents.azure.com:443/;AccountKey=C2x7..."
SQL_CONNECTION_STRING="Server=myserver.database.windows.net;User=admin;Password=P@ssw0rd..."
```

**–ü—Ä–æ–±–ª–µ–º–∏:**
- ‚ùå –¢–∞–π–Ω–∏—Ç–µ —Å–∞ –≤–∏–¥–∏–º–∏ –≤ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏—Ç–µ –Ω–∞ —Å—Ä–µ–¥–∞—Ç–∞
- ‚ùå –õ–æ–≥–≤–∞—Ç —Å–µ –≤ —Å–∏—Å—Ç–µ–º–∏—Ç–µ –∑–∞ –≤–Ω–µ–¥—Ä—è–≤–∞–Ω–µ
- ‚ùå –¢—Ä—É–¥–Ω–∏ –∑–∞ —Ä–æ—Ç–∞—Ü–∏—è
- ‚ùå –ù—è–º–∞ –æ–¥–∏—Ç–µ–Ω –∑–∞–ø–∏—Å –∑–∞ –¥–æ—Å—Ç—ä–ø

**–ö–æ–≥–∞ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ:** –°–∞–º–æ –∑–∞ –ª–æ–∫–∞–ª–Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, –Ω–∏–∫–æ–≥–∞ –≤ –ø—Ä–æ–¥—É–∫—Ü–∏—è.

---

### –®–∞–±–ª–æ–Ω 2: –ü—Ä–µ–ø—Ä–∞—Ç–∫–∏ –∫—ä–º Key Vault (–ü–æ-–¥–æ–±—ä—Ä)

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∏:**
```bicep
// Store secret in Key Vault
resource keyVault 'Microsoft.KeyVault/vaults@2023-02-01' = {
  name: 'mykv'
  properties: {
    enableRbacAuthorization: true
  }
}

// Reference in Container App
env: [
  {
    name: 'STORAGE_KEY'
    secretRef: 'storage-key'  // References Key Vault
  }
]
```

**–ü–æ–ª–∑–∏:**
- ‚úÖ –¢–∞–π–Ω–∏—Ç–µ —Å–µ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞—Ç —Å–∏–≥—É—Ä–Ω–æ –≤ Key Vault
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∏—Ä–∞–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Ç–∞–π–Ω–∏—Ç–µ
- ‚úÖ –†–æ—Ç–∞—Ü–∏—è –±–µ–∑ –ø—Ä–æ–º–µ–Ω–∏ –≤ –∫–æ–¥–∞

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- ‚ö†Ô∏è –í—Å–µ –æ—â–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ –∫–ª—é—á–æ–≤–µ/–ø–∞—Ä–æ–ª–∏
- ‚ö†Ô∏è –¢—Ä—è–±–≤–∞ –¥–∞ —É–ø—Ä–∞–≤–ª—è–≤–∞—Ç–µ –¥–æ—Å—Ç—ä–ø–∞ –¥–æ Key Vault

**–ö–æ–≥–∞ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ:** –ü—Ä–µ—Ö–æ–¥–Ω–∞ —Å—Ç—ä–ø–∫–∞ –æ—Ç –Ω–∏–∑–æ–≤–µ –∑–∞ –≤—Ä—ä–∑–∫–∞ –∫—ä–º —É–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç.

---

### –®–∞–±–ª–æ–Ω 3: –£–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç (–ù–∞–π-–¥–æ–±—Ä–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞)

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∏:**
```bicep
// Enable managed identity
resource containerApp 'Microsoft.App/containerApps@2023-05-01' = {
  name: 'myapp'
  identity: {
    type: 'SystemAssigned'  // Automatically creates identity
  }
}

// Grant permissions
resource roleAssignment 'Microsoft.Authorization/roleAssignments@2022-04-01' = {
  scope: storageAccount
  properties: {
    roleDefinitionId: storageBlobDataContributorRole
    principalId: containerApp.identity.principalId
  }
}
```

**–ö–æ–¥ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ:**
```javascript
// –ù–µ —Å–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∏ —Ç–∞–π–Ω–∏!
const { DefaultAzureCredential } = require('@azure/identity');
const { BlobServiceClient } = require('@azure/storage-blob');

const credential = new DefaultAzureCredential();
const blobServiceClient = new BlobServiceClient(
  'https://mystorageaccount.blob.core.windows.net',
  credential
);
```

**–ü–æ–ª–∑–∏:**
- ‚úÖ –ù–∏–∫–∞–∫–≤–∏ —Ç–∞–π–Ω–∏ –≤ –∫–æ–¥–∞/–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ç–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Ä–æ—Ç–∞—Ü–∏—è –Ω–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–∏ –¥–∞–Ω–Ω–∏
- ‚úÖ –ü—ä–ª–µ–Ω –æ–¥–∏—Ç–µ–Ω –∑–∞–ø–∏—Å
- ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ –±–∞–∑–∞—Ç–∞ –Ω–∞ RBAC
- ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç –∑–∞ —Å—ä–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ

**–ö–æ–≥–∞ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ:** –í–∏–Ω–∞–≥–∏, –∑–∞ –ø—Ä–æ–¥—É–∫—Ü–∏–æ–Ω–Ω–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---

## –£—Ä–æ–∫ 2: –†–µ–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ –£–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç —Å AZD

### –°—Ç—ä–ø–∫–∞ –ø–æ —Å—Ç—ä–ø–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

–ù–µ–∫–∞ —Å—ä–∑–¥–∞–¥–µ–º —Å–∏–≥—É—Ä–Ω–æ Container App, –∫–æ–µ—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞ —É–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç –∑–∞ –¥–æ—Å—Ç—ä–ø –¥–æ Azure Storage –∏ Key Vault.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
secure-app/
‚îú‚îÄ‚îÄ azure.yaml                 # AZD configuration
‚îú‚îÄ‚îÄ infra/
‚îÇ   ‚îú‚îÄ‚îÄ main.bicep            # Main infrastructure
‚îÇ   ‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ identity.bicep    # Managed identity setup
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ keyvault.bicep    # Key Vault configuration
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ storage.bicep     # Storage with RBAC
‚îÇ   ‚îî‚îÄ‚îÄ app/
‚îÇ       ‚îî‚îÄ‚îÄ container-app.bicep
‚îî‚îÄ‚îÄ src/
    ‚îú‚îÄ‚îÄ app.js                # Application code
    ‚îú‚îÄ‚îÄ package.json
    ‚îî‚îÄ‚îÄ Dockerfile
```

### 1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–µ –Ω–∞ AZD (azure.yaml)

```yaml
name: secure-app
metadata:
  template: secure-app@1.0.0

services:
  api:
    project: ./src
    language: js
    host: containerapp

# Enable managed identity (AZD handles this automatically)
```

### 2. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞: –ê–∫—Ç–∏–≤–∏—Ä–∞–Ω–µ –Ω–∞ –£–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç

**–§–∞–π–ª: `infra/main.bicep`**

```bicep
targetScope = 'subscription'

param environmentName string
param location string = 'eastus'

var tags = { 'azd-env-name': environmentName }

// Resource group
resource rg 'Microsoft.Resources/resourceGroups@2021-04-01' = {
  name: 'rg-${environmentName}'
  location: location
  tags: tags
}

// Storage Account
module storage './core/storage.bicep' = {
  name: 'storage'
  scope: rg
  params: {
    name: 'st${uniqueString(rg.id)}'
    location: location
    tags: tags
  }
}

// Key Vault
module keyVault './core/keyvault.bicep' = {
  name: 'keyvault'
  scope: rg
  params: {
    name: 'kv-${uniqueString(rg.id)}'
    location: location
    tags: tags
  }
}

// Container App with Managed Identity
module containerApp './app/container-app.bicep' = {
  name: 'container-app'
  scope: rg
  params: {
    name: 'ca-${environmentName}'
    location: location
    tags: tags
    storageAccountName: storage.outputs.name
    keyVaultName: keyVault.outputs.name
  }
}

// Grant Container App access to Storage
module storageRoleAssignment './core/role-assignment.bicep' = {
  name: 'storage-role'
  scope: rg
  params: {
    principalId: containerApp.outputs.identityPrincipalId
    roleDefinitionId: 'ba92f5b4-2d11-453d-a403-e96b0029c9fe'  // Storage Blob Data Contributor
    targetResourceId: storage.outputs.id
  }
}

// Grant Container App access to Key Vault
module kvRoleAssignment './core/role-assignment.bicep' = {
  name: 'kv-role'
  scope: rg
  params: {
    principalId: containerApp.outputs.identityPrincipalId
    roleDefinitionId: '4633458b-17de-408a-b874-0445c86b69e6'  // Key Vault Secrets User
    targetResourceId: keyVault.outputs.id
  }
}

// Outputs
output AZURE_STORAGE_ACCOUNT_NAME string = storage.outputs.name
output AZURE_KEY_VAULT_NAME string = keyVault.outputs.name
output APP_URL string = containerApp.outputs.url
```

### 3. Container App —Å—ä—Å —Å–∏—Å—Ç–µ–º–Ω–æ-–ø—Ä–∏—Å–≤–æ–µ–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç

**–§–∞–π–ª: `infra/app/container-app.bicep`**

```bicep
param name string
param location string
param tags object = {}
param storageAccountName string
param keyVaultName string

resource containerApp 'Microsoft.App/containerApps@2023-05-01' = {
  name: name
  location: location
  tags: tags
  identity: {
    type: 'SystemAssigned'  // üîë Enable managed identity
  }
  properties: {
    configuration: {
      ingress: {
        external: true
        targetPort: 3000
      }
    }
    template: {
      containers: [
        {
          name: 'api'
          image: 'myregistry.azurecr.io/api:latest'
          resources: {
            cpu: json('0.5')
            memory: '1Gi'
          }
          env: [
            {
              name: 'AZURE_STORAGE_ACCOUNT_NAME'
              value: storageAccountName
            }
            {
              name: 'AZURE_KEY_VAULT_NAME'
              value: keyVaultName
            }
            // üîë No secrets - managed identity handles authentication!
          ]
        }
      ]
    }
  }
}

// Output the identity for RBAC assignments
output identityPrincipalId string = containerApp.identity.principalId
output id string = containerApp.id
output url string = 'https://${containerApp.properties.configuration.ingress.fqdn}'
```

### 4. –ú–æ–¥—É–ª –∑–∞ –ø—Ä–∏—Å–≤–æ—è–≤–∞–Ω–µ –Ω–∞ RBAC —Ä–æ–ª–∏

**–§–∞–π–ª: `infra/core/role-assignment.bicep`**

```bicep
param principalId string
param roleDefinitionId string  // Azure built-in role ID
param targetResourceId string

resource roleAssignment 'Microsoft.Authorization/roleAssignments@2022-04-01' = {
  name: guid(principalId, roleDefinitionId, targetResourceId)
  scope: resourceId('Microsoft.Resources/resourceGroups', resourceGroup().name)
  properties: {
    roleDefinitionId: subscriptionResourceId('Microsoft.Authorization/roleDefinitions', roleDefinitionId)
    principalId: principalId
    principalType: 'ServicePrincipal'
  }
}

output id string = roleAssignment.id
```

### 5. –ö–æ–¥ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ —Å –£–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç

**–§–∞–π–ª: `src/app.js`**

```javascript
const express = require('express');
const { DefaultAzureCredential } = require('@azure/identity');
const { BlobServiceClient } = require('@azure/storage-blob');
const { SecretClient } = require('@azure/keyvault-secrets');

const app = express();
const PORT = process.env.PORT || 3000;

// üîë –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–∏ –¥–∞–Ω–Ω–∏ (—Ä–∞–±–æ—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å —É–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç)
const credential = new DefaultAzureCredential();

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ Azure Storage
const storageAccountName = process.env.AZURE_STORAGE_ACCOUNT_NAME;
const blobServiceClient = new BlobServiceClient(
  `https://${storageAccountName}.blob.core.windows.net`,
  credential  // –ù–µ —Å–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∏ –∫–ª—é—á–æ–≤–µ!
);

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ Key Vault
const keyVaultName = process.env.AZURE_KEY_VAULT_NAME;
const secretClient = new SecretClient(
  `https://${keyVaultName}.vault.azure.net`,
  credential  // –ù–µ —Å–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∏ –∫–ª—é—á–æ–≤–µ!
);

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—ä—Å—Ç–æ—è–Ω–∏–µ—Ç–æ
app.get('/health', (req, res) => {
  res.json({ status: 'healthy', authentication: 'managed-identity' });
});

// –ö–∞—á–≤–∞–Ω–µ –Ω–∞ —Ñ–∞–π–ª –≤ blob storage
app.post('/upload', async (req, res) => {
  try {
    const containerClient = blobServiceClient.getContainerClient('uploads');
    await containerClient.createIfNotExists();
    
    const blobName = `file-${Date.now()}.txt`;
    const blockBlobClient = containerClient.getBlockBlobClient(blobName);
    
    await blockBlobClient.upload('Hello from managed identity!', 30);
    
    res.json({
      success: true,
      blobName: blobName,
      message: 'File uploaded using managed identity!'
    });
  } catch (error) {
    console.error('Upload error:', error);
    res.status(500).json({ error: error.message });
  }
});

// –ü–æ–ª—É—á–∞–≤–∞–Ω–µ –Ω–∞ —Ç–∞–π–Ω–∞ –æ—Ç Key Vault
app.get('/secret/:name', async (req, res) => {
  try {
    const secretName = req.params.name;
    const secret = await secretClient.getSecret(secretName);
    
    res.json({
      name: secretName,
      value: secret.value,
      message: 'Secret retrieved using managed identity!'
    });
  } catch (error) {
    console.error('Secret error:', error);
    res.status(500).json({ error: error.message });
  }
});

// –°–ø–∏—Å—ä–∫ —Å blob –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ (–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–∞ –¥–æ—Å—Ç—ä–ø –∑–∞ —á–µ—Ç–µ–Ω–µ)
app.get('/containers', async (req, res) => {
  try {
    const containers = [];
    for await (const container of blobServiceClient.listContainers()) {
      containers.push(container.name);
    }
    
    res.json({
      containers: containers,
      count: containers.length,
      message: 'Containers listed using managed identity!'
    });
  } catch (error) {
    console.error('List error:', error);
    res.status(500).json({ error: error.message });
  }
});

app.listen(PORT, () => {
  console.log(`Secure API listening on port ${PORT}`);
  console.log('Authentication: Managed Identity (passwordless)');
});
```

**–§–∞–π–ª: `src/package.json`**

```json
{
  "name": "secure-app",
  "version": "1.0.0",
  "dependencies": {
    "express": "^4.18.2",
    "@azure/identity": "^4.0.0",
    "@azure/storage-blob": "^12.17.0",
    "@azure/keyvault-secrets": "^4.7.0"
  },
  "scripts": {
    "start": "node app.js"
  }
}
```

### 6. –í–Ω–µ–¥—Ä—è–≤–∞–Ω–µ –∏ —Ç–µ—Å—Ç–≤–∞–Ω–µ

```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ AZD —Å—Ä–µ–¥–∞
azd init

# –†–∞–∑–≥—Ä—ä—â–∞–Ω–µ –Ω–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
azd up

# –í–∑–µ–º–µ—Ç–µ URL –∞–¥—Ä–µ—Å–∞ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ
APP_URL=$(azd env get-values | grep APP_URL | cut -d '=' -f2 | tr -d '"')

# –¢–µ—Å—Ç–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫–∞—Ç–∞ –Ω–∞ –∑–¥—Ä–∞–≤–µ—Ç–æ
curl $APP_URL/health
```

**‚úÖ –û—á–∞–∫–≤–∞–Ω —Ä–µ–∑—É–ª—Ç–∞—Ç:**
```json
{
  "status": "healthy",
  "authentication": "managed-identity"
}
```

**–¢–µ—Å—Ç–≤–∞–Ω–µ –Ω–∞ –∫–∞—á–≤–∞–Ω–µ –Ω–∞ blob:**
```bash
curl -X POST $APP_URL/upload
```

**‚úÖ –û—á–∞–∫–≤–∞–Ω —Ä–µ–∑—É–ª—Ç–∞—Ç:**
```json
{
  "success": true,
  "blobName": "file-1700404800000.txt",
  "message": "File uploaded using managed identity!"
}
```

**–¢–µ—Å—Ç–≤–∞–Ω–µ –Ω–∞ –∏–∑–±—Ä–æ—è–≤–∞–Ω–µ –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏:**
```bash
curl $APP_URL/containers
```

**‚úÖ –û—á–∞–∫–≤–∞–Ω —Ä–µ–∑—É–ª—Ç–∞—Ç:**
```json
{
  "containers": ["uploads"],
  "count": 1,
  "message": "Containers listed using managed identity!"
}
```

---

## –ß–µ—Å—Ç–æ —Å—Ä–µ—â–∞–Ω–∏ Azure RBAC —Ä–æ–ª–∏

### –í–≥—Ä–∞–¥–µ–Ω–∏ Role ID –∑–∞ –£–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç

| –£—Å–ª—É–≥–∞ | –ò–º–µ –Ω–∞ —Ä–æ–ª—è | Role ID | –†–∞–∑—Ä–µ—à–µ–Ω–∏—è |
|--------|-------------|---------|------------|
| **Storage** | Storage Blob Data Reader | `2a2b9908-6b94-4a3d-8e5a-a7d8f8cc8a12` | –ß–µ—Ç–µ–Ω–µ –Ω–∞ blob –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ |
| **Storage** | Storage Blob Data Contributor | `ba92f5b4-2d11-453d-a403-e96b0029c9fe` | –ß–µ—Ç–µ–Ω–µ, –ø–∏—Å–∞–Ω–µ, –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ blob |
| **Storage** | Storage Queue Data Contributor | `974c5e8b-45b9-4653-ba55-5f855dd0fb88` | –ß–µ—Ç–µ–Ω–µ, –ø–∏—Å–∞–Ω–µ, –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ —Å—ä–æ–±—â–µ–Ω–∏—è –≤ –æ–ø–∞—à–∫–∏ |
| **Key Vault** | Key Vault Secrets User | `4633458b-17de-408a-b874-0445c86b69e6` | –ß–µ—Ç–µ–Ω–µ –Ω–∞ —Ç–∞–π–Ω–∏ |
| **Key Vault** | Key Vault Secrets Officer | `b86a8fe4-44ce-4948-aee5-eccb2c155cd7` | –ß–µ—Ç–µ–Ω–µ, –ø–∏—Å–∞–Ω–µ, –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ —Ç–∞–π–Ω–∏ |
| **Cosmos DB** | Cosmos DB Built-in Data Reader | `00000000-0000-0000-0000-000000000001` | –ß–µ—Ç–µ–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏ –æ—Ç Cosmos DB |
| **Cosmos DB** | Cosmos DB Built-in Data Contributor | `00000000-0000-0000-0000-000000000002` | –ß–µ—Ç–µ–Ω–µ, –ø–∏—Å–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏ –æ—Ç Cosmos DB |
| **SQL Database** | SQL DB Contributor | `9b7fa17d-e63e-47b0-bb0a-15c516ac86ec` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ SQL –±–∞–∑–∏ –¥–∞–Ω–Ω–∏ |
| **Service Bus** | Azure Service Bus Data Owner | `090c5cfd-751d-490a-894a-3ce6f1109419` | –ò–∑–ø—Ä–∞—â–∞–Ω–µ, –ø–æ–ª—É—á–∞–≤–∞–Ω–µ, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—ä–æ–±—â–µ–Ω–∏—è |

### –ö–∞–∫ –¥–∞ –Ω–∞–º–µ—Ä–∏—Ç–µ Role ID

```bash
# –ò–∑–±—Ä–æ–π—Ç–µ –≤—Å–∏—á–∫–∏ –≤–≥—Ä–∞–¥–µ–Ω–∏ —Ä–æ–ª–∏
az role definition list --query "[].{Name:roleName, ID:name}" --output table

# –¢—ä—Ä—Å–µ–Ω–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞ —Ä–æ–ª—è
az role definition list --query "[?contains(roleName, 'Storage Blob')].{Name:roleName, ID:name}" --output table

# –ü–æ–ª—É—á–∞–≤–∞–Ω–µ –Ω–∞ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –∑–∞ —Ä–æ–ª—è—Ç–∞
az role definition list --name "Storage Blob Data Contributor"
```

---

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 1: –ê–∫—Ç–∏–≤–∏—Ä–∞–Ω–µ –Ω–∞ –£–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç –∑–∞ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚≠ê‚≠ê (–°—Ä–µ–¥–Ω–æ)

**–¶–µ–ª**: –î–æ–±–∞–≤–µ—Ç–µ —É–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç –∫—ä–º —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â–æ –≤–Ω–µ–¥—Ä—è–≤–∞–Ω–µ –Ω–∞ Container App

**–°—Ü–µ–Ω–∞—Ä–∏–π**: –ò–º–∞—Ç–µ Container App, –∫–æ–π—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞ –Ω–∏–∑–æ–≤–µ –∑–∞ –≤—Ä—ä–∑–∫–∞. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–π—Ç–µ –≥–æ –∫—ä–º —É–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç.

**–ù–∞—á–∞–ª–Ω–∞ —Ç–æ—á–∫–∞**: Container App —Å —Ç–∞–∑–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:

```bicep
// ‚ùå Current: Using connection string
env: [
  {
    name: 'STORAGE_CONNECTION_STRING'
    secretRef: 'storage-connection'
  }
]
```

**–°—Ç—ä–ø–∫–∏**:

1. **–ê–∫—Ç–∏–≤–∏—Ä–∞–π—Ç–µ —É–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç –≤ Bicep:**

```bicep
resource containerApp 'Microsoft.App/containerApps@2023-05-01' = {
  name: 'myapp'
  identity: {
    type: 'SystemAssigned'  // Add this
  }
  // ... rest of configuration
}
```

2. **–î–∞–π—Ç–µ –¥–æ—Å—Ç—ä–ø –¥–æ Storage:**

```bicep
// Get storage account reference
resource storageAccount 'Microsoft.Storage/storageAccounts@2023-01-01' existing = {
  name: storageAccountName
}

// Assign role
resource roleAssignment 'Microsoft.Authorization/roleAssignments@2022-04-01' = {
  name: guid(containerApp.id, 'ba92f5b4-2d11-453d-a403-e96b0029c9fe', storageAccount.id)
  scope: storageAccount
  properties: {
    roleDefinitionId: subscriptionResourceId('Microsoft.Authorization/roleDefinitions', 'ba92f5b4-2d11-453d-a403-e96b0029c9fe')
    principalId: containerApp.identity.principalId
    principalType: 'ServicePrincipal'
  }
}
```

3. **–ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ –∫–æ–¥–∞ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ:**

**–ü—Ä–µ–¥–∏ (–Ω–∏–∑ –∑–∞ –≤—Ä—ä–∑–∫–∞):**
```javascript
const { BlobServiceClient } = require('@azure/storage-blob');

const blobServiceClient = BlobServiceClient.fromConnectionString(
  process.env.STORAGE_CONNECTION_STRING
);
```

**–°–ª–µ–¥ (—É–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç):**
```javascript
const { DefaultAzureCredential } = require('@azure/identity');
const { BlobServiceClient } = require('@azure/storage-blob');

const credential = new DefaultAzureCredential();
const blobServiceClient = new BlobServiceClient(
  `https://${process.env.STORAGE_ACCOUNT_NAME}.blob.core.windows.net`,
  credential
);
```

4. **–ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏—Ç–µ –Ω–∞ —Å—Ä–µ–¥–∞—Ç–∞:**

```bicep
env: [
  {
    name: 'STORAGE_ACCOUNT_NAME'
    value: storageAccountName  // Just the name, no secrets!
  }
  // Remove STORAGE_CONNECTION_STRING
]
```

5. **–í–Ω–µ–¥—Ä–µ—Ç–µ –∏ —Ç–µ—Å—Ç–≤–∞–π—Ç–µ:**

```bash
# –ü—Ä–µ—Ä–∞–∑–ø–æ–ª–æ–∂–∏
azd up

# –¢–µ—Å—Ç–≤–∞–π –¥–∞–ª–∏ –≤—Å–µ –æ—â–µ —Ä–∞–±–æ—Ç–∏
curl https://myapp.azurecontainerapps.io/upload
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞ —É—Å–ø–µ—Ö:**
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ —Å–µ –≤–Ω–µ–¥—Ä—è–≤–∞ –±–µ–∑ –≥—Ä–µ—à–∫–∏
- ‚úÖ –û–ø–µ—Ä–∞—Ü–∏–∏—Ç–µ —Å—ä—Å Storage —Ä–∞–±–æ—Ç—è—Ç (–∫–∞—á–≤–∞–Ω–µ, –∏–∑–±—Ä–æ—è–≤–∞–Ω–µ, –∏–∑—Ç–µ–≥–ª—è–Ω–µ)
- ‚úÖ –ù—è–º–∞ –Ω–∏–∑–æ–≤–µ –∑–∞ –≤—Ä—ä–∑–∫–∞ –≤ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏—Ç–µ –Ω–∞ —Å—Ä–µ–¥–∞—Ç–∞
- ‚úÖ –ò–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—Ç–∞ –µ –≤–∏–¥–∏–º–∞ –≤ Azure Portal –ø–æ–¥ —Ä–∞–∑–¥–µ–ª–∞ "Identity"

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**

```bash
# –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ —É–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞—Ç–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç –µ –∞–∫—Ç–∏–≤–∏—Ä–∞–Ω–∞
az containerapp show \
  --name myapp \
  --resource-group rg-myapp \
  --query "identity.type"
# ‚úÖ –û—á–∞–∫–≤–∞–Ω–æ: "SystemAssigned"

# –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ—Ç–æ –Ω–∞ —Ä–æ–ª—è—Ç–∞
az role assignment list \
  --assignee $(az containerapp show --name myapp --resource-group rg-myapp --query "identity.principalId" -o tsv) \
  --scope /subscriptions/{sub-id}/resourceGroups/rg-myapp/providers/Microsoft.Storage/storageAccounts/mystorageaccount
# ‚úÖ –û—á–∞–∫–≤–∞–Ω–æ: –ü–æ–∫–∞–∑–≤–∞ —Ä–æ–ª—è—Ç–∞ "Storage Blob Data Contributor"
```

**–í—Ä–µ–º–µ**: 20-30 –º–∏–Ω—É—Ç–∏

---

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 2: –î–æ—Å—Ç—ä–ø –¥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —É—Å–ª—É–≥–∏ —Å –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–æ-–ø—Ä–∏—Å–≤–æ–µ–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç ‚≠ê‚≠ê‚≠ê (–ù–∞–ø—Ä–µ–¥–Ω–∞–ª–æ)

**–¶–µ–ª**: –°—ä–∑–¥–∞–π—Ç–µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–æ-–ø—Ä–∏—Å–≤–æ–µ–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç, —Å–ø–æ–¥–µ–ª–µ–Ω–∞ –º–µ–∂–¥—É –º–Ω–æ–∂–µ—Å—Ç–≤–æ Container Apps

**–°—Ü–µ–Ω–∞—Ä–∏–π**: –ò–º–∞—Ç–µ 3 –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞, –∫–æ–∏—Ç–æ –≤—Å–∏—á–∫–∏ —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–º–∞—Ç –¥–æ—Å—Ç—ä–ø –¥–æ –µ–¥–∏–Ω –∏ —Å—ä—â Storage –∞–∫–∞—É–Ω—Ç –∏ Key Vault.

**–°—Ç—ä–ø–∫–∏**:

1. **–°—ä–∑–¥–∞–π—Ç–µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–æ-–ø—Ä–∏—Å–≤–æ–µ–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç:**

**–§–∞–π–ª: `infra/core/identity.bicep`**

```bicep
param name string
param location string
param tags object = {}

resource userAssignedIdentity 'Microsoft.ManagedIdentity/userAssignedIdentities@2023-01-31' = {
  name: name
  location: location
  tags: tags
}

output id string = userAssignedIdentity.id
output principalId string = userAssignedIdentity.properties.principalId
output clientId string = userAssignedIdentity.properties.clientId
```

2. **–ü—Ä–∏—Å–≤–æ—è–≤–∞–Ω–µ –Ω–∞ —Ä–æ–ª–∏ –∫—ä–º –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–æ-–ø—Ä–∏—Å–≤–æ–µ–Ω–∞—Ç–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç:**

```bicep
// In main.bicep
module userIdentity './core/identity.bicep' = {
  name: 'user-identity'
  scope: rg
  params: {
    name: 'id-${environmentName}'
    location: location
    tags: tags
  }
}

// Grant Storage access
resource storageRoleAssignment 'Microsoft.Authorization/roleAssignments@2022-04-01' = {
  name: guid(userIdentity.outputs.principalId, 'storage-contributor')
  scope: storageAccount
  properties: {
    roleDefinitionId: subscriptionResourceId('Microsoft.Authorization/roleDefinitions', 'ba92f5b4-2d11-453d-a403-e96b0029c9fe')
    principalId: userIdentity.outputs.principalId
    principalType: 'ServicePrincipal'
  }
}

// Grant Key Vault access
resource kvRoleAssignment 'Microsoft.Authorization/roleAssignments@2022-04-01' = {
  name: guid(userIdentity.outputs.principalId, 'kv-secrets-user')
  scope: keyVault
  properties: {
    roleDefinitionId: subscriptionResourceId('Microsoft.Authorization/roleDefinitions', '4633458b-17de-408a-b874-0445c86b69e6')
    principalId: userIdentity.outputs.principalId
    principalType: 'ServicePrincipal'
  }
}
```

3. **–ü—Ä–∏—Å–≤–æ—è–≤–∞–Ω–µ –Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—Ç–∞ –∫—ä–º –º–Ω–æ–∂–µ—Å—Ç–≤–æ Container Apps:**

```bicep
resource apiGateway 'Microsoft.App/containerApps@2023-05-01' = {
  name: 'api-gateway'
  identity: {
    type: 'UserAssigned'
    userAssignedIdentities: {
      '${userIdentity.outputs.id}': {}
    }
  }
  // ... rest of config
}

resource productService 'Microsoft.App/containerApps@2023-05-01' = {
  name: 'product-service'
  identity: {
    type: 'UserAssigned'
    userAssignedIdentities: {
      '${userIdentity.outputs.id}': {}
    }
  }
  // ... rest of config
}

resource orderService 'Microsoft.App/containerApps@2023-05-01' = {
  name: 'order-service'
  identity: {
    type: 'UserAssigned'
    userAssignedIdentities: {
      '${userIdentity.outputs.id}': {}
    }
  }
  // ... rest of config
}
```

4. **–ö–æ–¥ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ (–≤—Å–∏—á–∫–∏ —É—Å–ª—É–≥–∏ –∏–∑–ø–æ–ª–∑–≤–∞—Ç –µ–¥–∏–Ω –∏ —Å—ä—â —à–∞–±–ª–æ–Ω):**

```javascript
const { DefaultAzureCredential, ManagedIdentityCredential } = require('@azure/identity');

// –ó–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–æ –∑–∞–¥–∞–¥–µ–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç, –ø–æ—Å–æ—á–µ—Ç–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—è ID
const credential = new ManagedIdentityCredential(
  process.env.AZURE_CLIENT_ID  // –ö–ª–∏–µ–Ω—Ç—Å–∫–∏ ID –∑–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–æ –∑–∞–¥–∞–¥–µ–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç
);

// –ò–ª–∏ –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ DefaultAzureCredential (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Ç–∫—Ä–∏–≤–∞)
const credential = new DefaultAzureCredential();

const blobServiceClient = new BlobServiceClient(
  `https://${process.env.STORAGE_ACCOUNT_NAME}.blob.core.windows.net`,
  credential
);
```

5. **–í–Ω–µ–¥—Ä–µ—Ç–µ –∏ –ø—Ä–æ–≤–µ—Ä–µ—Ç–µ:**

```bash
azd up

# –¢–µ—Å—Ç–≤–∞–π—Ç–µ –¥–∞–ª–∏ –≤—Å–∏—á–∫–∏ —É—Å–ª—É–≥–∏ –∏–º–∞—Ç –¥–æ—Å—Ç—ä–ø –¥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ—Ç–æ
curl https://api-gateway.azurecontainerapps.io/upload
curl https://product-service.azurecontainerapps.io/upload
curl https://order-service.azurecontainerapps.io/upload
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞ —É—Å–ø–µ—Ö:**
- ‚úÖ –ï–¥–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç, —Å–ø–æ–¥–µ–ª–µ–Ω–∞ –º–µ–∂–¥—É 3 —É—Å–ª—É–≥–∏
- ‚úÖ –í—Å–∏—á–∫–∏ —É—Å–ª—É–≥–∏ –∏–º–∞—Ç –¥–æ—Å—Ç—ä–ø –¥–æ Storage –∏ Key Vault
- ‚úÖ –ò–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—Ç–∞ –æ—Å—Ç–∞–≤–∞, –∞–∫–æ –∏–∑—Ç—Ä–∏–µ—Ç–µ –µ–¥–Ω–∞ —É—Å–ª—É–≥–∞
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∏—Ä–∞–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ç–∞

**–ü–æ–ª–∑–∏ –æ—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–æ-–ø—Ä–∏—Å–≤–æ–µ–Ω–∞—Ç–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç:**
- –ï–¥–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–Ω–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –º–µ–∂–¥—É —É—Å–ª—É–≥–∏—Ç–µ
- –û—Å—Ç–∞–≤–∞ —Å–ª–µ–¥ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ —É—Å–ª—É–≥–∞
- –ü–æ-–¥–æ–±—Ä–æ –∑–∞ —Å–ª–æ–∂–Ω–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∏

**–í—Ä–µ–º–µ**: 30-40 –º–∏–Ω—É—Ç–∏

---

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 3: –†–µ–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ —Ä–æ—Ç–∞—Ü–∏—è –Ω–∞ —Ç–∞–π–Ω–∏ –≤ Key Vault ‚≠ê‚≠ê‚≠ê (–ù–∞–ø—Ä–µ–¥–Ω–∞–ª–æ)

**–¶–µ–ª**: –°—ä—Ö—Ä–∞–Ω—è–≤–∞–π—Ç–µ API –∫–ª—é—á–æ–≤–µ –Ω–∞ —Ç—Ä–µ—Ç–∏ —Å—Ç—Ä–∞–Ω–∏ –≤ Key Vault –∏ –≥–∏ –¥–æ—Å—Ç—ä–ø–≤–∞–π—Ç–µ —Å —É–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç

**–°—Ü–µ–Ω–∞—Ä–∏–π**: –í–∞—à–µ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–∑–≤–∏–∫–≤–∞ –≤—ä–Ω—à–µ–Ω API (OpenAI, Stripe, SendGrid), –∫–æ–π—Ç–æ –∏–∑–∏—Å–∫–≤–∞ API –∫–ª—é—á–æ–≤–µ.

**–°—Ç—ä–ø–∫–∏**:

1. **–°—ä–∑–¥–∞–π—Ç–µ Key Vault —Å RBAC:**

**–§–∞–π–ª: `infra/core/keyvault.bicep`**

```bicep
param name string
param location string
param tags object = {}

resource keyVault 'Microsoft.KeyVault/vaults@2023-02-01' = {
  name: name
  location: location
  tags: tags
  properties: {
    enableRbacAuthorization: true  // Use RBAC instead of access policies
    sku: {
      family: 'A'
      name: 'standard'
    }
    tenantId: subscription().tenantId
    enableSoftDelete: true
    softDeleteRetentionInDays: 90
  }
}

// Allow Container App to read secrets
output id string = keyVault.id
output name string = keyVault.name
output uri string = keyVault.properties.vaultUri
```

2. **–°—ä—Ö—Ä–∞–Ω–µ—Ç–µ —Ç–∞–π–Ω–∏ –≤ Key Vault:**

```bash
# –í–∑–µ–º–µ—Ç–µ –∏–º–µ—Ç–æ –Ω–∞ Key Vault
KV_NAME=$(azd env get-values | grep AZURE_KEY_VAULT_NAME | cut -d '=' -f2 | tr -d '"')

# –°—ä—Ö—Ä–∞–Ω—è–≤–∞–π—Ç–µ API –∫–ª—é—á–æ–≤–µ –Ω–∞ —Ç—Ä–µ—Ç–∏ —Å—Ç—Ä–∞–Ω–∏
az keyvault secret set \
  --vault-name $KV_NAME \
  --name "OpenAI-ApiKey" \
  --value "sk-proj-xxxxxxxxxxxxx"

az keyvault secret set \
  --vault-name $KV_NAME \
  --name "Stripe-ApiKey" \
  --value "sk_live_xxxxxxxxxxxxx"

az keyvault secret set \
  --vault-name $KV_NAME \
  --name "SendGrid-ApiKey" \
  --value "SG.xxxxxxxxxxxxx"
```

3. **–ö–æ–¥ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –∑–∞ –∏–∑–≤–ª–∏—á–∞–Ω–µ –Ω–∞ —Ç–∞–π–Ω–∏:**

**–§–∞–π–ª: `src/config.js`**

```javascript
const { DefaultAzureCredential } = require('@azure/identity');
const { SecretClient } = require('@azure/keyvault-secrets');

class Config {
  constructor() {
    this.credential = new DefaultAzureCredential();
    this.secretClient = new SecretClient(
      `https://${process.env.AZURE_KEY_VAULT_NAME}.vault.azure.net`,
      this.credential
    );
    this.cache = {};
  }

  async getSecret(secretName) {
    // –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –∫–µ—à–∞ –ø—ä—Ä–≤–æ
    if (this.cache[secretName]) {
      return this.cache[secretName];
    }

    try {
      const secret = await this.secretClient.getSecret(secretName);
      this.cache[secretName] = secret.value;
      console.log(`‚úÖ Retrieved secret: ${secretName}`);
      return secret.value;
    } catch (error) {
      console.error(`‚ùå Failed to get secret ${secretName}:`, error.message);
      throw error;
    }
  }

  async getOpenAIKey() {
    return this.getSecret('OpenAI-ApiKey');
  }

  async getStripeKey() {
    return this.getSecret('Stripe-ApiKey');
  }

  async getSendGridKey() {
    return this.getSecret('SendGrid-ApiKey');
  }
}

module.exports = new Config();
```

4. **–ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ —Ç–∞–π–Ω–∏—Ç–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ:**

**–§–∞–π–ª: `src/app.js`**

```javascript
const express = require('express');
const config = require('./config');
const { OpenAI } = require('openai');

const app = express();

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ OpenAI —Å –∫–ª—é—á –æ—Ç Key Vault
let openaiClient;

async function initializeServices() {
  const openaiKey = await config.getOpenAIKey();
  openaiClient = new OpenAI({ apiKey: openaiKey });
  console.log('‚úÖ Services initialized with secrets from Key Vault');
}

// –ò–∑–≤–∏–∫–∞–π—Ç–µ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ
initializeServices().catch(console.error);

app.post('/chat', async (req, res) => {
  try {
    const completion = await openaiClient.chat.completions.create({
      model: 'gpt-4',
      messages: [{ role: 'user', content: 'Hello!' }]
    });
    
    res.json({
      response: completion.choices[0].message.content,
      authentication: 'Key from Key Vault via Managed Identity'
    });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

app.listen(3000, () => {
  console.log('Secure API with Key Vault integration running');
});
```

5. **–í–Ω–µ–¥—Ä–µ—Ç–µ –∏ —Ç–µ—Å—Ç–≤–∞–π—Ç–µ:**

```bash
azd up

# –¢–µ—Å—Ç–≤–∞–π—Ç–µ –¥–∞–ª–∏ API –∫–ª—é—á–æ–≤–µ—Ç–µ —Ä–∞–±–æ—Ç—è—Ç
curl -X POST https://myapp.azurecontainerapps.io/chat \
  -H "Content-Type: application/json" \
  -d '{"message":"Hello AI"}'
```

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞ —É—Å–ø–µ—Ö:**
- ‚úÖ –ù—è–º–∞ API –∫–ª—é—á–æ–≤–µ –≤ –∫–æ–¥–∞ –∏–ª–∏ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏—Ç–µ –Ω–∞ —Å—Ä–µ–¥–∞—Ç–∞
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –∏–∑–≤–ª–∏—á–∞ –∫–ª—é—á–æ–≤–µ –æ—Ç Key Vault
- ‚úÖ –í—ä–Ω—à–Ω–∏—Ç–µ API —Ä–∞–±–æ—Ç—è—Ç –ø—Ä–∞–≤–∏–ª–Ω–æ
- ‚úÖ –ú–æ–∂–µ—Ç–µ –¥–∞ —Ä–æ—Ç–∏—Ä–∞—Ç–µ –∫–ª—é—á–æ–≤–µ –±–µ–∑ –ø—Ä–æ–º–µ–Ω–∏ –≤ –∫–æ–¥–∞

**–†–æ—Ç–∞—Ü–∏—è –Ω–∞ —Ç–∞–µ–Ω –∫–ª—é—á:**

```bash
# –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–π —Ç–∞–π–Ω–∏—è –∫–ª—é—á –≤ Key Vault
az keyvault secret set \
  --vault-name $KV_NAME \
  --name "OpenAI-ApiKey" \
  --value "sk-proj-NEW_KEY_HERE"

# –†–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ, –∑–∞ –¥–∞ –≤–∑–µ–º–µ –Ω–æ–≤–∏—è –∫–ª—é—á
az containerapp revision restart \
  --name myapp \
  --resource-group rg-myapp
```

**–í—Ä–µ–º–µ**: 25-35 –º–∏–Ω—É—Ç–∏

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∑–Ω–∞–Ω–∏—è—Ç–∞

### 1. –®–∞–±–ª–æ–Ω–∏ –∑–∞ —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è–≤–∞–Ω–µ ‚úì

–¢–µ—Å—Ç–≤–∞–π—Ç–µ —Ä–∞–∑–±–∏—Ä–∞–Ω–µ—Ç–æ —Å–∏:

- [ ] **–í—ä–ø—Ä–æ—Å 1**: –ö–æ–∏ —Å–∞ —Ç—Ä–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–∏ —à–∞–±–ª–æ–Ω–∞ –∑–∞ —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è–≤–∞–Ω–µ? 
  - **–û—Ç–≥–æ–≤–æ—Ä**: –ù–∏–∑–æ–≤–µ –∑–∞ –≤—Ä—ä–∑–∫–∞ (–æ—Å—Ç–∞—Ä—è–ª), –ü—Ä–µ–ø—Ä–∞—Ç–∫–∏ –∫—ä–º Key Vault (–ø—Ä–µ—Ö–æ–¥–µ–Ω), –£–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç (–Ω–∞–π-–¥–æ–±—ä—Ä)

- [ ] **–í—ä–ø—Ä–æ—Å 2**: –ó–∞—â–æ —É–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞—Ç–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç –µ –ø–æ-–¥–æ–±—Ä–∞ –æ—Ç –Ω–∏–∑–æ–≤–µ—Ç–µ –∑–∞ –≤—Ä—ä–∑–∫–∞?
  - **–û—Ç–≥–æ–≤–æ—Ä**: –ù—è–º–∞ —Ç–∞–π–Ω–∏ –≤ –∫–æ–¥–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Ä–æ—Ç–∞—Ü–∏—è, –ø—ä–ª–µ–Ω –æ–¥–∏—Ç–µ–Ω –∑–∞–ø–∏—Å, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ –±–∞–∑–∞—Ç–∞ –Ω–∞ RBAC

- [ ] **–í—ä–ø—Ä–æ—Å 3**: –ö–æ–≥–∞ –±–∏—Ö—Ç–µ –∏–∑–ø–æ–ª–∑–≤–∞–ª–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–æ-–ø—Ä–∏—Å–≤–æ–µ–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç –≤–º–µ—Å—Ç–æ —Å–∏—Å—Ç–µ–º–Ω–æ-–ø—Ä–∏—Å–≤–æ–µ–Ω–∞?
  - **–û—Ç–≥–æ–≤–æ—Ä**: –ö–æ–≥–∞—Ç–æ —Å–ø–æ–¥–µ–ª—è—Ç–µ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç –º–µ–∂–¥—É –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–µ—Å—É—Ä—Å–∏ –∏–ª–∏ –∫–æ–≥–∞—Ç–æ –∂–∏–∑–Ω–µ–Ω–∏—è—Ç —Ü–∏–∫—ä–ª –Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—Ç–∞ –µ –Ω–µ–∑–∞–≤–∏—Å–∏–º –æ—Ç –∂–∏–∑–Ω–µ–Ω–∏—è —Ü–∏–∫—ä–ª –Ω–∞ —Ä–µ—Å—É—Ä—Å–∞

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –∫–∞–∫—ä–≤ —Ç–∏–ø –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç –∏–∑–ø–æ–ª–∑–≤–∞ –≤–∞—à–µ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
az containerapp show \
  --name myapp \
  --resource-group rg-myapp \
  --query "identity.type"

# –ò–∑–±—Ä–æ–π—Ç–µ –≤—Å–∏—á–∫–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ —Ä–æ–ª–∏ –∑–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—Ç–∞
az role assignment list \
  --assignee $(az containerapp show --name myapp --resource-group rg-myapp --query "identity.principalId" -o tsv)
```

---

### 2. RBAC –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è ‚úì

–¢–µ—Å—Ç–≤–∞–π—Ç–µ —Ä–∞–∑–±–∏—Ä–∞–Ω–µ—Ç–æ —Å–∏:

- [ ] **–í—ä–ø—Ä–æ—Å 1**: –ö–∞–∫—ä–≤ –µ Role ID –∑–∞ "Storage Blob Data Contributor"?
  - **–û—Ç–≥–æ–≤–æ—Ä**: `ba92f5b4-2d11-453d-a403-e96b0029c9fe`

- [ ] **–í—ä–ø—Ä–æ—Å 2**: –ö–∞–∫–≤–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—è "Key Vault Secrets User"?
  - **–û—Ç–≥–æ–≤–æ—Ä**: –°–∞–º–æ –∑–∞ —á–µ—Ç–µ–Ω–µ –Ω–∞ —Ç–∞–π–Ω–∏ (–Ω–µ –º–æ–∂–µ –¥–∞ —Å—ä–∑–¥–∞–≤–∞, –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞ –∏–ª–∏ –∏–∑—Ç—Ä–∏–≤–∞)

- [ ] **–í—ä–ø—Ä–æ—Å 3**: –ö–∞–∫ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—è—Ç–µ –¥–æ—Å—Ç—ä–ø –Ω–∞ Container App –¥–æ Azure SQL?
  - **–û—Ç–≥–æ–≤–æ—Ä**: –ü—Ä–∏—Å–≤–æ—è–≤–∞–Ω–µ –Ω–∞ —Ä–æ–ª—è "SQL DB Contributor" –∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–µ –Ω–∞ —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è–≤–∞–Ω–µ —á—Ä–µ–∑ Azure AD –∑–∞ SQL

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ù–∞–º–µ—Ä–µ—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞ —Ä–æ–ª—è
az role definition list --name "Storage Blob Data Contributor"

# –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –∫–∞–∫–≤–∏ —Ä–æ–ª–∏ —Å–∞ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏ –Ω–∞ –≤–∞—à–∞—Ç–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç
PRINCIPAL_ID=$(az containerapp show --name myapp --resource-group rg-myapp --query "identity.principalId" -o tsv)
az role assignment list --assignee $PRINCIPAL_ID --output table
```

---

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Key
- [ ] **–í—ä–ø—Ä–æ—Å 1**: –ö–∞–∫ –¥–∞ –∞–∫—Ç–∏–≤–∏—Ä–∞—Ç–µ RBAC –∑–∞ Key Vault –≤–º–µ—Å—Ç–æ –ø–æ–ª–∏—Ç–∏–∫–∏ –∑–∞ –¥–æ—Å—Ç—ä–ø?
  - **–û—Ç–≥–æ–≤–æ—Ä**: –ó–∞–¥–∞–π—Ç–µ `enableRbacAuthorization: true` –≤ Bicep

- [ ] **–í—ä–ø—Ä–æ—Å 2**: –ö–æ—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –Ω–∞ Azure SDK –æ–±—Ä–∞–±–æ—Ç–≤–∞ —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è–≤–∞–Ω–µ —Å —É–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç?
  - **–û—Ç–≥–æ–≤–æ—Ä**: `@azure/identity` —Å –∫–ª–∞—Å–∞ `DefaultAzureCredential`

- [ ] **–í—ä–ø—Ä–æ—Å 3**: –ö–æ–ª–∫–æ –¥—ä–ª–≥–æ —Å–µ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞—Ç —Ç–∞–π–Ω–∏—Ç–µ –Ω–∞ Key Vault –≤ –∫–µ—à–∞?
  - **–û—Ç–≥–æ–≤–æ—Ä**: –ó–∞–≤–∏—Å–∏ –æ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ; –≤–Ω–µ–¥—Ä–µ—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∑–∞ –∫–µ—à–∏—Ä–∞–Ω–µ

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –¢–µ—Å—Ç–≤–∞–π—Ç–µ –¥–æ—Å—Ç—ä–ø–∞ –¥–æ Key Vault
az keyvault secret show \
  --vault-name $KV_NAME \
  --name "OpenAI-ApiKey" \
  --query "value"

# –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ RBAC –µ –∞–∫—Ç–∏–≤–∏—Ä–∞–Ω
az keyvault show \
  --name $KV_NAME \
  --query "properties.enableRbacAuthorization"
# ‚úÖ –û—á–∞–∫–≤–∞–Ω–æ: –≤—è—Ä–Ω–æ
```

---

## –ù–∞–π-–¥–æ–±—Ä–∏ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∑–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç

### ‚úÖ –ü–†–ê–í–ï–¢–ï:

1. **–í–∏–Ω–∞–≥–∏ –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ —É–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç –≤ –ø—Ä–æ–¥—É–∫—Ü–∏—è**
   ```bicep
   identity: {
     type: 'SystemAssigned'
   }
   ```

2. **–ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ —Ä–æ–ª–∏ —Å –º–∏–Ω–∏–º–∞–ª–Ω–∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ –≤ RBAC**
   - –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ —Ä–æ–ª–∏ –∫–∞—Ç–æ "Reader", –∫–æ–≥–∞—Ç–æ –µ –≤—ä–∑–º–æ–∂–Ω–æ
   - –ò–∑–±—è–≥–≤–∞–π—Ç–µ —Ä–æ–ª–∏ –∫–∞—Ç–æ "Owner" –∏–ª–∏ "Contributor", –æ—Å–≤–µ–Ω –∞–∫–æ –Ω–µ —Å–∞ –∞–±—Å–æ–ª—é—Ç–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∏

3. **–°—ä—Ö—Ä–∞–Ω—è–≤–∞–π—Ç–µ –∫–ª—é—á–æ–≤–µ –Ω–∞ —Ç—Ä–µ—Ç–∏ —Å—Ç—Ä–∞–Ω–∏ –≤ Key Vault**
   ```javascript
   const apiKey = await secretClient.getSecret('ThirdPartyApiKey');
   ```

4. **–ê–∫—Ç–∏–≤–∏—Ä–∞–π—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –æ–¥–∏—Ç–∏**
   ```bicep
   diagnosticSettings: {
     logs: [{ category: 'AuditEvent', enabled: true }]
   }
   ```

5. **–ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ —Ä–∞–∑–ª–∏—á–Ω–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–∏ –∑–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, —Ç–µ—Å—Ç–≤–∞–Ω–µ –∏ –ø—Ä–æ–¥—É–∫—Ü–∏—è**
   ```bash
   azd env new dev
   azd env new staging
   azd env new prod
   ```

6. **–†–µ–¥–æ–≤–Ω–æ –≤—ä—Ä—Ç–µ—Ç–µ —Ç–∞–π–Ω–∏—Ç–µ**
   - –ó–∞–¥–∞–π—Ç–µ –¥–∞—Ç–∏ –Ω–∞ –∏–∑—Ç–∏—á–∞–Ω–µ –∑–∞ —Ç–∞–π–Ω–∏—Ç–µ –≤ Key Vault
   - –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞–π—Ç–µ –≤—ä—Ä—Ç–µ–Ω–µ—Ç–æ —Å Azure Functions

### ‚ùå –ù–ï –ü–†–ê–í–ï–¢–ï:

1. **–ù–∏–∫–æ–≥–∞ –Ω–µ –≤–≥—Ä–∞–∂–¥–∞–π—Ç–µ —Ç–∞–π–Ω–∏ –≤ –∫–æ–¥–∞**
   ```javascript
   // ‚ùå –õ–û–®–û
   const apiKey = "sk-proj-xxxxxxxxxxxxx";
   ```

2. **–ù–µ –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –Ω–∏–∑–æ–≤–µ –∑–∞ –≤—Ä—ä–∑–∫–∞ –≤ –ø—Ä–æ–¥—É–∫—Ü–∏—è**
   ```javascript
   // ‚ùå –õ–û–®–û
   BlobServiceClient.fromConnectionString(process.env.STORAGE_CONNECTION_STRING)
   ```

3. **–ù–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—è–π—Ç–µ –ø—Ä–µ–∫–æ–º–µ—Ä–Ω–∏ –ø—Ä–∞–≤–∞**
   ```bicep
   // ‚ùå BAD - too much access
   roleDefinitionId: 'Owner'
   
   // ‚úÖ GOOD - least privilege
   roleDefinitionId: 'Storage Blob Data Reader'
   ```

4. **–ù–µ –∑–∞–ø–∏—Å–≤–∞–π—Ç–µ —Ç–∞–π–Ω–∏ –≤ –ª–æ–≥–æ–≤–µ—Ç–µ**
   ```javascript
   // ‚ùå –õ–û–®–û
   console.log('API Key:', apiKey);
   
   // ‚úÖ –î–û–ë–†–û
   console.log('API Key retrieved successfully');
   ```

5. **–ù–µ —Å–ø–æ–¥–µ–ª—è–π—Ç–µ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–∏ –∑–∞ –ø—Ä–æ–¥—É–∫—Ü–∏—è –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω–∏ —Å—Ä–µ–¥–∏**
   ```bicep
   // ‚ùå BAD - same identity for dev and prod
   // ‚úÖ GOOD - separate identities per environment
   ```

---

## –†—ä–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∑–∞ –æ—Ç—Å—Ç—Ä–∞–Ω—è–≤–∞–Ω–µ –Ω–∞ –ø—Ä–æ–±–ª–µ–º–∏

### –ü—Ä–æ–±–ª–µ–º: "Unauthorized" –ø—Ä–∏ –¥–æ—Å—Ç—ä–ø –¥–æ Azure Storage

**–°–∏–º–ø—Ç–æ–º–∏:**
```
Error: Unauthorized (403)
AuthorizationPermissionMismatch: This request is not authorized to perform this operation
```

**–î–∏–∞–≥–Ω–æ–∑–∞:**

```bash
# –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ —É–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞—Ç–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç –µ –∞–∫—Ç–∏–≤–∏—Ä–∞–Ω–∞
az containerapp show \
  --name myapp \
  --resource-group rg-myapp \
  --query "identity.type"
# ‚úÖ –û—á–∞–∫–≤–∞–Ω–æ: "SystemAssigned" –∏–ª–∏ "UserAssigned"

# –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è—Ç–∞ –Ω–∞ —Ä–æ–ª–∏
PRINCIPAL_ID=$(az containerapp show --name myapp --resource-group rg-myapp --query "identity.principalId" -o tsv)
az role assignment list --assignee $PRINCIPAL_ID

# –û—á–∞–∫–≤–∞–Ω–æ: –¢—Ä—è–±–≤–∞ –¥–∞ –≤–∏–¥–∏—Ç–µ "Storage Blob Data Contributor" –∏–ª–∏ –ø–æ–¥–æ–±–Ω–∞ —Ä–æ–ª—è
```

**–†–µ—à–µ–Ω–∏—è:**

1. **–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–µ—Ç–µ –ø—Ä–∞–≤–∏–ª–Ω–∞—Ç–∞ RBAC —Ä–æ–ª—è:**
```bash
STORAGE_ID=$(az storage account show --name mystorageaccount --resource-group rg-myapp --query "id" -o tsv)
az role assignment create \
  --assignee $PRINCIPAL_ID \
  --role "Storage Blob Data Contributor" \
  --scope $STORAGE_ID
```

2. **–ò–∑—á–∞–∫–∞–π—Ç–µ –∑–∞ —Ä–∞–∑–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ (–º–æ–∂–µ –¥–∞ –æ—Ç–Ω–µ–º–µ 5-10 –º–∏–Ω—É—Ç–∏):**
```bash
# –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ —Å—ä—Å—Ç–æ—è–Ω–∏–µ—Ç–æ –Ω–∞ –Ω–∞–∑–Ω–∞—á–∞–≤–∞–Ω–µ—Ç–æ –Ω–∞ —Ä–æ–ª—è
az role assignment list --assignee $PRINCIPAL_ID --scope $STORAGE_ID
```

3. **–£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞ –ø—Ä–∞–≤–∏–ª–Ω–∏—Ç–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–∏ –¥–∞–Ω–Ω–∏:**
```javascript
// –£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ DefaultAzureCredential
const credential = new DefaultAzureCredential();
```

---

### –ü—Ä–æ–±–ª–µ–º: –î–æ—Å—Ç—ä–ø—ä—Ç –¥–æ Key Vault –µ –æ—Ç–∫–∞–∑–∞–Ω

**–°–∏–º–ø—Ç–æ–º–∏:**
```
Error: Forbidden (403)
The user, group or application does not have secrets get permission
```

**–î–∏–∞–≥–Ω–æ–∑–∞:**

```bash
# –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ RBAC –∑–∞ Key Vault –µ –∞–∫—Ç–∏–≤–∏—Ä–∞–Ω
az keyvault show \
  --name $KV_NAME \
  --query "properties.enableRbacAuthorization"
# ‚úÖ –û—á–∞–∫–≤–∞–Ω–æ: –≤—è—Ä–Ω–æ

# –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è—Ç–∞ –Ω–∞ —Ä–æ–ª–∏
az role assignment list \
  --assignee $PRINCIPAL_ID \
  --scope /subscriptions/{sub-id}/resourceGroups/rg-myapp/providers/Microsoft.KeyVault/vaults/$KV_NAME
```

**–†–µ—à–µ–Ω–∏—è:**

1. **–ê–∫—Ç–∏–≤–∏—Ä–∞–π—Ç–µ RBAC –∑–∞ Key Vault:**
```bash
az keyvault update \
  --name $KV_NAME \
  --enable-rbac-authorization true
```

2. **–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–µ—Ç–µ —Ä–æ–ª—è Key Vault Secrets User:**
```bash
KV_ID=$(az keyvault show --name $KV_NAME --query "id" -o tsv)
az role assignment create \
  --assignee $PRINCIPAL_ID \
  --role "Key Vault Secrets User" \
  --scope $KV_ID
```

---

### –ü—Ä–æ–±–ª–µ–º: DefaultAzureCredential –Ω–µ —Ä–∞–±–æ—Ç–∏ –ª–æ–∫–∞–ª–Ω–æ

**–°–∏–º–ø—Ç–æ–º–∏:**
```
Error: DefaultAzureCredential failed to retrieve a token
CredentialUnavailableError: No credential available
```

**–î–∏–∞–≥–Ω–æ–∑–∞:**

```bash
# –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ —Å—Ç–µ –≤–ª–µ–∑–ª–∏
az account show

# –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è–≤–∞–Ω–µ—Ç–æ –Ω–∞ Azure CLI
az ad signed-in-user show
```

**–†–µ—à–µ–Ω–∏—è:**

1. **–í–ª–µ–∑—Ç–µ –≤ Azure CLI:**
```bash
az login
```

2. **–ó–∞–¥–∞–π—Ç–µ Azure –∞–±–æ–Ω–∞–º–µ–Ω—Ç:**
```bash
az account set --subscription "Your Subscription Name"
```

3. **–ó–∞ –ª–æ–∫–∞–ª–Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏ –Ω–∞ —Å—Ä–µ–¥–∞—Ç–∞:**
```bash
export AZURE_TENANT_ID="your-tenant-id"
export AZURE_CLIENT_ID="your-client-id"
export AZURE_CLIENT_SECRET="your-client-secret"
```

4. **–ò–ª–∏ –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ —Ä–∞–∑–ª–∏—á–Ω–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–∏ –¥–∞–Ω–Ω–∏ –ª–æ–∫–∞–ª–Ω–æ:**
```javascript
const { DefaultAzureCredential, AzureCliCredential } = require('@azure/identity');

// –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ AzureCliCredential –∑–∞ –ª–æ–∫–∞–ª–Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
const credential = process.env.NODE_ENV === 'production' 
  ? new DefaultAzureCredential()
  : new AzureCliCredential();
```

---

### –ü—Ä–æ–±–ª–µ–º: –ü—Ä–∏—Å–≤–æ—è–≤–∞–Ω–µ—Ç–æ –Ω–∞ —Ä–æ–ª—è –æ—Ç–Ω–µ–º–∞ —Ç–≤—ä—Ä–¥–µ –¥—ä–ª–≥–æ –∑–∞ —Ä–∞–∑–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ

**–°–∏–º–ø—Ç–æ–º–∏:**
- –†–æ–ª—è—Ç–∞ –µ —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏—Å–≤–æ–µ–Ω–∞
- –í—Å–µ –æ—â–µ –ø–æ–ª—É—á–∞–≤–∞—Ç–µ –≥—Ä–µ—à–∫–∏ 403
- –ù–µ–ø–æ—Å—Ç–æ—è–Ω–µ–Ω –¥–æ—Å—Ç—ä–ø (–ø–æ–Ω—è–∫–æ–≥–∞ —Ä–∞–±–æ—Ç–∏, –ø–æ–Ω—è–∫–æ–≥–∞ –Ω–µ)

**–û–±—è—Å–Ω–µ–Ω–∏–µ:**
–ü—Ä–æ–º–µ–Ω–∏—Ç–µ –≤ Azure RBAC –º–æ–≥–∞—Ç –¥–∞ –æ—Ç–Ω–µ–º–∞—Ç 5-10 –º–∏–Ω—É—Ç–∏ –∑–∞ –≥–ª–æ–±–∞–ª–Ω–æ —Ä–∞–∑–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ.

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ò–∑—á–∞–∫–∞–π—Ç–µ –∏ –æ–ø–∏—Ç–∞–π—Ç–µ –æ—Ç–Ω–æ–≤–æ
echo "Waiting for RBAC propagation..."
sleep 300  # –ò–∑—á–∞–∫–∞–π—Ç–µ 5 –º–∏–Ω—É—Ç–∏

# –¢–µ—Å—Ç–≤–∞–π—Ç–µ –¥–æ—Å—Ç—ä–ø–∞
curl https://myapp.azurecontainerapps.io/upload

# –ê–∫–æ –≤—Å–µ –æ—â–µ –Ω–µ —Ä–∞–±–æ—Ç–∏, —Ä–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ
az containerapp revision restart \
  --name myapp \
  --resource-group rg-myapp
```

---

## –†–∞–∑—Ö–æ–¥–∏

### –†–∞–∑—Ö–æ–¥–∏ –∑–∞ —É–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç

| –†–µ—Å—É—Ä—Å | –†–∞–∑—Ö–æ–¥ |
|--------|--------|
| **–£–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç** | üÜì **–ë–ï–ó–ü–õ–ê–¢–ù–û** - –ë–µ–∑ —Ç–∞–∫—Å–∞ |
| **RBAC —Ä–æ–ª–∏** | üÜì **–ë–ï–ó–ü–õ–ê–¢–ù–û** - –ë–µ–∑ —Ç–∞–∫—Å–∞ |
| **–ó–∞—è–≤–∫–∏ –∑–∞ —Ç–æ–∫–µ–Ω–∏ –Ω–∞ Azure AD** | üÜì **–ë–ï–ó–ü–õ–ê–¢–ù–û** - –í–∫–ª—é—á–µ–Ω–æ |
| **–û–ø–µ—Ä–∞—Ü–∏–∏ —Å Key Vault** | $0.03 –∑–∞ 10,000 –æ–ø–µ—Ä–∞—Ü–∏–∏ |
| **–°—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Key Vault** | $0.024 –Ω–∞ —Ç–∞–π–Ω–∞ –Ω–∞ –º–µ—Å–µ—Ü |

**–£–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞—Ç–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç —Å–ø–µ—Å—Ç—è–≤–∞ –ø–∞—Ä–∏ —á—Ä–µ–∑:**
- ‚úÖ –ï–ª–∏–º–∏–Ω–∏—Ä–∞–Ω–µ –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏—Ç–µ —Å Key Vault –∑–∞ —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è–≤–∞–Ω–µ –º–µ–∂–¥—É —É—Å–ª—É–≥–∏
- ‚úÖ –ù–∞–º–∞–ª—è–≤–∞–Ω–µ –Ω–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∏—Ç–µ —Å—ä—Å —Å–∏–≥—É—Ä–Ω–æ—Å—Ç—Ç–∞ (–±–µ–∑ –∏–∑—Ç–∏—á–∞–Ω–µ –Ω–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–∏ –¥–∞–Ω–Ω–∏)
- ‚úÖ –ù–∞–º–∞–ª—è–≤–∞–Ω–µ –Ω–∞ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∏—Ç–µ —Ä–∞–∑—Ö–æ–¥–∏ (–±–µ–∑ —Ä—ä—á–Ω–æ –≤—ä—Ä—Ç–µ–Ω–µ)

**–ü—Ä–∏–º–µ—Ä–Ω–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–∞ —Ä–∞–∑—Ö–æ–¥–∏—Ç–µ (–º–µ—Å–µ—á–Ω–æ):**

| –°—Ü–µ–Ω–∞—Ä–∏–π | –ù–∏–∑–æ–≤–µ –∑–∞ –≤—Ä—ä–∑–∫–∞ | –£–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç | –°–ø–µ—Å—Ç—è–≤–∞–Ω–∏—è |
|----------|------------------|-------------------------|-------------|
| –ú–∞–ª–∫–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (1M –∑–∞—è–≤–∫–∏) | ~$50 (Key Vault + –æ–ø–µ—Ä–∞—Ü–∏–∏) | ~$0 | $50/–º–µ—Å–µ—Ü |
| –°—Ä–µ–¥–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (10M –∑–∞—è–≤–∫–∏) | ~$200 | ~$0 | $200/–º–µ—Å–µ—Ü |
| –ì–æ–ª—è–º–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (100M –∑–∞—è–≤–∫–∏) | ~$1,500 | ~$0 | $1,500/–º–µ—Å–µ—Ü |

---

## –ù–∞—É—á–µ—Ç–µ –ø–æ–≤–µ—á–µ

### –û—Ñ–∏—Ü–∏–∞–ª–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [Azure Managed Identity](https://learn.microsoft.com/entra/identity/managed-identities-azure-resources/overview)
- [Azure RBAC](https://learn.microsoft.com/azure/role-based-access-control/overview)
- [Azure Key Vault](https://learn.microsoft.com/azure/key-vault/general/overview)
- [DefaultAzureCredential](https://learn.microsoft.com/dotnet/api/azure.identity.defaultazurecredential)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∑–∞ SDK
- [@azure/identity (Node.js)](https://www.npmjs.com/package/@azure/identity)
- [Azure.Identity (C#)](https://www.nuget.org/packages/Azure.Identity/)
- [azure-identity (Python)](https://pypi.org/project/azure-identity/)

### –°–ª–µ–¥–≤–∞—â–∏ —Å—Ç—ä–ø–∫–∏ –≤ —Ç–æ–∑–∏ –∫—É—Ä—Å
- ‚Üê –ü—Ä–µ–¥–∏—à–Ω–æ: [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏](configuration.md)
- ‚Üí –°–ª–µ–¥–≤–∞—â–æ: [–ü—ä—Ä–≤–∏ –ø—Ä–æ–µ–∫—Ç](first-project.md)
- üè† [–ù–∞—á–∞–ª–æ –Ω–∞ –∫—É—Ä—Å–∞](../../README.md)

### –°–≤—ä—Ä–∑–∞–Ω–∏ –ø—Ä–∏–º–µ—Ä–∏
- [–ü—Ä–∏–º–µ—Ä –∑–∞ Azure OpenAI Chat](../../../../examples/azure-openai-chat) - –ò–∑–ø–æ–ª–∑–≤–∞ —É–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç –∑–∞ Azure OpenAI
- [–ü—Ä–∏–º–µ—Ä –∑–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏–∑–∏](../../../../examples/microservices) - –ú–æ–¥–µ–ª–∏ –∑–∞ —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è–≤–∞–Ω–µ –º–µ–∂–¥—É —É—Å–ª—É–≥–∏

---

## –û–±–æ–±—â–µ–Ω–∏–µ

**–ù–∞—É—á–∏—Ö—Ç–µ:**
- ‚úÖ –¢—Ä–∏ –º–æ–¥–µ–ª–∞ –∑–∞ —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è–≤–∞–Ω–µ (–Ω–∏–∑–æ–≤–µ –∑–∞ –≤—Ä—ä–∑–∫–∞, Key Vault, —É–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç)
- ‚úÖ –ö–∞–∫ –¥–∞ –∞–∫—Ç–∏–≤–∏—Ä–∞—Ç–µ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞—Ç–µ —É–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç –≤ AZD
- ‚úÖ –ü—Ä–∏—Å–≤–æ—è–≤–∞–Ω–µ –Ω–∞ —Ä–æ–ª–∏ –≤ RBAC –∑–∞ Azure —É—Å–ª—É–≥–∏
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–∞ Key Vault –∑–∞ —Ç–∞–π–Ω–∏ –Ω–∞ —Ç—Ä–µ—Ç–∏ —Å—Ç—Ä–∞–Ω–∏
- ‚úÖ –†–∞–∑–ª–∏–∫–∞ –º–µ–∂–¥—É –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∏ –∏ —Å–∏—Å—Ç–µ–º–Ω–æ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–∏
- ‚úÖ –ù–∞–π-–¥–æ–±—Ä–∏ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∑–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç –∏ –æ—Ç—Å—Ç—Ä–∞–Ω—è–≤–∞–Ω–µ –Ω–∞ –ø—Ä–æ–±–ª–µ–º–∏

**–û—Å–Ω–æ–≤–Ω–∏ –∏–∑–≤–æ–¥–∏:**
1. **–í–∏–Ω–∞–≥–∏ –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ —É–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç –≤ –ø—Ä–æ–¥—É–∫—Ü–∏—è** - –ë–µ–∑ —Ç–∞–π–Ω–∏, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ä—Ä—Ç–µ–Ω–µ
2. **–ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ —Ä–æ–ª–∏ —Å –º–∏–Ω–∏–º–∞–ª–Ω–∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ –≤ RBAC** - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤—è–π—Ç–µ —Å–∞–º–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∏—Ç–µ –ø—Ä–∞–≤–∞
3. **–°—ä—Ö—Ä–∞–Ω—è–≤–∞–π—Ç–µ –∫–ª—é—á–æ–≤–µ –Ω–∞ —Ç—Ä–µ—Ç–∏ —Å—Ç—Ä–∞–Ω–∏ –≤ Key Vault** - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∏—Ä–∞–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Ç–∞–π–Ω–∏
4. **–†–∞–∑–¥–µ–ª—è–π—Ç–µ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–∏ –∑–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ —Å—Ä–µ–¥–∏** - –ò–∑–æ–ª–∞—Ü–∏—è –∑–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, —Ç–µ—Å—Ç–≤–∞–Ω–µ –∏ –ø—Ä–æ–¥—É–∫—Ü–∏—è
5. **–ê–∫—Ç–∏–≤–∏—Ä–∞–π—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –æ–¥–∏—Ç–∏** - –ü—Ä–æ—Å–ª–µ–¥—è–≤–∞–π—Ç–µ –∫–æ–π –µ –¥–æ—Å—Ç—ä–ø–≤–∞–ª –∫–∞–∫–≤–æ

**–°–ª–µ–¥–≤–∞—â–∏ —Å—Ç—ä–ø–∫–∏:**
1. –ó–∞–≤—ä—Ä—à–µ—Ç–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ç–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –ø–æ-–≥–æ—Ä–µ
2. –ú–∏–≥—Ä–∏—Ä–∞–π—Ç–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç –Ω–∏–∑–æ–≤–µ –∑–∞ –≤—Ä—ä–∑–∫–∞ –∫—ä–º —É–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç
3. –°—ä–∑–¥–∞–π—Ç–µ –ø—ä—Ä–≤–∏—è —Å–∏ AZD –ø—Ä–æ–µ–∫—Ç —Å—ä—Å —Å–∏–≥—É—Ä–Ω–æ—Å—Ç –æ—Ç –ø—ä—Ä–≤–∏—è –¥–µ–Ω: [–ü—ä—Ä–≤–∏ –ø—Ä–æ–µ–∫—Ç](first-project.md)

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**–û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç**:  
–¢–æ–∑–∏ –¥–æ–∫—É–º–µ–Ω—Ç –µ –ø—Ä–µ–≤–µ–¥–µ–Ω —Å –ø–æ–º–æ—â—Ç–∞ –Ω–∞ AI —É—Å–ª—É–≥–∞ –∑–∞ –ø—Ä–µ–≤–æ–¥ [Co-op Translator](https://github.com/Azure/co-op-translator). –í—ä–ø—Ä–µ–∫–∏ —á–µ —Å–µ —Å—Ç—Ä–µ–º–∏–º –∫—ä–º —Ç–æ—á–Ω–æ—Å—Ç, –º–æ–ª—è, –∏–º–∞–π—Ç–µ –ø—Ä–µ–¥–≤–∏–¥, —á–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞–Ω–∏—Ç–µ –ø—Ä–µ–≤–æ–¥–∏ –º–æ–∂–µ –¥–∞ —Å—ä–¥—ä—Ä–∂–∞—Ç –≥—Ä–µ—à–∫–∏ –∏–ª–∏ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–∏. –û—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏—è—Ç –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ –Ω–µ–≥–æ–≤–∏—è —Ä–æ–¥–µ–Ω –µ–∑–∏–∫ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ —Å—á–∏—Ç–∞ –∑–∞ –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–µ–Ω –∏–∑—Ç–æ—á–Ω–∏–∫. –ó–∞ –∫—Ä–∏—Ç–∏—á–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å–µ –ø—Ä–µ–ø–æ—Ä—ä—á–≤–∞ –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–µ–Ω —á–æ–≤–µ—à–∫–∏ –ø—Ä–µ–≤–æ–¥. –ù–∏–µ –Ω–µ –Ω–æ—Å–∏–º –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç –∑–∞ –∫–∞–∫–≤–∏—Ç–æ –∏ –¥–∞ –µ –Ω–µ–¥–æ—Ä–∞–∑—É–º–µ–Ω–∏—è –∏–ª–∏ –ø–æ–≥—Ä–µ—à–Ω–∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏, –ø—Ä–æ–∏–∑—Ç–∏—á–∞—â–∏ –æ—Ç –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ —Ç–æ–∑–∏ –ø—Ä–µ–≤–æ–¥.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->