<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "eb3a4803a1e80a7f2e64f6bf63738c0f",
  "translation_date": "2025-11-20T02:14:42+00:00",
  "source_file": "examples/microservices/README.md",
  "language_code": "hi"
}
-->
# рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ - рдХрдВрдЯреЗрдирд░ рдРрдк рдЙрджрд╛рд╣рд░рдг

тП▒я╕П **рдЕрдиреБрдорд╛рдирд┐рдд рд╕рдордп**: 25-35 рдорд┐рдирдЯ | ЁЯТ░ **рдЕрдиреБрдорд╛рдирд┐рдд рд▓рд╛рдЧрдд**: ~$50-100/рдорд╛рд╣ | тнР **рдЬрдЯрд┐рд▓рддрд╛**: рдЙрдиреНрдирдд

**ЁЯУЪ рд╕реАрдЦрдиреЗ рдХрд╛ рдорд╛рд░реНрдЧ:**
- тЖР рдкрд┐рдЫрд▓рд╛: [рд╕рд┐рдВрдкрд▓ Flask API](../../../../examples/container-app/simple-flask-api) - рд╕рд┐рдВрдЧрд▓ рдХрдВрдЯреЗрдирд░ рдХреА рдореВрд▓ рдмрд╛рддреЗрдВ
- ЁЯОп **рдЖрдк рдпрд╣рд╛рдВ рд╣реИрдВ**: рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ (2-рд╕рд░реНрд╡рд┐рд╕ рдлрд╛рдЙрдВрдбреЗрд╢рди)
- тЖТ рдЕрдЧрд▓рд╛: [AI рдЗрдВрдЯреАрдЧреНрд░реЗрд╢рди](../../../../docs/ai-foundry) - рдЕрдкрдиреА рд╕реЗрд╡рд╛рдУрдВ рдореЗрдВ рдЗрдВрдЯреЗрд▓рд┐рдЬреЗрдВрд╕ рдЬреЛрдбрд╝реЗрдВ
- ЁЯПа [рдХреЛрд░реНрд╕ рд╣реЛрдо](../../README.md)

---

рдПрдХ **рд╕рд░рд▓ рд▓реЗрдХрд┐рди рдХрд╛рд░реНрдпрд╛рддреНрдордХ** рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░, рдЬрд┐рд╕реЗ AZD CLI рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ Azure Container Apps рдкрд░ рдбрд┐рдкреНрд▓реЙрдп рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдпрд╣ рдЙрджрд╛рд╣рд░рдг рд╕реЗрд╡рд╛-рд╕реЗ-рд╕реЗрд╡рд╛ рд╕рдВрдЪрд╛рд░, рдХрдВрдЯреЗрдирд░ рдСрд░реНрдХреЗрд╕реНрдЯреНрд░реЗрд╢рди рдФрд░ рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдХреЛ рдПрдХ рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ 2-рд╕рд░реНрд╡рд┐рд╕ рд╕реЗрдЯрдЕрдк рдХреЗ рд╕рд╛рде рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИред

> **ЁЯУЪ рд╕реАрдЦрдиреЗ рдХрд╛ рджреГрд╖реНрдЯрд┐рдХреЛрдг**: рдпрд╣ рдЙрджрд╛рд╣рд░рдг рдПрдХ рдиреНрдпреВрдирддрдо 2-рд╕рд░реНрд╡рд┐рд╕ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ (API рдЧреЗрдЯрд╡реЗ + рдмреИрдХрдПрдВрдб рд╕рд░реНрд╡рд┐рд╕) рд╕реЗ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рдЖрдк рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдбрд┐рдкреНрд▓реЙрдп рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╕реАрдЦ рд╕рдХрддреЗ рд╣реИрдВред рдЗрд╕ рдиреАрдВрд╡ рдХреЛ рд╕рдордЭрдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдо рдЖрдкрдХреЛ рдПрдХ рдкреВрд░реНрдг рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕ рдЗрдХреЛрд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдорд╛рд░реНрдЧрджрд░реНрд╢рди рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред

## рдЖрдк рдХреНрдпрд╛ рд╕реАрдЦреЗрдВрдЧреЗ

рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдХреЛ рдкреВрд░рд╛ рдХрд░рдХреЗ, рдЖрдк:
- Azure Container Apps рдкрд░ рдХрдИ рдХрдВрдЯреЗрдирд░ рдбрд┐рдкреНрд▓реЙрдп рдХрд░реЗрдВрдЧреЗ
- рдЖрдВрддрд░рд┐рдХ рдиреЗрдЯрд╡рд░реНрдХрд┐рдВрдЧ рдХреЗ рд╕рд╛рде рд╕реЗрд╡рд╛-рд╕реЗ-рд╕реЗрд╡рд╛ рд╕рдВрдЪрд╛рд░ рд▓рд╛рдЧреВ рдХрд░реЗрдВрдЧреЗ
- рдкрд░реНрдпрд╛рд╡рд░рдг-рдЖрдзрд╛рд░рд┐рдд рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдФрд░ рд╣реЗрд▓реНрде рдЪреЗрдХреНрд╕ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВрдЧреЗ
- Application Insights рдХреЗ рд╕рд╛рде рд╡рд┐рддрд░рд┐рдд рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЙрдирд┐рдЯрд░ рдХрд░реЗрдВрдЧреЗ
- рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕ рдбрд┐рдкреНрд▓реЙрдпрдореЗрдВрдЯ рдкреИрдЯрд░реНрди рдФрд░ рд╕рд░реНрд╡реЛрддреНрддрдо рдкреНрд░рдерд╛рдУрдВ рдХреЛ рд╕рдордЭреЗрдВрдЧреЗ
- рд╕рд░рд▓ рд╕реЗ рдЬрдЯрд┐рд▓ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рддрдХ рдкреНрд░рдЧрддрд┐рд╢реАрд▓ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реАрдЦреЗрдВрдЧреЗ

## рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░

### рдЪрд░рдг 1: рд╣рдо рдХреНрдпрд╛ рдмрдирд╛ рд░рд╣реЗ рд╣реИрдВ (рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рд╢рд╛рдорд┐рд▓)

```mermaid
graph TB
    Internet[рдЗрдВрдЯрд░рдиреЗрдЯ/рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛]
    Gateway[рдПрдкреАрдЖрдИ рдЧреЗрдЯрд╡реЗ<br/>рдиреЛрдб.рдЬреЗрдПрд╕ рдХрдВрдЯреЗрдирд░<br/>рдкреЛрд░реНрдЯ 8080]
    Product[рдЙрддреНрдкрд╛рдж рд╕реЗрд╡рд╛<br/>рдкрд╛рдпрдерди рдХрдВрдЯреЗрдирд░<br/>рдкреЛрд░реНрдЯ 8000]
    AppInsights[рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЗрдирд╕рд╛рдЗрдЯреНрд╕<br/>рдирд┐рдЧрд░рд╛рдиреА рдФрд░ рд▓реЙрдЧреНрд╕]
    
    Internet -->|HTTPS| Gateway
    Gateway -->|HTTP рдЖрдВрддрд░рд┐рдХ| Product
    Gateway -.->|рдЯреЗрд▓реАрдореЗрдЯреНрд░реА| AppInsights
    Product -.->|рдЯреЗрд▓реАрдореЗрдЯреНрд░реА| AppInsights
    
    style Gateway fill:#2196F3,stroke:#1976D2,stroke-width:3px,color:#fff
    style Product fill:#4CAF50,stroke:#388E3C,stroke-width:3px,color:#fff
    style Internet fill:#FF9800,stroke:#F57C00,stroke-width:2px,color:#fff
    style AppInsights fill:#9C27B0,stroke:#7B1FA2,stroke-width:2px,color:#fff
```
**рдШрдЯрдХ рд╡рд┐рд╡рд░рдг:**

| рдШрдЯрдХ | рдЙрджреНрджреЗрд╢реНрдп | рдПрдХреНрд╕реЗрд╕ | рд╕рдВрд╕рд╛рдзрди |
|-----------|---------|--------|-----------|
| **API рдЧреЗрдЯрд╡реЗ** | рдмрд╛рд╣рд░реА рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рдмреИрдХрдПрдВрдб рд╕реЗрд╡рд╛рдУрдВ рддрдХ рд░реВрдЯ рдХрд░рддрд╛ рд╣реИ | рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ (HTTPS) | 1 vCPU, 2GB RAM, 2-20 рдкреНрд░рддрд┐рдХреГрддрд┐рдпрд╛рдВ |
| **рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕** | рдЗрди-рдореЗрдореЛрд░реА рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдкреНрд░реЛрдбрдХреНрдЯ рдХреИрдЯрд▓реЙрдЧ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рддрд╛ рд╣реИ | рдХреЗрд╡рд▓ рдЖрдВрддрд░рд┐рдХ | 0.5 vCPU, 1GB RAM, 1-10 рдкреНрд░рддрд┐рдХреГрддрд┐рдпрд╛рдВ |
| **Application Insights** | рдХреЗрдВрджреНрд░реАрдХреГрдд рд▓реЙрдЧрд┐рдВрдЧ рдФрд░ рд╡рд┐рддрд░рд┐рдд рдЯреНрд░реЗрд╕рд┐рдВрдЧ | Azure рдкреЛрд░реНрдЯрд▓ | 1-2 GB/рдорд╛рд╣ рдбреЗрдЯрд╛ рдЗрдирдЬреЗрд╢рди |

**рд╕рд░рд▓ рд╢реБрд░реБрдЖрдд рдХреНрдпреЛрдВ?**
- тЬЕ рдЬрд▓реНрджреА рдбрд┐рдкреНрд▓реЙрдп рдФрд░ рд╕рдордЭреЗрдВ (25-35 рдорд┐рдирдЯ)
- тЬЕ рдЬрдЯрд┐рд▓рддрд╛ рдХреЗ рдмрд┐рдирд╛ рдореБрдЦреНрдп рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕ рдкреИрдЯрд░реНрди рд╕реАрдЦреЗрдВ
- тЬЕ рдХрд╛рд░реНрдпрд╢реАрд▓ рдХреЛрдб рдЬрд┐рд╕реЗ рдЖрдк рд╕рдВрд╢реЛрдзрд┐рдд рдФрд░ рдкреНрд░рдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ
- тЬЕ рд╕реАрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдХрдо рд▓рд╛рдЧрдд (~$50-100/рдорд╛рд╣ рдмрдирд╛рдо $300-1400/рдорд╛рд╣)
- тЬЕ рдбреЗрдЯрд╛рдмреЗрд╕ рдФрд░ рдореИрд╕реЗрдЬ рдХреНрд╡реНрдпреВрдЬ рдЬреЛрдбрд╝рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдЖрддреНрдорд╡рд┐рд╢реНрд╡рд╛рд╕ рдмрдирд╛рдПрдВ

**рдЙрдкрдорд╛**: рдЗрд╕реЗ рдбреНрд░рд╛рдЗрд╡рд┐рдВрдЧ рд╕реАрдЦрдиреЗ рдЬреИрд╕рд╛ рд╕рдордЭреЗрдВред рдЖрдк рдПрдХ рдЦрд╛рд▓реА рдкрд╛рд░реНрдХрд┐рдВрдЧ рд╕реНрдерд▓ (2 рд╕реЗрд╡рд╛рдПрдВ) рд╕реЗ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ, рдореВрд▓ рдмрд╛рддреЗрдВ рд╕реАрдЦрддреЗ рд╣реИрдВ, рдлрд┐рд░ рд╢рд╣рд░ рдХреЗ рдЯреНрд░реИрдлрд┐рдХ (5+ рд╕реЗрд╡рд╛рдПрдВ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд╕рд╛рде) рддрдХ рдкреНрд░рдЧрддрд┐ рдХрд░рддреЗ рд╣реИрдВред

### рдЪрд░рдг 2: рднрд╡рд┐рд╖реНрдп рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ (рд╕рдВрджрд░реНрдн рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░)

рдПрдХ рдмрд╛рд░ рдЬрдм рдЖрдк 2-рд╕рд░реНрд╡рд┐рд╕ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдореЗрдВ рдорд╣рд╛рд░рдд рд╣рд╛рд╕рд┐рд▓ рдХрд░ рд▓реЗрддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдЗрд╕реЗ рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

```mermaid
graph TB
    User[рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛]
    Gateway[рдПрдкреАрдЖрдИ рдЧреЗрдЯрд╡реЗ<br/>тЬЕ рд╢рд╛рдорд┐рд▓]
    Product[рдЙрддреНрдкрд╛рдж рд╕реЗрд╡рд╛<br/>тЬЕ рд╢рд╛рдорд┐рд▓]
    Order[рдСрд░реНрдбрд░ рд╕реЗрд╡рд╛<br/>ЁЯФЬ рдЕрдЧрд▓рд╛ рдЬреЛрдбрд╝реЗрдВ]
    UserSvc[рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реЗрд╡рд╛<br/>ЁЯФЬ рдЕрдЧрд▓рд╛ рдЬреЛрдбрд╝реЗрдВ]
    Notify[рд╕реВрдЪрдирд╛ рд╕реЗрд╡рд╛<br/>ЁЯФЬ рдЕрдВрддрд┐рдо рдЬреЛрдбрд╝реЗрдВ]
    
    CosmosDB[(рдХреЙрд╕рдореЙрд╕ рдбреАрдмреА<br/>ЁЯФЬ рдЙрддреНрдкрд╛рдж рдбреЗрдЯрд╛)]
    AzureSQL[(рдПрдЬреНрдпреЛрд░ рдПрд╕рдХреНрдпреВрдПрд▓<br/>ЁЯФЬ рдСрд░реНрдбрд░ рдбреЗрдЯрд╛)]
    ServiceBus[рдПрдЬреНрдпреЛрд░ рд╕рд░реНрд╡рд┐рд╕ рдмрд╕<br/>ЁЯФЬ рдЕрд╕рд┐рдВрдХреНрд░реЛрдирд╕ рдЗрд╡реЗрдВрдЯреНрд╕]
    AppInsights[рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЗрдирд╕рд╛рдЗрдЯреНрд╕<br/>тЬЕ рд╢рд╛рдорд┐рд▓]
    
    User --> Gateway
    Gateway --> Product
    Gateway --> Order
    Gateway --> UserSvc
    
    Product --> CosmosDB
    Order --> AzureSQL
    UserSvc --> AzureSQL
    
    Product -.->|рдЙрддреНрдкрд╛рдж рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдЗрд╡реЗрдВрдЯ| ServiceBus
    ServiceBus -.->|рд╕рджрд╕реНрдпрддрд╛ рд▓реЗрдВ| Notify
    ServiceBus -.->|рд╕рджрд╕реНрдпрддрд╛ рд▓реЗрдВ| Order
    
    Gateway -.-> AppInsights
    Product -.-> AppInsights
    Order -.-> AppInsights
    UserSvc -.-> AppInsights
    Notify -.-> AppInsights
    
    style Product fill:#4CAF50,stroke:#388E3C,stroke-width:3px,color:#fff
    style Gateway fill:#2196F3,stroke:#1976D2,stroke-width:3px,color:#fff
    style Order fill:#9E9E9E,stroke:#616161,stroke-width:2px,color:#fff
    style UserSvc fill:#9E9E9E,stroke:#616161,stroke-width:2px,color:#fff
    style Notify fill:#9E9E9E,stroke:#616161,stroke-width:2px,color:#fff
```
"рд╡рд┐рд╕реНрддрд╛рд░ рдЧрд╛рдЗрдб" рдЕрдиреБрднрд╛рдЧ рдореЗрдВ рдЪрд░рдг-рджрд░-рдЪрд░рдг рдирд┐рд░реНрджреЗрд╢ рджреЗрдЦреЗрдВред

## рд╢рд╛рдорд┐рд▓ рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ

тЬЕ **рд╕реЗрд╡рд╛ рдЦреЛрдЬ**: рдХрдВрдЯреЗрдирд░реЛрдВ рдХреЗ рдмреАрдЪ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд DNS-рдЖрдзрд╛рд░рд┐рдд рдЦреЛрдЬ  
тЬЕ **рд▓реЛрдб рдмреИрд▓реЗрдВрд╕рд┐рдВрдЧ**: рдкреНрд░рддрд┐рдХреГрддрд┐рдпреЛрдВ рдХреЗ рдмреАрдЪ рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рд▓реЛрдб рдмреИрд▓реЗрдВрд╕рд┐рдВрдЧ  
тЬЕ **рдСрдЯреЛ-рд╕реНрдХреЗрд▓рд┐рдВрдЧ**: HTTP рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдкреНрд░рддрд┐ рд╕реЗрд╡рд╛ рд╕реНрд╡рддрдВрддреНрд░ рд╕реНрдХреЗрд▓рд┐рдВрдЧ  
тЬЕ **рд╣реЗрд▓реНрде рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ**: рджреЛрдиреЛрдВ рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд▓рд┐рд╡рдиреЗрд╕ рдФрд░ рд░реЗрдбреАрдиреЗрд╕ рдЬрд╛рдВрдЪ  
тЬЕ **рд╡рд┐рддрд░рд┐рдд рд▓реЙрдЧрд┐рдВрдЧ**: Application Insights рдХреЗ рд╕рд╛рде рдХреЗрдВрджреНрд░реАрдХреГрдд рд▓реЙрдЧрд┐рдВрдЧ  
тЬЕ **рдЖрдВрддрд░рд┐рдХ рдиреЗрдЯрд╡рд░реНрдХрд┐рдВрдЧ**: рд╕реБрд░рдХреНрд╖рд┐рдд рд╕реЗрд╡рд╛-рд╕реЗ-рд╕реЗрд╡рд╛ рд╕рдВрдЪрд╛рд░  
тЬЕ **рдХрдВрдЯреЗрдирд░ рдСрд░реНрдХреЗрд╕реНрдЯреНрд░реЗрд╢рди**: рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдбрд┐рдкреНрд▓реЙрдпрдореЗрдВрдЯ рдФрд░ рд╕реНрдХреЗрд▓рд┐рдВрдЧ  
тЬЕ **рдЬреАрд░реЛ-рдбрд╛рдЙрдирдЯрд╛рдЗрдо рдЕрдкрдбреЗрдЯреНрд╕**: рд░рд┐рд╡реАрдЬрди рдкреНрд░рдмрдВрдзрди рдХреЗ рд╕рд╛рде рд░реЛрд▓рд┐рдВрдЧ рдЕрдкрдбреЗрдЯреНрд╕  

## рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдВ

### рдЖрд╡рд╢реНрдпрдХ рдЙрдкрдХрд░рдг

рд╢реБрд░реВ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдпреЗ рдЙрдкрдХрд░рдг рдЗрдВрд╕реНрдЯреЙрд▓ рд╣реИрдВ:

1. **[Azure Developer CLI (azd)](https://learn.microsoft.com/azure/developer/azure-developer-cli/install-azd)** (рд╕рдВрд╕реНрдХрд░рдг 1.0.0 рдпрд╛ рдЙрдЪреНрдЪрддрд░)
   ```bash
   azd version
   # рдЕрдкреЗрдХреНрд╖рд┐рдд рдЖрдЙрдЯрдкреБрдЯ: azd рд╕рдВрд╕реНрдХрд░рдг 1.0.0 рдпрд╛ рдЙрдЪреНрдЪрддрд░
   ```

2. **[Azure CLI](https://learn.microsoft.com/cli/azure/install-azure-cli)** (рд╕рдВрд╕реНрдХрд░рдг 2.50.0 рдпрд╛ рдЙрдЪреНрдЪрддрд░)
   ```bash
   az --version
   # рдЕрдкреЗрдХреНрд╖рд┐рдд рдЖрдЙрдЯрдкреБрдЯ: azure-cli 2.50.0 рдпрд╛ рдЙрдЪреНрдЪ рд╕рдВрд╕реНрдХрд░рдг
   ```

3. **[Docker](https://www.docker.com/get-started)** (рд╕реНрдерд╛рдиреАрдп рд╡рд┐рдХрд╛рд╕/рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП - рд╡реИрдХрд▓реНрдкрд┐рдХ)
   ```bash
   docker --version
   # рдЕрдкреЗрдХреНрд╖рд┐рдд рдЖрдЙрдЯрдкреБрдЯ: Docker рд╕рдВрд╕реНрдХрд░рдг 20.10 рдпрд╛ рдЙрдЪреНрдЪрддрд░
   ```

### рдЕрдкрдиреА рд╕реЗрдЯрдЕрдк рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░реЗрдВ

рдпреЗ рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдВ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдЖрдк рддреИрдпрд╛рд░ рд╣реИрдВ:

```bash
# Azure Developer CLI рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ
azd version
# тЬЕ рдЕрдкреЗрдХреНрд╖рд┐рдд: azd рд╕рдВрд╕реНрдХрд░рдг 1.0.0 рдпрд╛ рдЙрдЪреНрдЪрддрд░

# Azure CLI рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ
az --version
# тЬЕ рдЕрдкреЗрдХреНрд╖рд┐рдд: azure-cli 2.50.0 рдпрд╛ рдЙрдЪреНрдЪрддрд░

# Docker рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ (рд╡реИрдХрд▓реНрдкрд┐рдХ)
docker --version
# тЬЕ рдЕрдкреЗрдХреНрд╖рд┐рдд: Docker рд╕рдВрд╕реНрдХрд░рдг 20.10 рдпрд╛ рдЙрдЪреНрдЪрддрд░
```

**рд╕рдлрд▓рддрд╛ рдорд╛рдирджрдВрдб**: рд╕рднреА рдХрдорд╛рдВрдб рд╕рдВрд╕реНрдХрд░рдг рдирдВрдмрд░ рд▓реМрдЯрд╛рддреЗ рд╣реИрдВ рдЬреЛ рдиреНрдпреВрдирддрдо рд╕реЗ рдореЗрд▓ рдЦрд╛рддреЗ рд╣реИрдВ рдпрд╛ рдЙрд╕рд╕реЗ рдЕрдзрд┐рдХ рд╣реИрдВред

### Azure рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдВ

- рдПрдХ рд╕рдХреНрд░рд┐рдп **Azure рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди** ([рдореБрдлреНрдд рдЦрд╛рддрд╛ рдмрдирд╛рдПрдВ](https://azure.microsoft.com/free/))
- рдЖрдкрдХреЗ рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдореЗрдВ рд╕рдВрд╕рд╛рдзрди рдмрдирд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐
- рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдпрд╛ рд╕рдВрд╕рд╛рдзрди рд╕рдореВрд╣ рдкрд░ **Contributor** рднреВрдорд┐рдХрд╛

### рдЬреНрдЮрд╛рди рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдВ

рдпрд╣ рдПрдХ **рдЙрдиреНрдирдд-рд╕реНрддрд░реАрдп** рдЙрджрд╛рд╣рд░рдг рд╣реИред рдЖрдкрдХреЛ рдЪрд╛рд╣рд┐рдП:
- [рд╕рд┐рдВрдкрд▓ Flask API рдЙрджрд╛рд╣рд░рдг](../../../../examples/container-app/simple-flask-api) рдкреВрд░рд╛ рдХрд┐рдпрд╛ рд╣реЛ
- рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХреА рдмреБрдирд┐рдпрд╛рджреА рд╕рдордЭ рд╣реЛ
- REST APIs рдФрд░ HTTP рдХреА рдЬрд╛рдирдХрд╛рд░реА рд╣реЛ
- рдХрдВрдЯреЗрдирд░ рдЕрд╡рдзрд╛рд░рдгрд╛рдУрдВ рдХреА рд╕рдордЭ рд╣реЛ

**рдХрдВрдЯреЗрдирд░ рдРрдкреНрд╕ рдореЗрдВ рдирдП рд╣реИрдВ?** рдкрд╣рд▓реЗ [рд╕рд┐рдВрдкрд▓ Flask API рдЙрджрд╛рд╣рд░рдг](../../../../examples/container-app/simple-flask-api) рд╕реЗ рд╢реБрд░реВ рдХрд░реЗрдВ рддрд╛рдХрд┐ рдореВрд▓ рдмрд╛рддреЗрдВ рд╕реАрдЦ рд╕рдХреЗрдВред

## рддреНрд╡рд░рд┐рдд рд╢реБрд░реБрдЖрдд (рдЪрд░рдг-рджрд░-рдЪрд░рдг)

### рдЪрд░рдг 1: рдХреНрд▓реЛрди рдХрд░реЗрдВ рдФрд░ рдиреЗрд╡рд┐рдЧреЗрдЯ рдХрд░реЗрдВ

```bash
git clone https://github.com/microsoft/AZD-for-beginners.git
cd AZD-for-beginners/examples/microservices
```

**тЬУ рд╕рдлрд▓рддрд╛ рдЬрд╛рдВрдЪ**: рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдк `azure.yaml` рджреЗрдЦреЗрдВ:
```bash
ls
# рдЕрдкреЗрдХреНрд╖рд┐рдд: README.md, azure.yaml, infra/, src/
```

### рдЪрд░рдг 2: Azure рдХреЗ рд╕рд╛рде рдкреНрд░рдорд╛рдгрд┐рдд рдХрд░реЗрдВ

```bash
azd auth login
```

рдпрд╣ Azure рдкреНрд░рдорд╛рдгрди рдХреЗ рд▓рд┐рдП рдЖрдкрдХрд╛ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдЦреЛрд▓рддрд╛ рд╣реИред рдЕрдкрдиреЗ Azure рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдХреЗ рд╕рд╛рде рд╕рд╛рдЗрди рдЗрди рдХрд░реЗрдВред

**тЬУ рд╕рдлрд▓рддрд╛ рдЬрд╛рдВрдЪ**: рдЖрдкрдХреЛ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рд┐рдП:
```
Logged in to Azure.
```

### рдЪрд░рдг 3: рдкрд░реНрдпрд╛рд╡рд░рдг рдкреНрд░рд╛рд░рдВрдн рдХрд░реЗрдВ

```bash
azd init
```

**рдкреНрд░реЙрдореНрдкреНрдЯреНрд╕ рдЬреЛ рдЖрдк рджреЗрдЦреЗрдВрдЧреЗ**:
- **рдкрд░реНрдпрд╛рд╡рд░рдг рдирд╛рдо**: рдПрдХ рдЫреЛрдЯрд╛ рдирд╛рдо рджрд░реНрдЬ рдХрд░реЗрдВ (рдЬреИрд╕реЗ, `microservices-dev`)
- **Azure рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди**: рдЕрдкрдирд╛ рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдЪреБрдиреЗрдВ
- **Azure рд╕реНрдерд╛рди**: рдПрдХ рдХреНрд╖реЗрддреНрд░ рдЪреБрдиреЗрдВ (рдЬреИрд╕реЗ, `eastus`, `westeurope`)

**тЬУ рд╕рдлрд▓рддрд╛ рдЬрд╛рдВрдЪ**: рдЖрдкрдХреЛ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рд┐рдП:
```
SUCCESS: New project initialized!
```

### рдЪрд░рдг 4: рдЗрдВрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдФрд░ рд╕реЗрд╡рд╛рдПрдВ рдбрд┐рдкреНрд▓реЙрдп рдХрд░реЗрдВ

```bash
azd up
```

**рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИ** (8-12 рдорд┐рдирдЯ рд▓рдЧрддреЗ рд╣реИрдВ):

```mermaid
graph LR
    A[azd up] --> B[рд╕рдВрд╕рд╛рдзрди рд╕рдореВрд╣ рдмрдирд╛рдПрдБ]
    B --> C[рдХрдВрдЯреЗрдирд░ рд░рдЬрд┐рд╕реНрдЯреНрд░реА рддреИрдирд╛рдд рдХрд░реЗрдВ]
    C --> D[рд▓реЙрдЧ рдПрдирд╛рд▓рд┐рдЯрд┐рдХреНрд╕ рддреИрдирд╛рдд рдХрд░реЗрдВ]
    D --> E[рдРрдк рдЗрдирд╕рд╛рдЗрдЯреНрд╕ рддреИрдирд╛рдд рдХрд░реЗрдВ]
    E --> F[рдХрдВрдЯреЗрдирд░ рд╡рд╛рддрд╛рд╡рд░рдг рдмрдирд╛рдПрдБ]
    F --> G[рдПрдкреАрдЖрдИ рдЧреЗрдЯрд╡реЗ рдЗрдореЗрдЬ рдмрдирд╛рдПрдВ]
    F --> H[рдЙрддреНрдкрд╛рдж рд╕реЗрд╡рд╛ рдЗрдореЗрдЬ рдмрдирд╛рдПрдВ]
    G --> I[рд░рдЬрд┐рд╕реНрдЯреНрд░реА рдореЗрдВ рдкреБрд╢ рдХрд░реЗрдВ]
    H --> I
    I --> J[рдПрдкреАрдЖрдИ рдЧреЗрдЯрд╡реЗ рддреИрдирд╛рдд рдХрд░реЗрдВ]
    I --> K[рдЙрддреНрдкрд╛рдж рд╕реЗрд╡рд╛ рддреИрдирд╛рдд рдХрд░реЗрдВ]
    J --> L[рдЗрдВрдЧреНрд░реЗрд╕ рдФрд░ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдЬрд╛рдВрдЪ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ]
    K --> L
    L --> M[рддреИрдирд╛рддреА рдкреВрд░реНрдг тЬУ]
    
    style A fill:#2196F3,stroke:#1976D2,stroke-width:3px,color:#fff
    style M fill:#4CAF50,stroke:#388E3C,stroke-width:3px,color:#fff
```
**тЬУ рд╕рдлрд▓рддрд╛ рдЬрд╛рдВрдЪ**: рдЖрдкрдХреЛ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рд┐рдП:
```
SUCCESS: Your application was deployed to Azure in X minutes Y seconds.
Endpoint: https://api-gateway-<unique-id>.azurecontainerapps.io
```

**тП▒я╕П рд╕рдордп**: 8-12 рдорд┐рдирдЯ

### рдЪрд░рдг 5: рдбрд┐рдкреНрд▓реЙрдпрдореЗрдВрдЯ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВ

```bash
# рдЧреЗрдЯрд╡реЗ рдПрдВрдбрдкреЙрдЗрдВрдЯ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
GATEWAY_URL=$(azd env get-values | grep API_GATEWAY_URL | cut -d '=' -f2 | tr -d '"')

# API рдЧреЗрдЯрд╡реЗ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВ
curl $GATEWAY_URL/health
```

**тЬЕ рдЕрдкреЗрдХреНрд╖рд┐рдд рдЖрдЙрдЯрдкреБрдЯ:**
```json
{
  "status": "healthy",
  "service": "api-gateway",
  "timestamp": "2025-11-19T10:30:00Z"
}
```

**рдЧреЗрдЯрд╡реЗ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВ**:
```bash
# рдЙрддреНрдкрд╛рджреЛрдВ рдХреА рд╕реВрдЪреА
curl $GATEWAY_URL/api/products
```

**тЬЕ рдЕрдкреЗрдХреНрд╖рд┐рдд рдЖрдЙрдЯрдкреБрдЯ:**
```json
[
  {"id":1,"name":"Laptop","price":999.99,"stock":50},
  {"id":2,"name":"Mouse","price":29.99,"stock":200},
  {"id":3,"name":"Keyboard","price":79.99,"stock":150}
]
```

**тЬУ рд╕рдлрд▓рддрд╛ рдЬрд╛рдВрдЪ**: рджреЛрдиреЛрдВ рдПрдВрдбрдкреЙрдЗрдВрдЯ JSON рдбреЗрдЯрд╛ рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЗ рдмрд┐рдирд╛ рд▓реМрдЯрд╛рддреЗ рд╣реИрдВред

---

**ЁЯОЙ рдмрдзрд╛рдИ рд╣реЛ!** рдЖрдкрдиреЗ Azure рдкрд░ рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдбрд┐рдкреНрд▓реЙрдп рдХрд░ рджрд┐рдпрд╛ рд╣реИ!

## рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд╕рдВрд░рдЪрдирд╛

рд╕рднреА рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдлрд╛рдЗрд▓реЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВтАФрдпрд╣ рдПрдХ рдкреВрд░реНрдг, рдХрд╛рд░реНрдпрд╢реАрд▓ рдЙрджрд╛рд╣рд░рдг рд╣реИ:

```
microservices/
тФВ
тФЬтФАтФА README.md                         # This file
тФЬтФАтФА azure.yaml                        # AZD configuration
тФЬтФАтФА .gitignore                        # Git ignore patterns
тФВ
тФЬтФАтФА infra/                           # Infrastructure as Code (Bicep)
тФВ   тФЬтФАтФА main.bicep                   # Main orchestration
тФВ   тФЬтФАтФА abbreviations.json           # Naming conventions
тФВ   тФЬтФАтФА core/                        # Shared infrastructure
тФВ   тФВ   тФЬтФАтФА container-apps-environment.bicep  # Container environment + registry
тФВ   тФВ   тФФтФАтФА monitor.bicep            # Application Insights + Log Analytics
тФВ   тФФтФАтФА app/                         # Service definitions
тФВ       тФЬтФАтФА api-gateway.bicep        # API Gateway container app
тФВ       тФФтФАтФА product-service.bicep    # Product Service container app
тФВ
тФФтФАтФА src/                             # Application source code
    тФЬтФАтФА api-gateway/                 # Node.js API Gateway
    тФВ   тФЬтФАтФА app.js                   # Express server with routing
    тФВ   тФЬтФАтФА package.json             # Node dependencies
    тФВ   тФФтФАтФА Dockerfile               # Container definition
    тФФтФАтФА product-service/             # Python Product Service
        тФЬтФАтФА main.py                  # Flask API with product data
        тФЬтФАтФА requirements.txt         # Python dependencies
        тФФтФАтФА Dockerfile               # Container definition
```

**рдкреНрд░рддреНрдпреЗрдХ рдШрдЯрдХ рдХреНрдпрд╛ рдХрд░рддрд╛ рд╣реИ:**

**рдЗрдВрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ (infra/)**:
- `main.bicep`: рд╕рднреА Azure рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдФрд░ рдЙрдирдХреА рдирд┐рд░реНрднрд░рддрд╛рдУрдВ рдХреЛ рдСрд░реНрдХреЗрд╕реНрдЯреНрд░реЗрдЯ рдХрд░рддрд╛ рд╣реИ
- `core/container-apps-environment.bicep`: рдХрдВрдЯреЗрдирд░ рдРрдкреНрд╕ рдкрд░реНрдпрд╛рд╡рд░рдг рдФрд░ Azure рдХрдВрдЯреЗрдирд░ рд░рдЬрд┐рд╕реНрдЯреНрд░реА рдмрдирд╛рддрд╛ рд╣реИ
- `core/monitor.bicep`: рд╡рд┐рддрд░рд┐рдд рд▓реЙрдЧрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП Application Insights рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИ
- `app/*.bicep`: рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдФрд░ рд╣реЗрд▓реНрде рдЪреЗрдХреНрд╕ рдХреЗ рд╕рд╛рде рд╡реНрдпрдХреНрддрд┐рдЧрдд рдХрдВрдЯреЗрдирд░ рдРрдк рдкрд░рд┐рднрд╛рд╖рд╛рдПрдВ

**API рдЧреЗрдЯрд╡реЗ (src/api-gateway/)**:
- рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ-рд╕рд╛рдордирд╛ рдХрд░рдиреЗ рд╡рд╛рд▓реА рд╕реЗрд╡рд╛ рдЬреЛ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рдмреИрдХрдПрдВрдб рд╕реЗрд╡рд╛рдУрдВ рддрдХ рд░реВрдЯ рдХрд░рддреА рд╣реИ
- рд▓реЙрдЧрд┐рдВрдЧ, рддреНрд░реБрдЯрд┐ рд╣реИрдВрдбрд▓рд┐рдВрдЧ, рдФрд░ рдЕрдиреБрд░реЛрдз рдлреЙрд░рд╡рд░реНрдбрд┐рдВрдЧ рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИ
- рд╕реЗрд╡рд╛-рд╕реЗ-рд╕реЗрд╡рд╛ HTTP рд╕рдВрдЪрд╛рд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИ

**рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕ (src/product-service/)**:
- рдкреНрд░реЛрдбрдХреНрдЯ рдХреИрдЯрд▓реЙрдЧ рдХреЗ рд╕рд╛рде рдЖрдВрддрд░рд┐рдХ рд╕реЗрд╡рд╛ (рд╕рд░рд▓рддрд╛ рдХреЗ рд▓рд┐рдП рдЗрди-рдореЗрдореЛрд░реА)
- рд╣реЗрд▓реНрде рдЪреЗрдХреНрд╕ рдХреЗ рд╕рд╛рде REST API
- рдмреИрдХрдПрдВрдб рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕ рдкреИрдЯрд░реНрди рдХрд╛ рдЙрджрд╛рд╣рд░рдг

## рд╕реЗрд╡рд╛рдУрдВ рдХрд╛ рдЕрд╡рд▓реЛрдХрди

### API рдЧреЗрдЯрд╡реЗ (Node.js/Express)

**рдкреЛрд░реНрдЯ**: 8080  
**рдПрдХреНрд╕реЗрд╕**: рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ (рдмрд╛рд╣рд░реА рдЗрдирдЧреНрд░реЗрд╕)  
**рдЙрджреНрджреЗрд╢реНрдп**: рдЖрдиреЗ рд╡рд╛рд▓реЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рдЙрдкрдпреБрдХреНрдд рдмреИрдХрдПрдВрдб рд╕реЗрд╡рд╛рдУрдВ рддрдХ рд░реВрдЯ рдХрд░рддрд╛ рд╣реИ  

**рдПрдВрдбрдкреЙрдЗрдВрдЯреНрд╕**:
- `GET /` - рд╕реЗрд╡рд╛ рдЬрд╛рдирдХрд╛рд░реА
- `GET /health` - рд╣реЗрд▓реНрде рдЪреЗрдХ рдПрдВрдбрдкреЙрдЗрдВрдЯ
- `GET /api/products` - рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕ рдкрд░ рдлреЙрд░рд╡рд░реНрдб рдХрд░реЗрдВ (рд╕рднреА рд╕реВрдЪреАрдмрджреНрдз рдХрд░реЗрдВ)
- `GET /api/products/:id` - рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕ рдкрд░ рдлреЙрд░рд╡рд░реНрдб рдХрд░реЗрдВ (ID рджреНрд╡рд╛рд░рд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ)

**рдореБрдЦреНрдп рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ**:
- axios рдХреЗ рд╕рд╛рде рдЕрдиреБрд░реЛрдз рд░реВрдЯрд┐рдВрдЧ
- рдХреЗрдВрджреНрд░реАрдХреГрдд рд▓реЙрдЧрд┐рдВрдЧ
- рддреНрд░реБрдЯрд┐ рд╣реИрдВрдбрд▓рд┐рдВрдЧ рдФрд░ рдЯрд╛рдЗрдордЖрдЙрдЯ рдкреНрд░рдмрдВрдзрди
- рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реЗрд╡рд╛ рдЦреЛрдЬ
- Application Insights рдЗрдВрдЯреАрдЧреНрд░реЗрд╢рди

**рдХреЛрдб рд╣рд╛рдЗрд▓рд╛рдЗрдЯ** (`src/api-gateway/app.js`):
```javascript
// рдЖрдВрддрд░рд┐рдХ рд╕реЗрд╡рд╛ рд╕рдВрдЪрд╛рд░
app.get('/api/products', async (req, res) => {
  const response = await axios.get(`${PRODUCT_SERVICE_URL}/products`, {
    timeout: 5000
  });
  res.json(response.data);
});
```

### рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕ (Python/Flask)

**рдкреЛрд░реНрдЯ**: 8000  
**рдПрдХреНрд╕реЗрд╕**: рдХреЗрд╡рд▓ рдЖрдВрддрд░рд┐рдХ (рдХреЛрдИ рдмрд╛рд╣рд░реА рдЗрдирдЧреНрд░реЗрд╕ рдирд╣реАрдВ)  
**рдЙрджреНрджреЗрд╢реНрдп**: рдЗрди-рдореЗрдореЛрд░реА рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдкреНрд░реЛрдбрдХреНрдЯ рдХреИрдЯрд▓реЙрдЧ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рддрд╛ рд╣реИ  

**рдПрдВрдбрдкреЙрдЗрдВрдЯреНрд╕**:
- `GET /` - рд╕реЗрд╡рд╛ рдЬрд╛рдирдХрд╛рд░реА
- `GET /health` - рд╣реЗрд▓реНрде рдЪреЗрдХ рдПрдВрдбрдкреЙрдЗрдВрдЯ
- `GET /products` - рд╕рднреА рдкреНрд░реЛрдбрдХреНрдЯреНрд╕ рд╕реВрдЪреАрдмрджреНрдз рдХрд░реЗрдВ
- `GET /products/<id>` - ID рджреНрд╡рд╛рд░рд╛ рдкреНрд░реЛрдбрдХреНрдЯ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ

**рдореБрдЦреНрдп рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ**:
- Flask рдХреЗ рд╕рд╛рде RESTful API
- рдЗрди-рдореЗрдореЛрд░реА рдкреНрд░реЛрдбрдХреНрдЯ рд╕реНрдЯреЛрд░ (рд╕рд░рд▓, рдХреЛрдИ рдбреЗрдЯрд╛рдмреЗрд╕ рдЖрд╡рд╢реНрдпрдХ рдирд╣реАрдВ)
- рд╣реЗрд▓реНрде рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдЬрд╛рдВрдЪ рдХреЗ рд╕рд╛рде
- рд╕рдВрд░рдЪрд┐рдд рд▓реЙрдЧрд┐рдВрдЧ
- Application Insights рдЗрдВрдЯреАрдЧреНрд░реЗрд╢рди

**рдбреЗрдЯрд╛ рдореЙрдбрд▓**:
```python
{
  "id": 1,
  "name": "Laptop",
  "description": "High-performance laptop",
  "price": 999.99,
  "stock": 50
}
```

**рдХреЗрд╡рд▓ рдЖрдВрддрд░рд┐рдХ рдХреНрдпреЛрдВ?**
рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд░реВрдк рд╕реЗ рдПрдХреНрд╕рдкреЛрдЬрд╝ рдирд╣реАрдВ рдХреА рдЬрд╛рддреА рд╣реИред рд╕рднреА рдЕрдиреБрд░реЛрдз API рдЧреЗрдЯрд╡реЗ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЬрд╛рдиреЗ рдЪрд╛рд╣рд┐рдП, рдЬреЛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ:
- рд╕реБрд░рдХреНрд╖рд╛: рдирд┐рдпрдВрддреНрд░рд┐рдд рдПрдХреНрд╕реЗрд╕ рдкреЙрдЗрдВрдЯ
- рд▓рдЪреАрд▓рд╛рдкрди: рдмреИрдХрдПрдВрдб рдХреЛ рдмрджрд▓рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдмрд┐рдирд╛ рдХреНрд▓рд╛рдЗрдВрдЯреНрд╕ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд┐рдП
- рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ: рдХреЗрдВрджреНрд░реАрдХреГрдд рдЕрдиреБрд░реЛрдз рд▓реЙрдЧрд┐рдВрдЧ

## рд╕реЗрд╡рд╛ рд╕рдВрдЪрд╛рд░ рдХреЛ рд╕рдордЭрдирд╛

### рд╕реЗрд╡рд╛рдПрдВ рдПрдХ-рджреВрд╕рд░реЗ рд╕реЗ рдХреИрд╕реЗ рдмрд╛рдд рдХрд░рддреА рд╣реИрдВ

```mermaid
sequenceDiagram
    participant User
    participant Gateway as рдПрдкреАрдЖрдИ рдЧреЗрдЯрд╡реЗ<br/>(рдкреЛрд░реНрдЯ 8080)
    participant Product as рдЙрддреНрдкрд╛рдж рд╕реЗрд╡рд╛<br/>(рдкреЛрд░реНрдЯ 8000)
    participant AI as рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЗрдирд╕рд╛рдЗрдЯреНрд╕
    
    User->>Gateway: GET /api/products
    Gateway->>AI: рдЕрдиреБрд░реЛрдз рд▓реЙрдЧ рдХрд░реЗрдВ
    Gateway->>Product: GET /products (рдЖрдВрддрд░рд┐рдХ HTTP)
    Product->>AI: рдХреНрд╡реЗрд░реА рд▓реЙрдЧ рдХрд░реЗрдВ
    Product-->>Gateway: JSON рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ [5 рдЙрддреНрдкрд╛рдж]
    Gateway->>AI: рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд▓реЙрдЧ рдХрд░реЗрдВ
    Gateway-->>User: JSON рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ [5 рдЙрддреНрдкрд╛рдж]
    
    Note over Gateway,Product: рдЖрдВрддрд░рд┐рдХ DNS: http://product-service
    Note over User,AI: рд╕рднреА рд╕рдВрдЪрд╛рд░ рд▓реЙрдЧ рдФрд░ рдЯреНрд░реЗрд╕ рдХрд┐рдП рдЧрдП
```
рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, API рдЧреЗрдЯрд╡реЗ рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕ рдХреЗ рд╕рд╛рде **рдЖрдВрддрд░рд┐рдХ HTTP рдХреЙрд▓реНрд╕** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рдВрдЪрд╛рд░ рдХрд░рддрд╛ рд╣реИ:

```javascript
// рдПрдкреАрдЖрдИ рдЧреЗрдЯрд╡реЗ (src/api-gateway/app.js)
const PRODUCT_SERVICE_URL = process.env.PRODUCT_SERVICE_URL;

// рдЖрдВрддрд░рд┐рдХ HTTP рдЕрдиреБрд░реЛрдз рдХрд░реЗрдВ
const response = await axios.get(`${PRODUCT_SERVICE_URL}/products`);
```

**рдореБрдЦреНрдп рдмрд┐рдВрджреБ**:

1. **DNS-рдЖрдзрд╛рд░рд┐рдд рдЦреЛрдЬ**: рдХрдВрдЯреЗрдирд░ рдРрдкреНрд╕ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЖрдВрддрд░рд┐рдХ рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд▓рд┐рдП DNS рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ
   - рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕ FQDN: `product-service.internal.<environment>.azurecontainerapps.io`
   - рдЗрд╕реЗ рд╕рд░рд▓ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ: `http://product-service` (рдХрдВрдЯреЗрдирд░ рдРрдкреНрд╕ рдЗрд╕реЗ рд╣рд▓ рдХрд░рддрд╛ рд╣реИ)

2. **рдХреЛрдИ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдПрдХреНрд╕рдкреЛрдЬрд╝рд░ рдирд╣реАрдВ**: рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕ рдореЗрдВ Bicep рдореЗрдВ `external: false` рд╣реИ
   - рдХреЗрд╡рд▓ рдХрдВрдЯреЗрдирд░ рдРрдкреНрд╕ рдкрд░реНрдпрд╛рд╡рд░рдг рдХреЗ рднреАрддрд░ рд╕реБрд▓рдн
   - рдЗрдВрдЯрд░рдиреЗрдЯ рд╕реЗ рдирд╣реАрдВ рдкрд╣реБрдВрдЪрд╛ рдЬрд╛ рд╕рдХрддрд╛

3. **рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░**: рд╕реЗрд╡рд╛ URLs рдбрд┐рдкреНрд▓реЙрдпрдореЗрдВрдЯ рд╕рдордп рдкрд░ рдЗрдВрдЬреЗрдХреНрдЯ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ
   - Bicep рдЧреЗрдЯрд╡реЗ рдХреЛ рдЖрдВрддрд░рд┐рдХ FQDN рдкрд╛рд╕ рдХрд░рддрд╛ рд╣реИ
   - рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛрдб рдореЗрдВ рдХреЛрдИ рд╣рд╛рд░реНрдбрдХреЛрдбреЗрдб URLs рдирд╣реАрдВ

**рдЙрдкрдорд╛**: рдЗрд╕реЗ рдСрдлрд┐рд╕ рд░реВрдореНрд╕ рдХреА рддрд░рд╣ рд╕рдордЭреЗрдВред API рдЧреЗрдЯрд╡реЗ рд░рд┐рд╕реЗрдкреНрд╢рди рдбреЗрд╕реНрдХ рд╣реИ (рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ-рд╕рд╛рдордирд╛), рдФрд░ рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕ рдПрдХ рдСрдлрд┐рд╕ рд░реВрдо рд╣реИ (рдХреЗрд╡рд▓ рдЖрдВрддрд░рд┐рдХ)ред рдЖрдЧрдВрддреБрдХреЛрдВ рдХреЛ рдХрд┐рд╕реА рднреА рдСрдлрд┐рд╕ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рд░рд┐рд╕реЗрдкреНрд╢рди рд╕реЗ рдЧреБрдЬрд░рдирд╛ рд╣реЛрдЧрд╛ред

## рдбрд┐рдкреНрд▓реЙрдпрдореЗрдВрдЯ рд╡рд┐рдХрд▓реНрдк

### рдкреВрд░реНрдг рдбрд┐рдкреНрд▓реЙрдпрдореЗрдВрдЯ (рдЕрдиреБрд╢рдВрд╕рд┐рдд)

```bash
# рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдФрд░ рджреЛрдиреЛрдВ рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рддреИрдирд╛рдд рдХрд░реЗрдВ
azd up
```

рдпрд╣ рдбрд┐рдкреНрд▓реЙрдп рдХрд░рддрд╛ рд╣реИ:
1. рдХрдВрдЯреЗрдирд░ рдРрдкреНрд╕ рдкрд░реНрдпрд╛рд╡рд░рдг
2. Application Insights
3. рдХрдВрдЯреЗрдирд░ рд░рдЬрд┐рд╕реНрдЯреНрд░реА
4. API рдЧреЗрдЯрд╡реЗ рдХрдВрдЯреЗрдирд░
5. рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕ рдХрдВрдЯреЗрдирд░

**рд╕рдордп**: 8-12 рдорд┐рдирдЯ

### рд╡реНрдпрдХреНрддрд┐рдЧрдд рд╕реЗрд╡рд╛ рдбрд┐рдкреНрд▓реЙрдп рдХрд░реЗрдВ

```bash
# рдХреЗрд╡рд▓ рдПрдХ рд╕реЗрд╡рд╛ рддреИрдирд╛рдд рдХрд░реЗрдВ (рдкреНрд░рд╛рд░рдВрднрд┐рдХ azd up рдХреЗ рдмрд╛рдж)
azd deploy api-gateway

# рдпрд╛ рдЙрддреНрдкрд╛рдж рд╕реЗрд╡рд╛ рддреИрдирд╛рдд рдХрд░реЗрдВ
azd deploy product-service
```

**рдЙрдкрдпреЛрдЧ рдХрд╛ рдорд╛рдорд▓рд╛**: рдЬрдм рдЖрдкрдиреЗ рдПрдХ рд╕реЗрд╡рд╛ рдореЗрдВ рдХреЛрдб рдЕрдкрдбреЗрдЯ рдХрд┐рдпрд╛ рд╣реИ рдФрд░ рдХреЗрд╡рд▓ рдЙрд╕ рд╕реЗрд╡рд╛ рдХреЛ рдкреБрдирдГ рдбрд┐рдкреНрд▓реЙрдп рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред

### рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ

```bash
# рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдкреИрд░рд╛рдореАрдЯрд░ рдмрджрд▓реЗрдВ
azd env set GATEWAY_MAX_REPLICAS 30

# рдирдИ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЗ рд╕рд╛рде рдкреБрдирдГ рдкрд░рд┐рдирд┐рдпреЛрдЬрд┐рдд рдХрд░реЗрдВ
azd up
```

## рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди

### рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди

рджреЛрдиреЛрдВ рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рдЙрдирдХреЗ Bicep рдлрд╛рдЗрд▓реЛрдВ рдореЗрдВ HTTP-рдЖрдзрд╛рд░рд┐рдд рдСрдЯреЛрд╕реНрдХреЗрд▓рд┐рдВрдЧ рдХреЗ рд╕рд╛рде рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ:

**API рдЧреЗрдЯрд╡реЗ**:
- рдиреНрдпреВрдирддрдо рдкреНрд░рддрд┐рдХреГрддрд┐рдпрд╛рдВ: 2 (рд╣рдореЗрд╢рд╛ рдХрдо рд╕реЗ рдХрдо 2 рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреЗ рд▓рд┐рдП)
- рдЕрдзрд┐рдХрддрдо рдкреНрд░рддрд┐рдХреГрддрд┐рдпрд╛рдВ: 20
- рд╕реНрдХреЗрд▓ рдЯреНрд░рд┐рдЧрд░: рдкреНрд░рддрд┐ рдкреНрд░рддрд┐рдХреГрддрд┐ 50 рд╕рдорд╡рд░реНрддреА рдЕрдиреБрд░реЛрдз

**рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕**:
- рдиреНрдпреВрдирддрдо рдкреНрд░рддрд┐рдХреГрддрд┐рдпрд╛рдВ: 1 (рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдиреЗ рдкрд░ рд╢реВрдиреНрдп рддрдХ рд╕реНрдХреЗрд▓ рдХрд░ рд╕рдХрддрд╛ рд╣реИ)
- рдЕрдзрд┐рдХрддрдо рдкреНрд░рддрд┐рдХреГрддрд┐рдпрд╛рдВ: 10
- рд╕реНрдХреЗрд▓ рдЯреНрд░рд┐рдЧрд░: рдкреНрд░рддрд┐ рдкреНрд░рддрд┐рдХреГрддрд┐ 100 рд╕рдорд╡рд░реНрддреА рдЕрдиреБрд░реЛрдз

**рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░реЗрдВ** (`infra/app/*.bicep` рдореЗрдВ):
```bicep
scale: {
  minReplicas: 1
  maxReplicas: 10
  rules: [
    {
      name: 'http-scale-rule'
      http: {
        metadata: {
          concurrentRequests: '100'  // Adjust this
        }
      }
    }
  ]
}
```

### рд╕рдВрд╕рд╛рдзрди рдЖрд╡рдВрдЯрди

**API рдЧреЗрдЯрд╡реЗ**:
- CPU: 1.0 vCPU
- рдореЗрдореЛрд░реА: 2 GiB
- рдХрд╛рд░рдг: рд╕рднреА рдмрд╛рд╣рд░реА рдЯреНрд░реИрдлрд┐рдХ рдХреЛ рд╕рдВрднрд╛рд▓рддрд╛ рд╣реИ

**рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕**:
- CPU: 0.5 vCPU
- рдореЗрдореЛрд░реА: 1 GiB
- рдХрд╛рд░рдг: рд╣рд▓реНрдХреЗ рдЗрди-рдореЗрдореЛрд░реА рдСрдкрд░реЗрд╢рдВрд╕

### рд╣реЗрд▓реНрде рдЪреЗрдХреНрд╕

рджреЛрдиреЛрдВ рд╕реЗрд╡рд╛рдУрдВ рдореЗрдВ рд▓рд┐рд╡рдиреЗрд╕ рдФрд░ рд░реЗрдбреАрдиреЗрд╕ рдЬрд╛рдВрдЪ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ:

```bicep
probes: [
  {
    type: 'Liveness'
    httpGet: {
      path: '/health'
      port: 8080
    }
    initialDelaySeconds: 10
    periodSeconds: 30
  }
  {
    type: 'Readiness'
    httpGet: {
      path: '/health'
      port: 8080
    }
    initialDelaySeconds: 5
    periodSeconds: 10
  }
]
```

**рдЗрд╕рдХрд╛ рдХреНрдпрд╛ рдорддрд▓рдм рд╣реИ**:
- **рд▓рд┐рд╡рдиреЗрд╕**: рдпрджрд┐ рд╣реЗрд▓реНрде рдЪреЗрдХ рд╡рд┐рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдХрдВрдЯреЗрдирд░ рдРрдкреНрд╕ рдХрдВрдЯреЗрдирд░ рдХреЛ рдкреБрдирдГ рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИ
- **рд░реЗрдбреАрдиреЗрд╕**: рдпрджрд┐ рддреИрдпрд╛рд░ рдирд╣реАрдВ рд╣реИ, рддреЛ рдХрдВрдЯреЗрдирд░ рдРрдкреНрд╕ рдЙрд╕ рдкреНрд░рддрд┐рдХреГрддрд┐ рдХреЛ рдЯреНрд░реИрдлрд┐рдХ рд░реВрдЯ рдХрд░рдирд╛ рдмрдВрдж рдХрд░ рджреЗрддрд╛ рд╣реИ

## рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдФрд░ рдСрдмреНрдЬрд╝рд░реНрд╡реЗрдмрд┐рд▓рд┐рдЯреА

### рд╕реЗрд╡рд╛ рд▓реЙрдЧреНрд╕ рджреЗрдЦреЗрдВ

```bash
# API рдЧреЗрдЯрд╡реЗ рд╕реЗ рд▓реЙрдЧреНрд╕ рд╕реНрдЯреНрд░реАрдо рдХрд░реЗрдВ
azd logs api-gateway --follow

# рд╣рд╛рд▓ рдХреЗ рдЙрддреНрдкрд╛рдж рд╕реЗрд╡рд╛ рд▓реЙрдЧреНрд╕ рджреЗрдЦреЗрдВ
azd logs product-service --tail 100

# рджреЛрдиреЛрдВ рд╕реЗрд╡рд╛рдУрдВ рд╕реЗ рд╕рднреА рд▓реЙрдЧреНрд╕ рджреЗрдЦреЗрдВ
azd logs --follow
```

**рдЕрдкреЗрдХреНрд╖рд┐рдд рдЖрдЙрдЯрдкреБрдЯ**:
```
[api-gateway] API Gateway listening on port 8080
[api-gateway] Product Service URL: http://product-service
[api-gateway] GET /api/products 200 - 45ms
[product-service] Retrieved 5 products
```

### Application Insights рдХреНрд╡реЗрд░реАрдЬрд╝

Azure рдкреЛрд░реНрдЯрд▓ рдореЗрдВ Application Insights рддрдХ рдкрд╣реБрдВрдЪреЗрдВ, рдлрд┐рд░ рдпреЗ рдХреНрд╡реЗрд░реАрдЬрд╝ рдЪрд▓рд╛рдПрдВ:

**рдзреАрдореЗ рдЕрдиреБрд░реЛрдз рдЦреЛрдЬреЗрдВ**:
```kusto
requests
| where timestamp > ago(1h)
| where duration > 1000  // Requests taking >1 second
| summarize count() by name, cloud_RoleName
| order by count_ desc
```

**рд╕реЗрд╡рд╛-рд╕реЗ-рд╕реЗрд╡рд╛ рдХреЙрд▓реНрд╕ рдЯреНрд░реИрдХ рдХрд░реЗрдВ**:
```kusto
dependencies
| where timestamp > ago(1h)
| where type == "Http"
| project timestamp, name, target, duration, success
| order by timestamp desc
```

**рд╕реЗрд╡рд╛ рджреНрд╡рд╛рд░рд╛ рддреНрд░реБрдЯрд┐ рджрд░**:
```kusto
exceptions
| where timestamp > ago(24h)
| summarize errorCount = count() by cloud_RoleName, type
| order by errorCount desc
```

**рд╕рдордп рдХреЗ рд╕рд╛рде рдЕрдиреБрд░реЛрдз рдорд╛рддреНрд░рд╛**:
```kusto
requests
| where timestamp > ago(1h)
| summarize requestCount = count() by bin(timestamp, 5m), cloud_RoleName
| render timechart
```

### рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдбреИрд╢рдмреЛрд░реНрдб рддрдХ рдкрд╣реБрдВрдЪреЗрдВ

```bash
# рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЗрдирд╕рд╛рдЗрдЯреНрд╕ рд╡рд┐рд╡рд░рдг рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
azd env get-values | grep APPLICATIONINSIGHTS

# Azure рдкреЛрд░реНрдЯрд▓ рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдЦреЛрд▓реЗрдВ
az monitor app-insights component show \
  --app $(azd env get-values | grep APPLICATIONINSIGHTS_CONNECTION_STRING | cut -d '=' -f2) \
  --resource-group $(azd env get-values | grep AZURE_RESOURCE_GROUP | cut -d '=' -f2) \
  --query "appId" -o tsv
```

### рд▓рд╛рдЗрд╡ рдореЗрдЯреНрд░рд┐рдХреНрд╕

1. Azure рдкреЛрд░реНрдЯрд▓ рдореЗрдВ Application Insights рдкрд░ рдЬрд╛рдПрдВ
2. "рд▓рд╛рдЗрд╡ рдореЗрдЯреНрд░рд┐рдХреНрд╕" рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ
3. рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдЕрдиреБрд░реЛрдз, рд╡рд┐рдлрд▓рддрд╛рдПрдВ, рдФрд░ рдкреНрд░рджрд░реНрд╢рди рджреЗрдЦреЗрдВ
4. рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВ: `curl $(azd env get-values | grep API_GATEWAY_URL | cut -d '=' -f2 | tr -d '"')/api/products`

## рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рдЕрднреНрдпрд╛рд╕

### рдЕрднреНрдпрд╛рд╕ 1: рдПрдХ рдирдпрд╛ рдкреНрд░реЛрдбрдХреНрдЯ рдПрдВрдбрдкреЙрдЗрдВрдЯ рдЬреЛрдбрд╝реЗрдВ тнР (рдЖрд╕рд╛рди)

**рд▓рдХреНрд╖реНрдп**: рдирдП рдкреНрд░реЛрдбрдХреНрдЯреНрд╕ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ POST рдПрдВрдбрдкреЙрдЗрдВрдЯ рдЬреЛрдбрд╝реЗрдВ

**рд╢реБрд░реБрдЖ
3. рджреЛрдиреЛрдВ рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рдлрд┐рд░ рд╕реЗ рдбрд┐рдкреНрд▓реЙрдп рдХрд░реЗрдВ:

```bash
azd deploy product-service
azd deploy api-gateway
```

4. рдирдП рдПрдВрдбрдкреЙрдЗрдВрдЯ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВ:

```bash
GATEWAY_URL=$(azd env get-values | grep API_GATEWAY_URL | cut -d '=' -f2 | tr -d '"')

# рдПрдХ рдирдпрд╛ рдЙрддреНрдкрд╛рдж рдмрдирд╛рдПрдВ
curl -X POST $GATEWAY_URL/api/products \
  -H "Content-Type: application/json" \
  -d '{"name":"USB Cable","price":9.99,"stock":500}'
```

**тЬЕ рдЕрдкреЗрдХреНрд╖рд┐рдд рдЖрдЙрдЯрдкреБрдЯ:**
```json
{"id":6,"name":"USB Cable","description":"","price":9.99,"stock":500}
```

5. рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдпрд╣ рд╕реВрдЪреА рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ:

```bash
curl $GATEWAY_URL/api/products
# рдЕрдм 6 рдЙрддреНрдкрд╛рдж рджрд┐рдЦрд╛рдиреЗ рдЪрд╛рд╣рд┐рдП, рдЬрд┐рд╕рдореЗрдВ рдирдпрд╛ USB рдХреЗрдмрд▓ рд╢рд╛рдорд┐рд▓ рд╣реИред
```

**рд╕рдлрд▓рддрд╛ рдХреЗ рдорд╛рдирджрдВрдб**:
- тЬЕ POST рдЕрдиреБрд░реЛрдз HTTP 201 рд▓реМрдЯрд╛рддрд╛ рд╣реИ
- тЬЕ рдирдпрд╛ рдкреНрд░реЛрдбрдХреНрдЯ GET /api/products рд╕реВрдЪреА рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗрддрд╛ рд╣реИ
- тЬЕ рдкреНрд░реЛрдбрдХреНрдЯ рдХрд╛ рдСрдЯреЛ-рдЗрдВрдХреНрд░рд┐рдореЗрдВрдЯреЗрдб ID рд╣реЛрддрд╛ рд╣реИ

**рд╕рдордп**: 10-15 рдорд┐рдирдЯ

---

### рдЕрднреНрдпрд╛рд╕ 2: рдСрдЯреЛрд╕реНрдХреЗрд▓рд┐рдВрдЧ рдирд┐рдпрдореЛрдВ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░реЗрдВ тнРтнР (рдордзреНрдпрдо)

**рд▓рдХреНрд╖реНрдп**: рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕ рдХреЛ рдЕрдзрд┐рдХ рдЖрдХреНрд░рд╛рдордХ рд░реВрдк рд╕реЗ рд╕реНрдХреЗрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрджрд▓реЗрдВ

**рд╢реБрд░реБрдЖрддреА рдмрд┐рдВрджреБ**: `infra/app/product-service.bicep`

**рдЪрд░рдг**:

1. `infra/app/product-service.bicep` рдЦреЛрд▓реЗрдВ рдФрд░ `scale` рдмреНрд▓реЙрдХ (рд▓рдЧрднрдЧ рд▓рд╛рдЗрди 95) рдЦреЛрдЬреЗрдВ

2. рдЗрд╕реЗ рдмрджрд▓реЗрдВ:
```bicep
scale: {
  minReplicas: 1
  maxReplicas: 10
  rules: [
    {
      name: 'http-scale-rule'
      http: {
        metadata: {
          concurrentRequests: '100'  // OLD
        }
      }
    }
  ]
}
```

рд╕реЗ:
```bicep
scale: {
  minReplicas: 2  // Always have 2 running
  maxReplicas: 20  // Allow more scaling
  rules: [
    {
      name: 'http-scale-rule'
      http: {
        metadata: {
          concurrentRequests: '20'  // Scale at lower threshold
        }
      }
    }
  ]
}
```

3. рдЗрдиреНрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдХреЛ рдлрд┐рд░ рд╕реЗ рдбрд┐рдкреНрд▓реЙрдп рдХрд░реЗрдВ:

```bash
azd up
```

4. рдирдП рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЛ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░реЗрдВ:

```bash
az containerapp show \
  --name $(azd env get-values | grep PRODUCT_SERVICE | head -1 | cut -d '/' -f5) \
  --resource-group $(azd env get-values | grep AZURE_RESOURCE_GROUP | cut -d '=' -f2 | tr -d '"') \
  --query "properties.template.scale" -o json
```

**тЬЕ рдЕрдкреЗрдХреНрд╖рд┐рдд рдЖрдЙрдЯрдкреБрдЯ:**
```json
{
  "minReplicas": 2,
  "maxReplicas": 20,
  "rules": [...]
}
```

5. рд▓реЛрдб рдХреЗ рд╕рд╛рде рдСрдЯреЛрд╕реНрдХреЗрд▓рд┐рдВрдЧ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВ:

```bash
# рд╕рдорд╡рд░реНрддреА рдЕрдиреБрд░реЛрдз рдЙрддреНрдкрдиреНрди рдХрд░реЗрдВ
for i in {1..500}; do curl $GATEWAY_URL/api/products & done

# рд╕реНрдХреЗрд▓рд┐рдВрдЧ рд╣реЛрддреЗ рд╣реБрдП рджреЗрдЦреЗрдВ
azd logs product-service --follow
# рджреЗрдЦреЗрдВ: рдХрдВрдЯреЗрдирд░ рдРрдкреНрд╕ рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдШрдЯрдирд╛рдПрдБ
```

**рд╕рдлрд▓рддрд╛ рдХреЗ рдорд╛рдирджрдВрдб**:
- тЬЕ рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕ рд╣рдореЗрд╢рд╛ рдХрдо рд╕реЗ рдХрдо 2 рдкреНрд░рддрд┐рдпреЛрдВ рдкрд░ рдЪрд▓рддреА рд╣реИ
- тЬЕ рд▓реЛрдб рдХреЗ рддрд╣рдд, 2 рд╕реЗ рдЕрдзрд┐рдХ рдкреНрд░рддрд┐рдпреЛрдВ рддрдХ рд╕реНрдХреЗрд▓ рдХрд░рддреА рд╣реИ
- тЬЕ Azure рдкреЛрд░реНрдЯрд▓ рдирдП рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдирд┐рдпрдо рджрд┐рдЦрд╛рддрд╛ рд╣реИ

**рд╕рдордп**: 15-20 рдорд┐рдирдЯ

---

### рдЕрднреНрдпрд╛рд╕ 3: рдХрд╕реНрдЯрдо рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдХреНрд╡реЗрд░реА рдЬреЛрдбрд╝реЗрдВ тнРтнР (рдордзреНрдпрдо)

**рд▓рдХреНрд╖реНрдп**: рдкреНрд░реЛрдбрдХреНрдЯ API рдкреНрд░рджрд░реНрд╢рди рдХреЛ рдЯреНрд░реИрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╕реНрдЯрдо рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЗрдирд╕рд╛рдЗрдЯреНрд╕ рдХреНрд╡реЗрд░реА рдмрдирд╛рдПрдВ

**рдЪрд░рдг**:

1. Azure рдкреЛрд░реНрдЯрд▓ рдореЗрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЗрдирд╕рд╛рдЗрдЯреНрд╕ рдкрд░ рдЬрд╛рдПрдВ:
   - Azure рдкреЛрд░реНрдЯрд▓ рдкрд░ рдЬрд╛рдПрдВ
   - рдЕрдкрдиреЗ рд░рд┐рд╕реЛрд░реНрд╕ рдЧреНрд░реБрдк (rg-microservices-*) рдХреЛ рдЦреЛрдЬреЗрдВ
   - рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЗрдирд╕рд╛рдЗрдЯреНрд╕ рд░рд┐рд╕реЛрд░реНрд╕ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ

2. рдмрд╛рдИрдВ рдореЗрдиреВ рдореЗрдВ "рд▓реЙрдЧреНрд╕" рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ

3. рдпрд╣ рдХреНрд╡реЗрд░реА рдмрдирд╛рдПрдВ:

```kusto
requests
| where timestamp > ago(1h)
| where name contains "products"
| summarize 
    RequestCount = count(),
    AvgDuration = avg(duration),
    P95Duration = percentile(duration, 95),
    SuccessRate = 100.0 * countif(success == true) / count()
  by bin(timestamp, 5m)
| render timechart
```

4. рдХреНрд╡реЗрд░реА рдХреЛ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП "Run" рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ

5. рдХреНрд╡реЗрд░реА рдХреЛ рд╕рд╣реЗрдЬреЗрдВ:
   - "Save" рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ
   - рдирд╛рдо: "Product API Performance"
   - рд╢реНрд░реЗрдгреА: "Performance"

6. рдкрд░реАрдХреНрд╖рдг рдЯреНрд░реИрдлрд┐рдХ рдЙрддреНрдкрдиреНрди рдХрд░реЗрдВ:

```bash
for i in {1..100}; do curl $GATEWAY_URL/api/products; sleep 1; done
```

7. рдбреЗрдЯрд╛ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдХреНрд╡реЗрд░реА рдХреЛ рд░рд┐рдлреНрд░реЗрд╢ рдХрд░реЗрдВ

**тЬЕ рдЕрдкреЗрдХреНрд╖рд┐рдд рдЖрдЙрдЯрдкреБрдЯ:**
- рд╕рдордп рдХреЗ рд╕рд╛рде рдЕрдиреБрд░реЛрдзреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рджрд┐рдЦрд╛рдиреЗ рд╡рд╛рд▓рд╛ рдЪрд╛рд░реНрдЯ
- рдФрд╕рдд рдЕрд╡рдзрд┐ < 500ms
- рд╕рдлрд▓рддрд╛ рджрд░ = 100%
- 5 рдорд┐рдирдЯ рдХреЗ рд╕рдордп рдмрд┐рдиреНрд╕

**рд╕рдлрд▓рддрд╛ рдХреЗ рдорд╛рдирджрдВрдб**:
- тЬЕ рдХреНрд╡реЗрд░реА 100+ рдЕрдиреБрд░реЛрдз рджрд┐рдЦрд╛рддреА рд╣реИ
- тЬЕ рд╕рдлрд▓рддрд╛ рджрд░ 100% рд╣реИ
- тЬЕ рдФрд╕рдд рдЕрд╡рдзрд┐ < 500ms
- тЬЕ рдЪрд╛рд░реНрдЯ 5 рдорд┐рдирдЯ рдХреЗ рд╕рдордп рдмрд┐рдиреНрд╕ рджрд┐рдЦрд╛рддрд╛ рд╣реИ

**рд╕реАрдЦрдиреЗ рдХрд╛ рдкрд░рд┐рдгрд╛рдо**: рдХрд╕реНрдЯрдо рдХреНрд╡реЗрд░реА рдХреЗ рд╕рд╛рде рд╕реЗрд╡рд╛ рдкреНрд░рджрд░реНрд╢рди рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХрд░рдирд╛ рд╕рдордЭреЗрдВ

**рд╕рдордп**: 10-15 рдорд┐рдирдЯ

---

### рдЕрднреНрдпрд╛рд╕ 4: рд░рд┐рдЯреНрд░рд╛рдИ рд▓реЙрдЬрд┐рдХ рд▓рд╛рдЧреВ рдХрд░реЗрдВ тнРтнРтнР (рдЙрдиреНрдирдд)

**рд▓рдХреНрд╖реНрдп**: рдЬрдм рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕ рдЕрд╕реНрдерд╛рдпреА рд░реВрдк рд╕реЗ рдЕрдиреБрдкрд▓рдмреНрдз рд╣реЛ, рддреЛ API рдЧреЗрдЯрд╡реЗ рдореЗрдВ рд░рд┐рдЯреНрд░рд╛рдИ рд▓реЙрдЬрд┐рдХ рдЬреЛрдбрд╝реЗрдВ

**рд╢реБрд░реБрдЖрддреА рдмрд┐рдВрджреБ**: `src/api-gateway/app.js`

**рдЪрд░рдг**:

1. рд░рд┐рдЯреНрд░рд╛рдИ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░реЗрдВ:

```bash
cd src/api-gateway
npm install axios-retry --save
cd ../..
```

2. `src/api-gateway/app.js` рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ (axios рдЗрдВрдкреЛрд░реНрдЯ рдХреЗ рдмрд╛рдж рдЬреЛрдбрд╝реЗрдВ):

```javascript
const axiosRetry = require('axios-retry');

// рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕ рддрд░реНрдХ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ
axiosRetry(axios, {
  retries: 3,
  retryDelay: (retryCount) => {
    return retryCount * 1000; // 1 рд╕реЗрдХрдВрдб, 2 рд╕реЗрдХрдВрдб, 3 рд╕реЗрдХрдВрдб
  },
  retryCondition: (error) => {
    // рдиреЗрдЯрд╡рд░реНрдХ рддреНрд░реБрдЯрд┐рдпреЛрдВ рдпрд╛ 5xx рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдУрдВ рдкрд░ рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ
    return axiosRetry.isNetworkOrIdempotentRequestError(error) ||
           (error.response && error.response.status >= 500);
  }
});

console.log('Retry logic configured: 3 retries with exponential backoff');
```

3. API рдЧреЗрдЯрд╡реЗ рдХреЛ рдлрд┐рд░ рд╕реЗ рдбрд┐рдкреНрд▓реЙрдп рдХрд░реЗрдВ:

```bash
azd deploy api-gateway
```

4. рд╕реЗрд╡рд╛ рд╡рд┐рдлрд▓рддрд╛ рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░рдХреЗ рд░рд┐рдЯреНрд░рд╛рдИ рд╡реНрдпрд╡рд╣рд╛рд░ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВ:

```bash
# рдЙрддреНрдкрд╛рдж рд╕реЗрд╡рд╛ рдХреЛ 0 рдкрд░ рд╕реНрдХреЗрд▓ рдХрд░реЗрдВ (рд╡рд┐рдлрд▓рддрд╛ рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░реЗрдВ)
az containerapp update \
  --name $(azd env get-values | grep PRODUCT_SERVICE | head -1 | cut -d '/' -f5) \
  --resource-group $(azd env get-values | grep AZURE_RESOURCE_GROUP | cut -d '=' -f2 | tr -d '"') \
  --min-replicas 0 \
  --max-replicas 0

# рдЙрддреНрдкрд╛рджреЛрдВ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ (3 рдмрд╛рд░ рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдЧрд╛)
time curl -v $GATEWAY_URL/api/products
# рдирд┐рд░реАрдХреНрд╖рдг рдХрд░реЗрдВ: рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдореЗрдВ ~6 рд╕реЗрдХрдВрдб рд▓рдЧрддреЗ рд╣реИрдВ (1рд╕ + 2рд╕ + 3рд╕ рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕)

# рдЙрддреНрдкрд╛рдж рд╕реЗрд╡рд╛ рдХреЛ рдкреБрдирд░реНрд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ
az containerapp update \
  --name $(azd env get-values | grep PRODUCT_SERVICE | head -1 | cut -d '/' -f5) \
  --resource-group $(azd env get-values | grep AZURE_RESOURCE_GROUP | cut -d '=' -f2 | tr -d '"') \
  --min-replicas 1 \
  --max-replicas 10
```

5. рд░рд┐рдЯреНрд░рд╛рдИ рд▓реЙрдЧреНрд╕ рджреЗрдЦреЗрдВ:

```bash
azd logs api-gateway --tail 50
# рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕ рд╕рдВрджреЗрд╢реЛрдВ рдХреА рддрд▓рд╛рд╢ рдХрд░реЗрдВ
```

**тЬЕ рдЕрдкреЗрдХреНрд╖рд┐рдд рд╡реНрдпрд╡рд╣рд╛рд░:**
- рдЕрдиреБрд░реЛрдз 3 рдмрд╛рд░ рд░рд┐рдЯреНрд░рд╛рдИ рдХрд░рддреЗ рд╣реИрдВ, рдлрд┐рд░ рд╡рд┐рдлрд▓ рд╣реЛрддреЗ рд╣реИрдВ
- рдкреНрд░рддреНрдпреЗрдХ рд░рд┐рдЯреНрд░рд╛рдИ рдореЗрдВ рдЕрдзрд┐рдХ рд╕рдордп рд▓рдЧрддрд╛ рд╣реИ (1s, 2s, 3s)
- рд╕реЗрд╡рд╛ рдкреБрдирдГ рд╢реБрд░реВ рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж рд╕рдлрд▓ рдЕрдиреБрд░реЛрдз
- рд▓реЙрдЧреНрд╕ рд░рд┐рдЯреНрд░рд╛рдИ рдкреНрд░рдпрд╛рд╕ рджрд┐рдЦрд╛рддреЗ рд╣реИрдВ

**рд╕рдлрд▓рддрд╛ рдХреЗ рдорд╛рдирджрдВрдб**:
- тЬЕ рдЕрдиреБрд░реЛрдз 3 рдмрд╛рд░ рд░рд┐рдЯреНрд░рд╛рдИ рдХрд░рддреЗ рд╣реИрдВ, рдлрд┐рд░ рд╡рд┐рдлрд▓ рд╣реЛрддреЗ рд╣реИрдВ
- тЬЕ рдкреНрд░рддреНрдпреЗрдХ рд░рд┐рдЯреНрд░рд╛рдИ рдореЗрдВ рдЕрдзрд┐рдХ рд╕рдордп рд▓рдЧрддрд╛ рд╣реИ (рдПрдХреНрд╕рдкреЛрдиреЗрдВрд╢рд┐рдпрд▓ рдмреИрдХрдСрдл)
- тЬЕ рд╕реЗрд╡рд╛ рдкреБрдирдГ рд╢реБрд░реВ рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж рд╕рдлрд▓ рдЕрдиреБрд░реЛрдз
- тЬЕ рд▓реЙрдЧреНрд╕ рд░рд┐рдЯреНрд░рд╛рдИ рдкреНрд░рдпрд╛рд╕ рджрд┐рдЦрд╛рддреЗ рд╣реИрдВ

**рд╕реАрдЦрдиреЗ рдХрд╛ рдкрд░рд┐рдгрд╛рдо**: рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕реЗрдЬ рдореЗрдВ рд░реЗрдЬрд┐рд▓рд┐рдПрдВрд╕ рдкреИрдЯрд░реНрди (рд╕рд░реНрдХрд┐рдЯ рдмреНрд░реЗрдХрд░реНрд╕, рд░рд┐рдЯреНрд░рд╛рдИ, рдЯрд╛рдЗрдордЖрдЙрдЯ) рд╕рдордЭреЗрдВ

**рд╕рдордп**: 20-25 рдорд┐рдирдЯ

---

## рдЬреНрдЮрд╛рди рдЬрд╛рдВрдЪ

рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЕрдкрдиреА рд╕рдордЭ рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░реЗрдВ:

### 1. рд╕реЗрд╡рд╛ рд╕рдВрдЪрд╛рд░ тЬУ

рдЕрдкрдирд╛ рдЬреНрдЮрд╛рди рдЬрд╛рдВрдЪреЗрдВ:
- [ ] рдХреНрдпрд╛ рдЖрдк рд╕рдордЭрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ API рдЧреЗрдЯрд╡реЗ рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕ рдХреЛ рдХреИрд╕реЗ рдЦреЛрдЬрддрд╛ рд╣реИ? (DNS-рдЖрдзрд╛рд░рд┐рдд рд╕реЗрд╡рд╛ рдЦреЛрдЬ)
- [ ] рдпрджрд┐ рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕ рдбрд╛рдЙрди рд╣реИ рддреЛ рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИ? (рдЧреЗрдЯрд╡реЗ 503 рддреНрд░реБрдЯрд┐ рд▓реМрдЯрд╛рддрд╛ рд╣реИ)
- [ ] рдЖрдк рддреАрд╕рд░реА рд╕реЗрд╡рд╛ рдХреИрд╕реЗ рдЬреЛрдбрд╝реЗрдВрдЧреЗ? (рдирдпрд╛ Bicep рдлрд╝рд╛рдЗрд▓ рдмрдирд╛рдПрдВ, main.bicep рдореЗрдВ рдЬреЛрдбрд╝реЗрдВ, src рдлрд╝реЛрд▓реНрдбрд░ рдмрдирд╛рдПрдВ)

**рд╣реИрдВрдбреНрд╕-рдСрди рд╕рддреНрдпрд╛рдкрди:**
```bash
# рд╕реЗрд╡рд╛ рд╡рд┐рдлрд▓рддрд╛ рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░реЗрдВ
az containerapp update --name <product-service-name> --min-replicas 0 --max-replicas 0
curl $GATEWAY_URL/api/products
# тЬЕ рдЕрдкреЗрдХреНрд╖рд┐рдд: 503 рд╕реЗрд╡рд╛ рдЕрдиреБрдкрд▓рдмреНрдз

# рд╕реЗрд╡рд╛ рдкреБрдирд░реНрд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ
az containerapp update --name <product-service-name> --min-replicas 1 --max-replicas 10
```

### 2. рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдФрд░ рдСрдмреНрдЬрд╝рд░реНрд╡реЗрдмрд┐рд▓рд┐рдЯреА тЬУ

рдЕрдкрдирд╛ рдЬреНрдЮрд╛рди рдЬрд╛рдВрдЪреЗрдВ:
- [ ] рдЖрдк рд╡рд┐рддрд░рд┐рдд рд▓реЙрдЧреНрд╕ рдХрд╣рд╛рдВ рджреЗрдЦрддреЗ рд╣реИрдВ? (Azure рдкреЛрд░реНрдЯрд▓ рдореЗрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЗрдирд╕рд╛рдЗрдЯреНрд╕)
- [ ] рдзреАрдореЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рдХреИрд╕реЗ рдЯреНрд░реИрдХ рдХрд░реЗрдВ? (Kusto рдХреНрд╡реЗрд░реА: `requests | where duration > 1000`)
- [ ] рдЖрдк рдкрд╣рдЪрд╛рди рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХрд┐рд╕ рд╕реЗрд╡рд╛ рдиреЗ рддреНрд░реБрдЯрд┐ рдЙрддреНрдкрдиреНрди рдХреА? (рд▓реЙрдЧреНрд╕ рдореЗрдВ `cloud_RoleName` рдлрд╝реАрд▓реНрдб рдЬрд╛рдВрдЪреЗрдВ)

**рд╣реИрдВрдбреНрд╕-рдСрди рд╕рддреНрдпрд╛рдкрди:**
```bash
# рдзреАрдореА рдЕрдиреБрд░реЛрдз рд╕рд┐рдореБрд▓реЗрд╢рди рдЙрддреНрдкрдиреНрди рдХрд░реЗрдВ
curl "$GATEWAY_URL/api/products?delay=2000"

# рдзреАрдореЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЗрдирд╕рд╛рдЗрдЯреНрд╕ рдХреНрд╡реЗрд░реА рдХрд░реЗрдВ
# Azure рдкреЛрд░реНрдЯрд▓ тЖТ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЗрдирд╕рд╛рдЗрдЯреНрд╕ тЖТ рд▓реЙрдЧреНрд╕ рдкрд░ рдЬрд╛рдПрдВ
# рдЪрд▓рд╛рдПрдВ: requests | where duration > 1000 | project timestamp, name, duration, cloud_RoleName
```

### 3. рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдФрд░ рдкреНрд░рджрд░реНрд╢рди тЬУ

рдЕрдкрдирд╛ рдЬреНрдЮрд╛рди рдЬрд╛рдВрдЪреЗрдВ:
- [ ] рдСрдЯреЛрд╕реНрдХреЗрд▓рд┐рдВрдЧ рдХреЛ рдХреНрдпрд╛ рдЯреНрд░рд┐рдЧрд░ рдХрд░рддрд╛ рд╣реИ? (HTTP рд╕рдорд╡рд░реНрддреА рдЕрдиреБрд░реЛрдз рдирд┐рдпрдо: рдЧреЗрдЯрд╡реЗ рдХреЗ рд▓рд┐рдП 50, рдкреНрд░реЛрдбрдХреНрдЯ рдХреЗ рд▓рд┐рдП 100)
- [ ] рдЕрдм рдХрд┐рддрдиреА рдкреНрд░рддрд┐рдпрд╛рдВ рдЪрд▓ рд░рд╣реА рд╣реИрдВ? (`az containerapp revision list` рдХреЗ рд╕рд╛рде рдЬрд╛рдВрдЪреЗрдВ)
- [ ] рдЖрдк рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕ рдХреЛ 5 рдкреНрд░рддрд┐рдпреЛрдВ рддрдХ рдХреИрд╕реЗ рд╕реНрдХреЗрд▓ рдХрд░реЗрдВрдЧреЗ? (Bicep рдореЗрдВ minReplicas рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ)

**рд╣реИрдВрдбреНрд╕-рдСрди рд╕рддреНрдпрд╛рдкрди:**
```bash
# рдСрдЯреЛрд╕реНрдХреЗрд▓рд┐рдВрдЧ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд▓реЛрдб рдЙрддреНрдкрдиреНрди рдХрд░реЗрдВ
for i in {1..1000}; do curl $GATEWAY_URL/api/products & done

# рдкреНрд░рддрд┐рдХреГрддрд┐рдпреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдмрдврд╝рддреЗ рд╣реБрдП рджреЗрдЦреЗрдВ
azd logs api-gateway --follow
# тЬЕ рдЕрдкреЗрдХреНрд╖рд┐рдд: рд▓реЙрдЧ рдореЗрдВ рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдШрдЯрдирд╛рдУрдВ рдХреЛ рджреЗрдЦреЗрдВ
```

**рд╕рдлрд▓рддрд╛ рдХреЗ рдорд╛рдирджрдВрдб**: рдЖрдк рд╕рднреА рдкреНрд░рд╢реНрдиреЛрдВ рдХрд╛ рдЙрддреНрддрд░ рджреЗ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╣реИрдВрдбреНрд╕-рдСрди рдХрдорд╛рдВрдбреНрд╕ рдХреЗ рд╕рд╛рде рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

---

## рд▓рд╛рдЧрдд рд╡рд┐рд╢реНрд▓реЗрд╖рдг

### рдЕрдиреБрдорд╛рдирд┐рдд рдорд╛рд╕рд┐рдХ рд▓рд╛рдЧрдд (рдЗрд╕ 2-рд╕реЗрд╡рд╛ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП)

| рд╕рдВрд╕рд╛рдзрди | рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди | рдЕрдиреБрдорд╛рдирд┐рдд рд▓рд╛рдЧрдд |
|----------|--------------|----------------|
| API рдЧреЗрдЯрд╡реЗ | 2-20 рдкреНрд░рддрд┐рдпрд╛рдВ, 1 vCPU, 2GB RAM | $30-150 |
| рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕ | 1-10 рдкреНрд░рддрд┐рдпрд╛рдВ, 0.5 vCPU, 1GB RAM | $15-75 |
| рдХрдВрдЯреЗрдирд░ рд░рдЬрд┐рд╕реНрдЯреНрд░реА | рдмреЗрд╕рд┐рдХ рдЯрд┐рдпрд░ | $5 |
| рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЗрдирд╕рд╛рдЗрдЯреНрд╕ | 1-2 GB/рдорд╛рд╣ | $5-10 |
| рд▓реЙрдЧ рдПрдирд╛рд▓рд┐рдЯрд┐рдХреНрд╕ | 1 GB/рдорд╛рд╣ | $3 |
| **рдХреБрд▓** | | **$58-243/рдорд╛рд╣** |

### рдЙрдкрдпреЛрдЧ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рд▓рд╛рдЧрдд рд╡рд┐рднрд╛рдЬрди

**рд╣рд▓реНрдХрд╛ рдЯреНрд░реИрдлрд┐рдХ** (рдкрд░реАрдХреНрд╖рдг/рд╕реАрдЦрдирд╛): ~$60/рдорд╛рд╣
- API рдЧреЗрдЯрд╡реЗ: 2 рдкреНрд░рддрд┐рдпрд╛рдВ ├Ч 24/7 = $30
- рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕: 1 рдкреНрд░рддрд┐ ├Ч 24/7 = $15
- рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ + рд░рдЬрд┐рд╕реНрдЯреНрд░реА = $13

**рдордзреНрдпрдо рдЯреНрд░реИрдлрд┐рдХ** (рдЫреЛрдЯрд╛ рдкреНрд░реЛрдбрдХреНрд╢рди): ~$120/рдорд╛рд╣
- API рдЧреЗрдЯрд╡реЗ: 5 рдФрд╕рдд рдкреНрд░рддрд┐рдпрд╛рдВ = $75
- рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕: 3 рдФрд╕рдд рдкреНрд░рддрд┐рдпрд╛рдВ = $45
- рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ + рд░рдЬрд┐рд╕реНрдЯреНрд░реА = $13

**рдЙрдЪреНрдЪ рдЯреНрд░реИрдлрд┐рдХ** (рд╡реНрдпрд╕реНрдд рдЕрд╡рдзрд┐): ~$240/рдорд╛рд╣
- API рдЧреЗрдЯрд╡реЗ: 15 рдФрд╕рдд рдкреНрд░рддрд┐рдпрд╛рдВ = $225
- рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕: 8 рдФрд╕рдд рдкреНрд░рддрд┐рдпрд╛рдВ = $120
- рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ + рд░рдЬрд┐рд╕реНрдЯреНрд░реА = $13

### рд▓рд╛рдЧрдд рдЕрдиреБрдХреВрд▓рди рд╕реБрдЭрд╛рд╡

1. **рдбреЗрд╡рд▓рдкрдореЗрдВрдЯ рдХреЗ рд▓рд┐рдП рдЬрд╝реАрд░реЛ рдкрд░ рд╕реНрдХреЗрд▓ рдХрд░реЗрдВ**:
   ```bicep
   scale: {
     minReplicas: 0  // Save $30-40/month when not in use
     maxReplicas: 10
   }
   ```

2. **Cosmos DB рдХреЗ рд▓рд┐рдП рдХрдВрдЬрдореНрдкреНрд╢рди рдкреНрд▓рд╛рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ** (рдЬрдм рдЖрдк рдЗрд╕реЗ рдЬреЛрдбрд╝реЗрдВ):
   - рдХреЗрд╡рд▓ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рднреБрдЧрддрд╛рди рдХрд░реЗрдВ
   - рдХреЛрдИ рдиреНрдпреВрдирддрдо рд╢реБрд▓реНрдХ рдирд╣реАрдВ

3. **рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЗрдирд╕рд╛рдЗрдЯреНрд╕ рд╕реИрдВрдкрд▓рд┐рдВрдЧ рд╕реЗрдЯ рдХрд░реЗрдВ**:
   ```javascript
   appInsights.defaultClient.config.samplingPercentage = 50; // рдЕрдиреБрд░реЛрдзреЛрдВ рдХрд╛ 50% рдирдореВрдирд╛ рд▓реЗрдВ
   ```

4. **рдЖрд╡рд╢реНрдпрдХ рди рд╣реЛрдиреЗ рдкрд░ рд╕рд╛рдл рдХрд░реЗрдВ**:
   ```bash
   azd down --force --purge
   ```

### рдореБрдлреНрдд рдЯрд┐рдпрд░ рд╡рд┐рдХрд▓реНрдк

рд╕реАрдЦрдиреЗ/рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ:
- тЬЕ Azure рдореБрдлреНрдд рдХреНрд░реЗрдбрд┐рдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ ($200 рдкрд╣рд▓реЗ 30 рджрд┐рдиреЛрдВ рдХреЗ рд▓рд┐рдП рдирдП рдЦрд╛рддреЛрдВ рдХреЗ рд╕рд╛рде)
- тЬЕ рдиреНрдпреВрдирддрдо рдкреНрд░рддрд┐рдпреЛрдВ рдкрд░ рд░рдЦреЗрдВ (рд▓рдЧрднрдЧ 50% рд▓рд╛рдЧрдд рдмрдЪрд╛рддрд╛ рд╣реИ)
- тЬЕ рдкрд░реАрдХреНрд╖рдг рдХреЗ рдмрд╛рдж рд╣рдЯрд╛рдПрдВ (рдХреЛрдИ рдЪрд▓ рд░рд╣реЗ рд╢реБрд▓реНрдХ рдирд╣реАрдВ)
- тЬЕ рд╕реАрдЦрдиреЗ рдХреЗ рд╕рддреНрд░реЛрдВ рдХреЗ рдмреАрдЪ рдЬрд╝реАрд░реЛ рдкрд░ рд╕реНрдХреЗрд▓ рдХрд░реЗрдВ

**рдЙрджрд╛рд╣рд░рдг**: рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдХреЛ 2 рдШрдВрдЯреЗ/рджрд┐рди ├Ч 30 рджрд┐рди рдЪрд▓рд╛рдирд╛ = ~$5/рдорд╛рд╣, $60/рдорд╛рд╣ рдХреЗ рдмрдЬрд╛рдп

---

## рд╕рдорд╕реНрдпрд╛ рдирд┐рд╡рд╛рд░рдг рддреНрд╡рд░рд┐рдд рд╕рдВрджрд░реНрдн

### рд╕рдорд╕реНрдпрд╛: `azd up` "Subscription not found" рдХреЗ рд╕рд╛рде рд╡рд┐рдлрд▓ рд╣реЛрддрд╛ рд╣реИ

**рд╕рдорд╛рдзрд╛рди**:
```bash
# рд╕реНрдкрд╖реНрдЯ рд╕рджрд╕реНрдпрддрд╛ рдХреЗ рд╕рд╛рде рдлрд┐рд░ рд╕реЗ рд▓реЙрдЧрд┐рди рдХрд░реЗрдВ
az account set --subscription <your-subscription-id>
azd env set AZURE_SUBSCRIPTION_ID <your-subscription-id>
azd up
```

### рд╕рдорд╕реНрдпрд╛: API рдЧреЗрдЯрд╡реЗ 503 "Product service unavailable" рд▓реМрдЯрд╛рддрд╛ рд╣реИ

**рдирд┐рджрд╛рди**:
```bash
# рдЙрддреНрдкрд╛рдж рд╕реЗрд╡рд╛ рд▓реЙрдЧ рдЬрд╛рдВрдЪреЗрдВ
azd logs product-service --tail 50

# рдЙрддреНрдкрд╛рдж рд╕реЗрд╡рд╛ рдХреА рд╕реНрдерд┐рддрд┐ рдЬрд╛рдВрдЪреЗрдВ
az containerapp show \
  --name $(azd env get-values | grep PRODUCT_SERVICE | head -1 | cut -d '/' -f5) \
  --resource-group $(azd env get-values | grep AZURE_RESOURCE_GROUP | cut -d '=' -f2 | tr -d '"') \
  --query "properties.runningStatus"
```

**рд╕рд╛рдорд╛рдиреНрдп рдХрд╛рд░рдг**:
1. рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕ рд╢реБрд░реВ рдирд╣реАрдВ рд╣реБрдИ (Python рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рд▓реЙрдЧреНрд╕ рдЬрд╛рдВрдЪреЗрдВ)
2. рд╣реЗрд▓реНрде рдЪреЗрдХ рд╡рд┐рдлрд▓ рд╣реЛ рд░рд╣рд╛ рд╣реИ (рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ `/health` рдПрдВрдбрдкреЙрдЗрдВрдЯ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ)
3. рдХрдВрдЯреЗрдирд░ рдЗрдореЗрдЬ рдмрд┐рд▓реНрдб рд╡рд┐рдлрд▓ (рд░рдЬрд┐рд╕реНрдЯреНрд░реА рдореЗрдВ рдЗрдореЗрдЬ рдЬрд╛рдВрдЪреЗрдВ)

### рд╕рдорд╕реНрдпрд╛: рдСрдЯреЛрд╕реНрдХреЗрд▓рд┐рдВрдЧ рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд░рд╣рд╛

**рдирд┐рджрд╛рди**:
```bash
# рд╡рд░реНрддрдорд╛рди рдкреНрд░рддрд┐рдХреГрддрд┐ рд╕рдВрдЦреНрдпрд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ
az containerapp revision list \
  --name $(azd env get-values | grep API_GATEWAY | head -1 | cut -d '/' -f5) \
  --resource-group $(azd env get-values | grep AZURE_RESOURCE_GROUP | cut -d '=' -f2 | tr -d '"') \
  --query "[].properties.replicas"

# рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рд▓реЛрдб рдЙрддреНрдкрдиреНрди рдХрд░реЗрдВ
for i in {1..1000}; do curl $GATEWAY_URL/api/products & done

# рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдШрдЯрдирд╛рдУрдВ рдХреЛ рджреЗрдЦреЗрдВ
azd logs api-gateway --follow | grep -i scale
```

**рд╕рд╛рдорд╛рдиреНрдп рдХрд╛рд░рдг**:
1. рд╕реНрдХреЗрд▓ рдирд┐рдпрдо рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд▓реЛрдб рдкрд░реНрдпрд╛рдкреНрдд рдирд╣реАрдВ рд╣реИ (50 рд╕реЗ рдЕрдзрд┐рдХ рд╕рдорд╡рд░реНрддреА рдЕрдиреБрд░реЛрдзреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ)
2. рдЕрдзрд┐рдХрддрдо рдкреНрд░рддрд┐рдпрд╛рдВ рдкрд╣рд▓реЗ рд╣реА рдкрд╣реБрдВрдЪ рдЪреБрдХреА рд╣реИрдВ (Bicep рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдЬрд╛рдВрдЪреЗрдВ)
3. Bicep рдореЗрдВ рд╕реНрдХреЗрд▓ рдирд┐рдпрдо рдЧрд▓рдд рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ (concurrentRequests рдорд╛рди рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░реЗрдВ)

### рд╕рдорд╕реНрдпрд╛: рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЗрдирд╕рд╛рдЗрдЯреНрд╕ рд▓реЙрдЧреНрд╕ рдирд╣реАрдВ рджрд┐рдЦрд╛ рд░рд╣рд╛

**рдирд┐рджрд╛рди**:
```bash
# рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдХрдиреЗрдХреНрд╢рди рд╕реНрдЯреНрд░рд┐рдВрдЧ рд╕реЗрдЯ рд╣реИ
azd env get-values | grep APPLICATIONINSIGHTS

# рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рд╕реЗрд╡рд╛рдПрдВ рдЯреЗрд▓реАрдореЗрдЯреНрд░реА рднреЗрдЬ рд░рд╣реА рд╣реИрдВ
az monitor app-insights component show \
  --app $(azd env get-values | grep APPLICATIONINSIGHTS_NAME | cut -d '=' -f2 | tr -d '"') \
  --resource-group $(azd env get-values | grep AZURE_RESOURCE_GROUP | cut -d '=' -f2 | tr -d '"') \
  --query "properties.InstrumentationKey"
```

**рд╕рд╛рдорд╛рдиреНрдп рдХрд╛рд░рдг**:
1. рдХрдВрдЯреЗрдирд░ рдХреЛ рдХрдиреЗрдХреНрд╢рди рд╕реНрдЯреНрд░рд┐рдВрдЧ рдкрд╛рд╕ рдирд╣реАрдВ рдХреА рдЧрдИ (рдкрд░реНрдпрд╛рд╡рд░рдг рд╡реЗрд░рд┐рдПрдмрд▓реНрд╕ рдЬрд╛рдВрдЪреЗрдВ)
2. рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЗрдирд╕рд╛рдЗрдЯреНрд╕ SDK рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ (рдХреЛрдб рдореЗрдВ рдЗрдВрдкреЛрд░реНрдЯреНрд╕ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░реЗрдВ)
3. рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рдЯреЗрд▓реАрдореЗрдЯреНрд░реА рдХреЛ рдмреНрд▓реЙрдХ рдХрд░ рд░рд╣рд╛ рд╣реИ (рджреБрд░реНрд▓рдн, рдиреЗрдЯрд╡рд░реНрдХ рдирд┐рдпрдо рдЬрд╛рдВрдЪреЗрдВ)

### рд╕рдорд╕реНрдпрд╛: Docker рдмрд┐рд▓реНрдб рд▓реЛрдХрд▓реА рд╡рд┐рдлрд▓ рд╣реЛ рд░рд╣рд╛ рд╣реИ

**рдирд┐рджрд╛рди**:
```bash
# рдПрдкреАрдЖрдИ рдЧреЗрдЯрд╡реЗ рдирд┐рд░реНрдорд╛рдг рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВ
cd src/api-gateway
docker build -t test-gateway .

# рдЙрддреНрдкрд╛рдж рд╕реЗрд╡рд╛ рдирд┐рд░реНрдорд╛рдг рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВ
cd ../product-service
docker build -t test-product .
```

**рд╕рд╛рдорд╛рдиреНрдп рдХрд╛рд░рдг**:
1. package.json/requirements.txt рдореЗрдВ рдбрд┐рдкреЗрдВрдбреЗрдВрд╕реА рдЧрд╛рдпрдм
2. Dockerfile рд╕рд┐рдВрдЯреИрдХреНрд╕ рддреНрд░реБрдЯрд┐рдпрд╛рдВ
3. рдбрд┐рдкреЗрдВрдбреЗрдВрд╕реА рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдореЗрдВ рдиреЗрдЯрд╡рд░реНрдХ рд╕рдорд╕реНрдпрд╛рдПрдВ

**рдЕрднреА рднреА рдЕрдЯрдХреЗ рд╣реИрдВ?** [рд╕рд╛рдорд╛рдиреНрдп рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреА рдЧрд╛рдЗрдб](../../docs/troubleshooting/common-issues.md) рдпрд╛ [Azure Container Apps рд╕рдорд╕реНрдпрд╛ рдирд┐рд╡рд╛рд░рдг](https://learn.microsoft.com/azure/container-apps/troubleshooting) рджреЗрдЦреЗрдВ

---

## рд╕рдлрд╛рдИ

рдЪрд▓ рд░рд╣реЗ рд╢реБрд▓реНрдХ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, рд╕рднреА рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рд╣рдЯрд╛ рджреЗрдВ:

```bash
azd down --force --purge
```

**рдкреБрд╖реНрдЯрд┐рдХрд░рдг рдкреНрд░реЙрдореНрдкреНрдЯ**:
```
? Total resources to delete: 6, are you sure you want to continue? (y/N)
```

рдкреБрд╖реНрдЯрд┐ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП `y` рдЯрд╛рдЗрдк рдХрд░реЗрдВред

**рдХреНрдпрд╛ рд╣рдЯрд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛**:
- рдХрдВрдЯреЗрдирд░ рдРрдкреНрд╕ рдПрдирд╡рд╛рдпрд░рдирдореЗрдВрдЯ
- рджреЛрдиреЛрдВ рдХрдВрдЯреЗрдирд░ рдРрдкреНрд╕ (рдЧреЗрдЯрд╡реЗ рдФрд░ рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕)
- рдХрдВрдЯреЗрдирд░ рд░рдЬрд┐рд╕реНрдЯреНрд░реА
- рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЗрдирд╕рд╛рдЗрдЯреНрд╕
- рд▓реЙрдЧ рдПрдирд╛рд▓рд┐рдЯрд┐рдХреНрд╕ рд╡рд░реНрдХрд╕реНрдкреЗрд╕
- рд░рд┐рд╕реЛрд░реНрд╕ рдЧреНрд░реБрдк

**тЬУ рд╕рдлрд╛рдИ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░реЗрдВ**:
```bash
az group list --query "[?starts_with(name,'rg-microservices')]" --output table
```

рдЦрд╛рд▓реА рд▓реМрдЯрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред

---

## рд╡рд┐рд╕реНрддрд╛рд░ рдЧрд╛рдЗрдб: 2 рд╕реЗ 5+ рд╕реЗрд╡рд╛рдУрдВ рддрдХ

рдПрдХ рдмрд╛рд░ рдЬрдм рдЖрдк рдЗрд╕ 2-рд╕реЗрд╡рд╛ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдореЗрдВ рдорд╣рд╛рд░рдд рд╣рд╛рд╕рд┐рд▓ рдХрд░ рд▓реЗрдВ, рддреЛ рдЗрд╕реЗ рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХрд╛ рддрд░реАрдХрд╛ рдпрд╣рд╛рдВ рд╣реИ:

### рдЪрд░рдг 1: рдбреЗрдЯрд╛рдмреЗрд╕ рдкрд░рд╕рд┐рд╕реНрдЯреЗрдВрд╕ рдЬреЛрдбрд╝реЗрдВ (рдЕрдЧрд▓рд╛ рдХрджрдо)

**рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕ рдХреЗ рд▓рд┐рдП Cosmos DB рдЬреЛрдбрд╝реЗрдВ**:

1. `infra/core/cosmos.bicep` рдмрдирд╛рдПрдВ:
   ```bicep
   resource cosmosAccount 'Microsoft.DocumentDB/databaseAccounts@2023-04-15' = {
     name: name
     location: location
     kind: 'GlobalDocumentDB'
     properties: {
       databaseAccountOfferType: 'Standard'
       consistencyPolicy: { defaultConsistencyLevel: 'Session' }
       locations: [{ locationName: location, failoverPriority: 0 }]
     }
   }
   ```

2. рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕ рдХреЛ рдЗрди-рдореЗрдореЛрд░реА рдбреЗрдЯрд╛ рдХреЗ рдмрдЬрд╛рдп Azure Cosmos DB Python SDK рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ

3. рдЕрдиреБрдорд╛рдирд┐рдд рдЕрддрд┐рд░рд┐рдХреНрдд рд▓рд╛рдЧрдд: ~$25/рдорд╛рд╣ (рд╕рд░реНрд╡рд░рд▓реЗрд╕)

### рдЪрд░рдг 2: рддреАрд╕рд░реА рд╕реЗрд╡рд╛ рдЬреЛрдбрд╝реЗрдВ (рдСрд░реНрдбрд░ рдореИрдиреЗрдЬрдореЗрдВрдЯ)

**рдСрд░реНрдбрд░ рд╕рд░реНрд╡рд┐рд╕ рдмрдирд╛рдПрдВ**:

1. рдирдпрд╛ рдлрд╝реЛрд▓реНрдбрд░: `src/order-service/` (Python/Node.js/C#)
2. рдирдпрд╛ Bicep: `infra/app/order-service.bicep`
3. API рдЧреЗрдЯрд╡реЗ рдХреЛ `/api/orders` рд░реВрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ
4. рдСрд░реНрдбрд░ рдкрд░рд╕рд┐рд╕реНрдЯреЗрдВрд╕ рдХреЗ рд▓рд┐рдП Azure SQL рдбреЗрдЯрд╛рдмреЗрд╕ рдЬреЛрдбрд╝реЗрдВ

**рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдмрди рдЬрд╛рддрд╛ рд╣реИ**:
```
API Gateway тЖТ Product Service (Cosmos DB)
           тЖТ Order Service (Azure SQL)
```

### рдЪрд░рдг 3: рдЕрд╕рд┐рдВрдХреНрд░реЛрдирд╕ рд╕рдВрдЪрд╛рд░ рдЬреЛрдбрд╝реЗрдВ (рд╕рд░реНрд╡рд┐рд╕ рдмрд╕)

**рдЗрд╡реЗрдВрдЯ-рдбреНрд░рд┐рд╡рди рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рд▓рд╛рдЧреВ рдХрд░реЗрдВ**:

1. Azure рд╕рд░реНрд╡рд┐рд╕ рдмрд╕ рдЬреЛрдбрд╝реЗрдВ: `infra/core/servicebus.bicep`
2. рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕ "ProductCreated" рдЗрд╡реЗрдВрдЯреНрд╕ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░рддреА рд╣реИ
3. рдСрд░реНрдбрд░ рд╕рд░реНрд╡рд┐рд╕ рдкреНрд░реЛрдбрдХреНрдЯ рдЗрд╡реЗрдВрдЯреНрд╕ рдХреЛ рд╕рдмреНрд╕рдХреНрд░рд╛рдЗрдм рдХрд░рддреА рд╣реИ
4. рдЗрд╡реЗрдВрдЯреНрд╕ рдХреЛ рдкреНрд░реЛрд╕реЗрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдиреЛрдЯрд┐рдлрд┐рдХреЗрд╢рди рд╕рд░реНрд╡рд┐рд╕ рдЬреЛрдбрд╝реЗрдВ

**рдкреИрдЯрд░реНрди**: рдЕрдиреБрд░реЛрдз/рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ (HTTP) + рдЗрд╡реЗрдВрдЯ-рдбреНрд░рд┐рд╡рди (рд╕рд░реНрд╡рд┐рд╕ рдмрд╕)

### рдЪрд░рдг 4: рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдЬреЛрдбрд╝реЗрдВ

**рдпреВрдЬрд░ рд╕рд░реНрд╡рд┐рд╕ рд▓рд╛рдЧреВ рдХрд░реЗрдВ**:

1. `src/user-service/` рдмрдирд╛рдПрдВ (Go/Node.js)
2. Azure AD B2C рдпрд╛ рдХрд╕реНрдЯрдо JWT рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдЬреЛрдбрд╝реЗрдВ
3. API рдЧреЗрдЯрд╡реЗ рдЯреЛрдХрди рдХреЛ рд░реВрдЯрд┐рдВрдЧ рд╕реЗ рдкрд╣рд▓реЗ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рддрд╛ рд╣реИ
4. рд╕реЗрд╡рд╛рдПрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░рддреА рд╣реИрдВ

### рдЪрд░рдг 5: рдкреНрд░реЛрдбрдХреНрд╢рди рд░реЗрдбреАрдиреЗрд╕

**рдЗрди рдШрдЯрдХреЛрдВ рдХреЛ рдЬреЛрдбрд╝реЗрдВ**:
- тЬЕ Azure Front Door (рдЧреНрд▓реЛрдмрд▓ рд▓реЛрдб рдмреИрд▓реЗрдВрд╕рд┐рдВрдЧ)
- тЬЕ Azure Key Vault (рд╕реАрдХреНрд░реЗрдЯ рдореИрдиреЗрдЬрдореЗрдВрдЯ)
- тЬЕ Azure Monitor Workbooks (рдХрд╕реНрдЯрдо рдбреИрд╢рдмреЛрд░реНрдб)
- тЬЕ CI/CD рдкрд╛рдЗрдкрд▓рд╛рдЗрди (GitHub Actions)
- тЬЕ рдмреНрд▓реВ-рдЧреНрд░реАрди рдбрд┐рдкреНрд▓реЙрдпрдореЗрдВрдЯреНрд╕
- тЬЕ рд╕рднреА рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдореИрдиреЗрдЬреНрдб рдЖрдЗрдбреЗрдВрдЯрд┐рдЯреА

**рдкреВрд░реНрдг рдкреНрд░реЛрдбрдХреНрд╢рди рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рд▓рд╛рдЧрдд**: ~$300-1,400/рдорд╛рд╣

---

## рдФрд░ рдЬрд╛рдиреЗрдВ

### рд╕рдВрдмрдВрдзрд┐рдд рджрд╕реНрддрд╛рд╡реЗрдЬрд╝
- [Azure Container Apps рджрд╕реНрддрд╛рд╡реЗрдЬрд╝](https://learn.microsoft.com/azure/container-apps/)
- [рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕реЗрдЬ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдЧрд╛рдЗрдб](https://learn.microsoft.com/azure/architecture/guide/architecture-styles/microservices)
- [рдбрд┐рд╕реНрдЯреНрд░рд┐рдмреНрдпреВрдЯреЗрдб рдЯреНрд░реЗрд╕рд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЗрдирд╕рд╛рдЗрдЯреНрд╕](https://learn.microsoft.com/azure/azure-monitor/app/distributed-tracing)
- [Azure Developer CLI рджрд╕реНрддрд╛рд╡реЗрдЬрд╝](https://learn.microsoft.com/azure/developer/azure-developer-cli/)

### рдЗрд╕ рдХреЛрд░реНрд╕ рдореЗрдВ рдЕрдЧрд▓реЗ рдХрджрдо
- тЖР рдкрд┐рдЫрд▓рд╛: [рд╕рд┐рдВрдкрд▓ Flask API](../../../../examples/container-app/simple-flask-api) - рд╢реБрд░реБрдЖрддреА рд╕рд┐рдВрдЧрд▓-рдХрдВрдЯреЗрдирд░ рдЙрджрд╛рд╣рд░рдг
- тЖТ рдЕрдЧрд▓рд╛: [AI рдЗрдВрдЯреАрдЧреНрд░реЗрд╢рди рдЧрд╛рдЗрдб](../../../../docs/ai-foundry) - AI рдХреНрд╖рдорддрд╛рдПрдВ рдЬреЛрдбрд╝реЗрдВ
- ЁЯПа [рдХреЛрд░реНрд╕ рд╣реЛрдо](../../README.md)

### рддреБрд▓рдирд╛: рдХрдм рдХреНрдпрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ

| рд╡рд┐рд╢реЗрд╖рддрд╛ | рд╕рд┐рдВрдЧрд▓ рдХрдВрдЯреЗрдирд░ | рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕реЗрдЬ (рдпрд╣) | рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ (AKS) |
|---------|-----------------|---------------------|------------------|
| **рдЙрдкрдпреЛрдЧ рдХрд╛ рдорд╛рдорд▓рд╛** | рд╕рд░рд▓ рдРрдкреНрд╕ | рдЬрдЯрд┐рд▓ рдРрдкреНрд╕ | рдПрдВрдЯрд░рдкреНрд░рд╛рдЗрдЬ рдРрдкреНрд╕ |
| **рд╕реНрдХреЗрд▓реЗрдмрд┐рд▓рд┐рдЯреА** | рд╕рд┐рдВрдЧрд▓ рд╕рд░реНрд╡рд┐рд╕ | рдкреНрд░рддрд┐-рд╕реЗрд╡рд╛ рд╕реНрдХреЗрд▓рд┐рдВрдЧ | рдЕрдзрд┐рдХрддрдо рд▓рдЪреАрд▓рд╛рдкрди |
| **рдЬрдЯрд┐рд▓рддрд╛** | рдХрдо | рдордзреНрдпрдо | рдЙрдЪреНрдЪ |
| **рдЯреАрдо рдХрд╛ рдЖрдХрд╛рд░** | 1-3 рдбреЗрд╡рд▓рдкрд░реНрд╕ | 3-10 рдбреЗрд╡рд▓рдкрд░реНрд╕ | 10+ рдбреЗрд╡рд▓рдкрд░реНрд╕ |
| **рд▓рд╛рдЧрдд** | ~$15-50/рдорд╛рд╣ | ~$60
| **рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рдЙрдкрдпреЛрдЧ** | MVPs, рдкреНрд░реЛрдЯреЛрдЯрд╛рдЗрдкреНрд╕ | рдкреНрд░реЛрдбрдХреНрд╢рди рдРрдкреНрд╕ | рдорд▓реНрдЯреА-рдХреНрд▓рд╛рдЙрдб, рдЙрдиреНрдирдд рдиреЗрдЯрд╡рд░реНрдХрд┐рдВрдЧ |

**рд╕рд┐рдлрд╛рд░рд┐рд╢**: Container Apps (рдЗрд╕ рдЙрджрд╛рд╣рд░рдг) рд╕реЗ рд╢реБрд░реВ рдХрд░реЗрдВ, рдФрд░ рдХреЗрд╡рд▓ рддрднреА AKS рдкрд░ рдЬрд╛рдПрдВ рдЬрдм рдЖрдкрдХреЛ Kubernetes-рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛред

---

## рдЕрдХреНрд╕рд░ рдкреВрдЫреЗ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдкреНрд░рд╢реНрди

**рдкреНрд░рд╢реНрди: рдХреЗрд╡рд▓ 2 рд╕реЗрд╡рд╛рдПрдВ рд╣реА рдХреНрдпреЛрдВ, 5+ рдХреНрдпреЛрдВ рдирд╣реАрдВ?**  
рдЙрддреНрддрд░: рд╢реИрдХреНрд╖рд┐рдХ рдкреНрд░рдЧрддрд┐ред рдЬрдЯрд┐рд▓рддрд╛ рдЬреЛрдбрд╝рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдПрдХ рд╕рд░рд▓ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд╕рд╛рде рдореВрд▓рднреВрдд рдмрд╛рддреЗрдВ (рд╕реЗрд╡рд╛ рд╕рдВрдЪрд╛рд░, рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ, рд╕реНрдХреЗрд▓рд┐рдВрдЧ) рдореЗрдВ рдорд╣рд╛рд░рдд рд╣рд╛рд╕рд┐рд▓ рдХрд░реЗрдВред рдпрд╣рд╛рдВ рд╕реАрдЦреЗ рдЧрдП рдкреИрдЯрд░реНрди 100-рд╕реЗрд╡рд╛ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдкрд░ рднреА рд▓рд╛рдЧреВ рд╣реЛрддреЗ рд╣реИрдВред

**рдкреНрд░рд╢реНрди: рдХреНрдпрд╛ рдореИрдВ рдЦреБрдж рд╕реЗ рдФрд░ рд╕реЗрд╡рд╛рдПрдВ рдЬреЛрдбрд╝ рд╕рдХрддрд╛ рд╣реВрдВ?**  
рдЙрддреНрддрд░: рдмрд┐рд▓реНрдХреБрд▓! рдКрдкрд░ рджрд┐рдП рдЧрдП рд╡рд┐рд╕реНрддрд╛рд░ рдЧрд╛рдЗрдб рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВред рдкреНрд░рддреНрдпреЗрдХ рдирдИ рд╕реЗрд╡рд╛ рдХреЗ рд▓рд┐рдП рд╡рд╣реА рдкреИрдЯрд░реНрди рдЕрдкрдирд╛рдПрдВ: src рдлрд╝реЛрд▓реНрдбрд░ рдмрдирд╛рдПрдВ, Bicep рдлрд╝рд╛рдЗрд▓ рдмрдирд╛рдПрдВ, azure.yaml рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ, рдФрд░ рдбрд┐рдкреНрд▓реЙрдп рдХрд░реЗрдВред

**рдкреНрд░рд╢реНрди: рдХреНрдпрд╛ рдпрд╣ рдкреНрд░реЛрдбрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реИ?**  
рдЙрддреНрддрд░: рдпрд╣ рдПрдХ рдордЬрдмреВрдд рдиреАрдВрд╡ рд╣реИред рдкреНрд░реЛрдбрдХреНрд╢рди рдХреЗ рд▓рд┐рдП, рдЬреЛрдбрд╝реЗрдВ: рдореИрдиреЗрдЬреНрдб рдЖрдЗрдбреЗрдВрдЯрд┐рдЯреА, Key Vault, рд╕реНрдерд╛рдпреА рдбреЗрдЯрд╛рдмреЗрд╕, CI/CD рдкрд╛рдЗрдкрд▓рд╛рдЗрди, рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдЕрд▓рд░реНрдЯ, рдФрд░ рдмреИрдХрдЕрдк рд░рдгрдиреАрддрд┐ред

**рдкреНрд░рд╢реНрди: Dapr рдпрд╛ рдЕрдиреНрдп рд╕рд░реНрд╡рд┐рд╕ рдореЗрд╖ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреНрдпреЛрдВ рдирд╣реАрдВ рдХрд┐рдпрд╛?**  
рдЙрддреНрддрд░: рд╕реАрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕реЗ рд╕рд░рд▓ рд░рдЦреЗрдВред рдПрдХ рдмрд╛рд░ рдЬрдм рдЖрдк Container Apps рдХреА рдиреЗрдЯрд┐рд╡ рдиреЗрдЯрд╡рд░реНрдХрд┐рдВрдЧ рд╕рдордЭ рд▓реЗрдВ, рддреЛ рдЙрдиреНрдирдд рдкрд░рд┐рджреГрд╢реНрдпреЛрдВ (рд╕реНрдЯреЗрдЯ рдореИрдиреЗрдЬрдореЗрдВрдЯ, рдкрдм/рд╕рдм, рдмрд╛рдЗрдВрдбрд┐рдВрдЧреНрд╕) рдХреЗ рд▓рд┐рдП Dapr рдХреЛ рд▓реЗрдпрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

**рдкреНрд░рд╢реНрди: рдореИрдВ рд▓реЛрдХрд▓ рдбрд┐рдмрдЧ рдХреИрд╕реЗ рдХрд░реВрдВ?**  
рдЙрддреНрддрд░: Docker рдХреЗ рд╕рд╛рде рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рд▓реЛрдХрд▓ рдЪрд▓рд╛рдПрдВ:  
```bash
cd src/api-gateway
docker build -t local-gateway .
docker run -p 8080:8080 -e PRODUCT_SERVICE_URL=http://localhost:8000 local-gateway
```


**рдкреНрд░рд╢реНрди: рдХреНрдпрд╛ рдореИрдВ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рднрд╛рд╖рд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВ?**  
рдЙрддреНрддрд░: рд╣рд╛рдВ! рдпрд╣ рдЙрджрд╛рд╣рд░рдг Node.js (рдЧреЗрдЯрд╡реЗ) + Python (рдкреНрд░реЛрдбрдХреНрдЯ рд╕рд░реНрд╡рд┐рд╕) рджрд┐рдЦрд╛рддрд╛ рд╣реИред рдЖрдк рдХрд┐рд╕реА рднреА рднрд╛рд╖рд╛ рдХреЛ рдорд┐рдХреНрд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдХрдВрдЯреЗрдирд░реЛрдВ рдореЗрдВ рдЪрд▓рддреА рд╣реИ: C#, Go, Java, Ruby, PHP, рдЖрджрд┐ред

**рдкреНрд░рд╢реНрди: рдЕрдЧрд░ рдореЗрд░реЗ рдкрд╛рд╕ Azure рдХреНрд░реЗрдбрд┐рдЯ рдирд╣реАрдВ рд╣реИрдВ рддреЛ рдХреНрдпрд╛ рдХрд░реЗрдВ?**  
рдЙрддреНрддрд░: Azure рдХрд╛ рдлреНрд░реА рдЯрд┐рдпрд░ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ (рдирдП рдЕрдХрд╛рдЙрдВрдЯреНрд╕ рдХреЗ рд▓рд┐рдП рдкрд╣рд▓реЗ 30 рджрд┐рдиреЛрдВ рдореЗрдВ $200 рдХреНрд░реЗрдбрд┐рдЯ рдорд┐рд▓рддреЗ рд╣реИрдВ) рдпрд╛ рд╢реЙрд░реНрдЯ рдЯреЗрд╕реНрдЯрд┐рдВрдЧ рдкреАрд░рд┐рдпрдбреНрд╕ рдХреЗ рд▓рд┐рдП рдбрд┐рдкреНрд▓реЙрдп рдХрд░реЗрдВ рдФрд░ рддреБрд░рдВрдд рдбрд┐рд▓реАрдЯ рдХрд░ рджреЗрдВред рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдХреА рд▓рд╛рдЧрдд ~$2/рджрд┐рди рд╣реИред

**рдкреНрд░рд╢реНрди: рдпрд╣ Azure Kubernetes Service (AKS) рд╕реЗ рдХреИрд╕реЗ рдЕрд▓рдЧ рд╣реИ?**  
рдЙрддреНрддрд░: Container Apps рд╕рд░рд▓ рд╣реИ (Kubernetes рдЬреНрдЮрд╛рди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ) рд▓реЗрдХрд┐рди рдХрдо рд▓рдЪреАрд▓рд╛ред AKS рдЖрдкрдХреЛ рдкреВрд░рд╛ Kubernetes рдирд┐рдпрдВрддреНрд░рдг рджреЗрддрд╛ рд╣реИ рд▓реЗрдХрд┐рди рдЕрдзрд┐рдХ рд╡рд┐рд╢реЗрд╖рдЬреНрдЮрддрд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред Container Apps рд╕реЗ рд╢реБрд░реВ рдХрд░реЗрдВ, рдФрд░ рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдиреЗ рдкрд░ AKS рдкрд░ рдЬрд╛рдПрдВред

**рдкреНрд░рд╢реНрди: рдХреНрдпрд╛ рдореИрдВ рдЗрд╕реЗ рдореМрдЬреВрджрд╛ Azure рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд╕рд╛рде рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВ?**  
рдЙрддреНрддрд░: рд╣рд╛рдВ! рдЖрдк рдореМрдЬреВрджрд╛ рдбреЗрдЯрд╛рдмреЗрд╕, рд╕реНрдЯреЛрд░реЗрдЬ рдЕрдХрд╛рдЙрдВрдЯреНрд╕, Service Bus рдЖрджрд┐ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдирдИ рд╕рдВрд╕рд╛рдзрди рдмрдирд╛рдиреЗ рдХреЗ рдмрдЬрд╛рдп рдореМрдЬреВрджрд╛ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП Bicep рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВред

---

> **ЁЯОУ рд▓рд░реНрдирд┐рдВрдЧ рдкрд╛рде рд╕рд╛рд░рд╛рдВрд╢**: рдЖрдкрдиреЗ рдСрдЯреЛрдореИрдЯрд┐рдХ рд╕реНрдХреЗрд▓рд┐рдВрдЧ, рдЖрдВрддрд░рд┐рдХ рдиреЗрдЯрд╡рд░реНрдХрд┐рдВрдЧ, рдХреЗрдВрджреНрд░реАрдХреГрдд рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ, рдФрд░ рдкреНрд░реЛрдбрдХреНрд╢рди-рд░реЗрдбреА рдкреИрдЯрд░реНрди рдХреЗ рд╕рд╛рде рдПрдХ рдорд▓реНрдЯреА-рд╕рд░реНрд╡рд┐рд╕ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХреЛ рдбрд┐рдкреНрд▓реЙрдп рдХрд░рдирд╛ рд╕реАрдЦрд╛ред рдпрд╣ рдиреАрдВрд╡ рдЖрдкрдХреЛ рдЬрдЯрд┐рд▓ рд╡рд┐рддрд░рд┐рдд рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рдФрд░ рдПрдВрдЯрд░рдкреНрд░рд╛рдЗрдЬ рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рдХрд░рддреА рд╣реИред

**ЁЯУЪ рдХреЛрд░реНрд╕ рдиреЗрд╡рд┐рдЧреЗрд╢рди:**
- тЖР рдкрд┐рдЫрд▓рд╛: [рд╕рд┐рдВрдкрд▓ Flask API](../../../../examples/container-app/simple-flask-api)
- тЖТ рдЕрдЧрд▓рд╛: [рдбреЗрдЯрд╛рдмреЗрд╕ рдЗрдВрдЯреАрдЧреНрд░реЗрд╢рди рдЙрджрд╛рд╣рд░рдг](../../../../database-app)
- ЁЯПа [рдХреЛрд░реНрд╕ рд╣реЛрдо](../../README.md)
- ЁЯУЦ [Container Apps рдмреЗрд╕реНрдЯ рдкреНрд░реИрдХреНрдЯрд┐рд╕реЗрдЬ](../../docs/deployment/deployment-guide.md)

---

**тЬи рдмрдзрд╛рдИ рд╣реЛ!** рдЖрдкрдиреЗ рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕реЗрдЬ рдЙрджрд╛рд╣рд░рдг рдкреВрд░рд╛ рдХрд░ рд▓рд┐рдпрд╛ рд╣реИред рдЕрдм рдЖрдк рд╕рдордЭрддреЗ рд╣реИрдВ рдХрд┐ Azure Container Apps рдкрд░ рд╡рд┐рддрд░рд┐рдд рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреИрд╕реЗ рдмрдирд╛рдПрдВ, рдбрд┐рдкреНрд▓реЙрдп рдХрд░реЗрдВ рдФрд░ рдореЙрдирд┐рдЯрд░ рдХрд░реЗрдВред рдХреНрдпрд╛ рдЖрдк AI рдХреНрд╖рдорддрд╛рдУрдВ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реИрдВ? [AI рдЗрдВрдЯреАрдЧреНрд░реЗрд╢рди рдЧрд╛рдЗрдб](../../../../docs/ai-foundry) рджреЗрдЦреЗрдВ!

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рдпрд╣ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ AI рдЕрдиреБрд╡рд╛рдж рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдЬрдмрдХрд┐ рд╣рдо рд╕рдЯреАрдХрддрд╛ рдХреЗ рд▓рд┐рдП рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ, рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЕрдиреБрд╡рд╛рдж рдореЗрдВ рддреНрд░реБрдЯрд┐рдпрд╛рдВ рдпрд╛ рдЕрд╢реБрджреНрдзрд┐рдпрд╛рдВ рд╣реЛ рд╕рдХрддреА рд╣реИрдВред рдореВрд▓ рднрд╛рд╖рд╛ рдореЗрдВ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХреЛ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╕реНрд░реЛрдд рдорд╛рдирд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП, рдкреЗрд╢реЗрд╡рд░ рдорд╛рдирд╡ рдЕрдиреБрд╡рд╛рдж рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИред рдЗрд╕ рдЕрдиреБрд╡рд╛рдж рдХреЗ рдЙрдкрдпреЛрдЧ рд╕реЗ рдЙрддреНрдкрдиреНрди рдХрд┐рд╕реА рднреА рдЧрд▓рддрдлрд╣рдореА рдпрд╛ рдЧрд▓рдд рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХреЗ рд▓рд┐рдП рд╣рдо рдЙрддреНрддрд░рджрд╛рдпреА рдирд╣реАрдВ рд╣реИрдВред
<!-- CO-OP TRANSLATOR DISCLAIMER END -->