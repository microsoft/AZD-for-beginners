# рд╕рд░рд▓ Flask API - рдХрдВрдЯреЗрдирд░ рдРрдк рдЙрджрд╛рд╣рд░рдг

**рд▓рд░реНрдирд┐рдВрдЧ рдкрд╛рде:** рд╢реБрд░реБрдЖрддреА тнР | **рд╕рдордп:** 25-35 рдорд┐рдирдЯ | **рд▓рд╛рдЧрдд:** $0-15/рдорд╛рд╣

рдПрдХ рдкреВрд░реНрдг, рдХрд╛рд░реНрдпрд╢реАрд▓ Python Flask REST API рдЬрд┐рд╕реЗ Azure Container Apps рдкрд░ Azure Developer CLI (azd) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рддреИрдирд╛рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдпрд╣ рдЙрджрд╛рд╣рд░рдг рдХрдВрдЯреЗрдирд░ рдбрд┐рдкреНрд▓реЙрдпрдореЗрдВрдЯ, рдСрдЯреЛ-рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдФрд░ рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдХреА рдореВрд▓ рдмрд╛рддреЗрдВ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИред

## ЁЯОп рдЖрдк рдХреНрдпрд╛ рд╕реАрдЦреЗрдВрдЧреЗ

- рдХрдВрдЯреЗрдирд░рд╛рдЗрдЬреНрдб Python рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ Azure рдкрд░ рддреИрдирд╛рдд рдХрд░рдирд╛
- рд╕реНрдХреЗрд▓-рдЯреВ-рдЬрд╝реАрд░реЛ рдХреЗ рд╕рд╛рде рдСрдЯреЛ-рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛
- рд╣реЗрд▓реНрде рдкреНрд░реЛрдмреНрд╕ рдФрд░ рд░реЗрдбреАрдиреЗрд╕ рдЪреЗрдХреНрд╕ рд▓рд╛рдЧреВ рдХрд░рдирд╛
- рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд▓реЙрдЧреНрд╕ рдФрд░ рдореЗрдЯреНрд░рд┐рдХреНрд╕ рдореЙрдирд┐рдЯрд░ рдХрд░рдирд╛
- рддреЗрдЬрд╝ рддреИрдирд╛рддреА рдХреЗ рд▓рд┐рдП Azure Developer CLI рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛

## ЁЯУж рдХреНрдпрд╛ рд╢рд╛рдорд┐рд▓ рд╣реИ

тЬЕ **Flask рдПрдкреНрд▓рд┐рдХреЗрд╢рди** - CRUD рдСрдкрд░реЗрд╢рдиреНрд╕ рдХреЗ рд╕рд╛рде рдкреВрд░реНрдг REST API (`src/app.py`)  
тЬЕ **Dockerfile** - рдкреНрд░реЛрдбрдХреНрд╢рди-рд░реЗрдбреА рдХрдВрдЯреЗрдирд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди  
тЬЕ **Bicep рдЗрдВрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░** - рдХрдВрдЯреЗрдирд░ рдРрдкреНрд╕ рдПрдирд╡рд╛рдпрд░рдирдореЗрдВрдЯ рдФрд░ API рддреИрдирд╛рддреА  
тЬЕ **AZD рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди** - рдПрдХ-рдХрдорд╛рдВрдб рддреИрдирд╛рддреА рд╕реЗрдЯрдЕрдк  
тЬЕ **рд╣реЗрд▓реНрде рдкреНрд░реЛрдмреНрд╕** - рд▓рд┐рд╡рдиреЗрд╕ рдФрд░ рд░реЗрдбреАрдиреЗрд╕ рдЪреЗрдХреНрд╕ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдП рдЧрдП  
тЬЕ **рдСрдЯреЛ-рд╕реНрдХреЗрд▓рд┐рдВрдЧ** - HTTP рд▓реЛрдб рдХреЗ рдЖрдзрд╛рд░ рдкрд░ 0-10 рдкреНрд░рддрд┐рдХреГрддрд┐рдпрд╛рдВ  

## рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░

```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ   Azure Container Apps Environment      тФВ
тФВ                                         тФВ
тФВ  тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР тФВ
тФВ  тФВ   Flask API Container             тФВ тФВ
тФВ  тФВ   - Health endpoints              тФВ тФВ
тФВ  тФВ   - REST API                      тФВ тФВ
тФВ  тФВ   - Auto-scaling (0-10 replicas)  тФВ тФВ
тФВ  тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ тФВ
тФВ                                         тФВ
тФВ  Application Insights тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

## рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдБ

### рдЖрд╡рд╢реНрдпрдХ
- **Azure Developer CLI (azd)** - [рдЗрдВрд╕реНрдЯреЙрд▓ рдЧрд╛рдЗрдб](https://learn.microsoft.com/azure/developer/azure-developer-cli/install-azd)
- **Azure рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди** - [рдлреНрд░реА рдЕрдХрд╛рдЙрдВрдЯ](https://azure.microsoft.com/free/)
- **Docker Desktop** - [Docker рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░реЗрдВ](https://www.docker.com/products/docker-desktop/) (рд╕реНрдерд╛рдиреАрдп рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП)

### рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░реЗрдВ

```bash
# azd рд╕рдВрд╕реНрдХрд░рдг рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ (1.5.0 рдпрд╛ рдЙрдЪреНрдЪрддрд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ)
azd version

# Azure рд▓реЙрдЧрд┐рди рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░реЗрдВ
azd auth login

# Docker рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ (рд╡реИрдХрд▓реНрдкрд┐рдХ, рд╕реНрдерд╛рдиреАрдп рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП)
docker --version
```

## тП▒я╕П рддреИрдирд╛рддреА рдХрд╛ рд╕рдордп

| рдЪрд░рдг | рдЕрд╡рдзрд┐ | рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИ |
|-------|----------|--------------||
| рдПрдирд╡рд╛рдпрд░рдирдореЗрдВрдЯ рд╕реЗрдЯрдЕрдк | 30 рд╕реЗрдХрдВрдб | azd рдПрдирд╡рд╛рдпрд░рдирдореЗрдВрдЯ рдмрдирд╛рдПрдВ |
| рдХрдВрдЯреЗрдирд░ рдмрдирд╛рдПрдВ | 2-3 рдорд┐рдирдЯ | Docker Flask рдРрдк рдмрдирд╛рдПрдВ |
| рдЗрдВрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдкреНрд░реЛрд╡рд┐рдЬрди рдХрд░реЗрдВ | 3-5 рдорд┐рдирдЯ | рдХрдВрдЯреЗрдирд░ рдРрдкреНрд╕, рд░рдЬрд┐рд╕реНрдЯреНрд░реА, рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдмрдирд╛рдПрдВ |
| рдПрдкреНрд▓рд┐рдХреЗрд╢рди рддреИрдирд╛рдд рдХрд░реЗрдВ | 2-3 рдорд┐рдирдЯ | рдЗрдореЗрдЬ рдкреБрд╢ рдХрд░реЗрдВ рдФрд░ рдХрдВрдЯреЗрдирд░ рдРрдкреНрд╕ рдкрд░ рддреИрдирд╛рдд рдХрд░реЗрдВ |
| **рдХреБрд▓** | **8-12 рдорд┐рдирдЯ** | рдкреВрд░реА рддреИрдирд╛рддреА рддреИрдпрд╛рд░ |

## рддреНрд╡рд░рд┐рдд рд╢реБрд░реБрдЖрдд

```bash
# рдЙрджрд╛рд╣рд░рдг рдкрд░ рдЬрд╛рдПрдВ
cd examples/container-app/simple-flask-api

# рдкрд░реНрдпрд╛рд╡рд░рдг рдкреНрд░рд╛рд░рдВрдн рдХрд░реЗрдВ (рдЕрджреНрд╡рд┐рддреАрдп рдирд╛рдо рдЪреБрдиреЗрдВ)
azd env new myflaskapi

# рд╕рдм рдХреБрдЫ рддреИрдирд╛рдд рдХрд░реЗрдВ (рдЗрдиреНрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ + рдПрдкреНрд▓рд┐рдХреЗрд╢рди)
azd up
# рдЖрдкрдХреЛ рд╕рдВрдХреЗрдд рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛:
# 1. Azure рд╕рджрд╕реНрдпрддрд╛ рдЪреБрдиреЗрдВ
# 2. рд╕реНрдерд╛рди рдЪреБрдиреЗрдВ (рдЬреИрд╕реЗ, eastus2)
# 3. рддреИрдирд╛рддреА рдХреЗ рд▓рд┐рдП 8-12 рдорд┐рдирдЯ рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдВ

# рдЕрдкрдирд╛ API рдПрдВрдбрдкреЙрдЗрдВрдЯ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
azd env get-values

# API рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВ
curl $(azd env get-value API_ENDPOINT)/health
```

**рдЕрдкреЗрдХреНрд╖рд┐рдд рдЖрдЙрдЯрдкреБрдЯ:**
```json
{
  "status": "healthy",
  "timestamp": "2025-11-19T10:30:00Z",
  "service": "simple-flask-api",
  "version": "1.0.0"
}
```

## тЬЕ рддреИрдирд╛рддреА рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░реЗрдВ

### рдЪрд░рдг 1: рддреИрдирд╛рддреА рдХреА рд╕реНрдерд┐рддрд┐ рдЬрд╛рдВрдЪреЗрдВ

```bash
# рдкрд░рд┐рдирд┐рдпреЛрдЬрд┐рдд рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рджреЗрдЦреЗрдВ
azd show

# рдЕрдкреЗрдХреНрд╖рд┐рдд рдЖрдЙрдЯрдкреБрдЯ рджрд┐рдЦрд╛рддрд╛ рд╣реИ:
# - рд╕реЗрд╡рд╛: рдПрдкреАрдЖрдИ
# - рдПрдВрдбрдкреЙрдЗрдВрдЯ: https://ca-api-[env].xxx.azurecontainerapps.io
# - рд╕реНрдерд┐рддрд┐: рдЪрд▓ рд░рд╣рд╛ рд╣реИ
```

### рдЪрд░рдг 2: API рдПрдВрдбрдкреЙрдЗрдВрдЯреНрд╕ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВ

```bash
# рдПрдкреАрдЖрдИ рдПрдВрдбрдкреЙрдЗрдВрдЯ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
API_URL=$(azd env get-value API_ENDPOINT)

# рд╕реНрд╡рд╛рд╕реНрдереНрдп рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВ
curl $API_URL/health

# рд░реВрдЯ рдПрдВрдбрдкреЙрдЗрдВрдЯ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВ
curl $API_URL/

# рдПрдХ рдЖрдЗрдЯрдо рдмрдирд╛рдПрдВ
curl -X POST $API_URL/api/items \
  -H "Content-Type: application/json" \
  -d '{"name": "Test Item", "description": "My first item"}'

# рд╕рднреА рдЖрдЗрдЯрдо рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
curl $API_URL/api/items
```

**рд╕рдлрд▓рддрд╛ рдХреЗ рдорд╛рдирджрдВрдб:**
- тЬЕ рд╣реЗрд▓реНрде рдПрдВрдбрдкреЙрдЗрдВрдЯ HTTP 200 рд▓реМрдЯрд╛рддрд╛ рд╣реИ
- тЬЕ рд░реВрдЯ рдПрдВрдбрдкреЙрдЗрдВрдЯ API рдЬрд╛рдирдХрд╛рд░реА рджрд┐рдЦрд╛рддрд╛ рд╣реИ
- тЬЕ POST рдЖрдЗрдЯрдо рдмрдирд╛рддрд╛ рд╣реИ рдФрд░ HTTP 201 рд▓реМрдЯрд╛рддрд╛ рд╣реИ
- тЬЕ GET рдмрдирд╛рдП рдЧрдП рдЖрдЗрдЯрдо рд▓реМрдЯрд╛рддрд╛ рд╣реИ

### рдЪрд░рдг 3: рд▓реЙрдЧреНрд╕ рджреЗрдЦреЗрдВ

```bash
# рд▓рд╛рдЗрд╡ рд▓реЙрдЧреНрд╕ рд╕реНрдЯреНрд░реАрдо рдХрд░реЗрдВ
azd logs api --follow

# рдЖрдкрдХреЛ рдпрд╣ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рд┐рдП:
# - рдЧреБрдирд┐рдХреЙрд░реНрди рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рд╕рдВрджреЗрд╢
# - HTTP рдЕрдиреБрд░реЛрдз рд▓реЙрдЧреНрд╕
# - рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЬрд╛рдирдХрд╛рд░реА рд▓реЙрдЧреНрд╕
```

## рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд╕рдВрд░рдЪрдирд╛

```
simple-flask-api/
тФЬтФАтФА azure.yaml              # AZD configuration
тФЬтФАтФА infra/
тФВ   тФЬтФАтФА main.bicep         # Main infrastructure
тФВ   тФЬтФАтФА main.parameters.json
тФВ   тФФтФАтФА app/
тФВ       тФЬтФАтФА container-env.bicep
тФВ       тФФтФАтФА api.bicep
тФФтФАтФА src/
    тФЬтФАтФА app.py             # Flask application
    тФЬтФАтФА requirements.txt
    тФФтФАтФА Dockerfile
```

## API рдПрдВрдбрдкреЙрдЗрдВрдЯреНрд╕

| рдПрдВрдбрдкреЙрдЗрдВрдЯ | рдореЗрдердб | рд╡рд┐рд╡рд░рдг |
|----------|--------|-------------|
| `/health` | GET | рд╣реЗрд▓реНрде рдЪреЗрдХ |
| `/api/items` | GET | рд╕рднреА рдЖрдЗрдЯрдо рд╕реВрдЪреАрдмрджреНрдз рдХрд░реЗрдВ |
| `/api/items` | POST | рдирдпрд╛ рдЖрдЗрдЯрдо рдмрдирд╛рдПрдВ |
| `/api/items/{id}` | GET | рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЖрдЗрдЯрдо рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ |
| `/api/items/{id}` | PUT | рдЖрдЗрдЯрдо рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ |
| `/api/items/{id}` | DELETE | рдЖрдЗрдЯрдо рд╣рдЯрд╛рдПрдВ |

## рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди

### рдПрдирд╡рд╛рдпрд░рдирдореЗрдВрдЯ рд╡реЗрд░рд┐рдПрдмрд▓реНрд╕

```bash
# рдХрд╕реНрдЯрдо рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╕реЗрдЯ рдХрд░реЗрдВ
azd env set PORT 8000
azd env set LOG_LEVEL info
azd env set MAX_REPLICAS 20
```

### рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди

API HTTP рдЯреНрд░реИрдлрд┐рдХ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╕реНрдХреЗрд▓ рдХрд░рддрд╛ рд╣реИ:
- **рдиреНрдпреВрдирддрдо рдкреНрд░рддрд┐рдХреГрддрд┐рдпрд╛рдВ**: 0 (рдЬрдм рдирд┐рд╖реНрдХреНрд░рд┐рдп рд╣реЛ рддреЛ рд╕реНрдХреЗрд▓-рдЯреВ-рдЬрд╝реАрд░реЛ)
- **рдЕрдзрд┐рдХрддрдо рдкреНрд░рддрд┐рдХреГрддрд┐рдпрд╛рдВ**: 10
- **рдкреНрд░рддрд┐ рдкреНрд░рддрд┐рдХреГрддрд┐ рд╕рдорд╡рд░реНрддреА рдЕрдиреБрд░реЛрдз**: 50

## рд╡рд┐рдХрд╛рд╕

### рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ рдЪрд▓рд╛рдПрдВ

```bash
# рдирд┐рд░реНрднрд░рддрд╛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ
cd src
pip install -r requirements.txt

# рдРрдк рдЪрд▓рд╛рдПрдВ
python app.py

# рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВ
curl http://localhost:8000/health
```

### рдХрдВрдЯреЗрдирд░ рдмрдирд╛рдПрдВ рдФрд░ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВ

```bash
# рдбреЙрдХрд░ рдЗрдореЗрдЬ рдмрдирд╛рдПрдВ
docker build -t flask-api:local ./src

# рдХрдВрдЯреЗрдирд░ рдХреЛ рд▓реЛрдХрд▓реА рдЪрд▓рд╛рдПрдВ
docker run -p 8000:8000 flask-api:local

# рдХрдВрдЯреЗрдирд░ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВ
curl http://localhost:8000/health
```

## рддреИрдирд╛рддреА

### рдкреВрд░реНрдг рддреИрдирд╛рддреА

```bash
# рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдФрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рддреИрдирд╛рдд рдХрд░реЗрдВ
azd up
```

### рдХреЗрд╡рд▓ рдХреЛрдб рддреИрдирд╛рддреА

```bash
# рдХреЗрд╡рд▓ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛрдб рддреИрдирд╛рдд рдХрд░реЗрдВ (рдЗрдВрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдЕрдкрд░рд┐рд╡рд░реНрддрд┐рдд)
azd deploy api
```

### рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ

```bash
# рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ
azd env set API_KEY "new-api-key"

# рдирдИ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЗ рд╕рд╛рде рдкреБрдирдГ рдкрд░рд┐рдирд┐рдпреЛрдЬрди рдХрд░реЗрдВ
azd deploy api
```

## рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ

### рд▓реЙрдЧреНрд╕ рджреЗрдЦреЗрдВ

```bash
# рд▓рд╛рдЗрд╡ рд▓реЙрдЧ рд╕реНрдЯреНрд░реАрдо рдХрд░реЗрдВ
azd logs api --follow

# рдЕрдВрддрд┐рдо 100 рдкрдВрдХреНрддрд┐рдпрд╛рдБ рджреЗрдЦреЗрдВ
azd logs api --tail 100
```

### рдореЗрдЯреНрд░рд┐рдХреНрд╕ рдореЙрдирд┐рдЯрд░ рдХрд░реЗрдВ

```bash
# Azure Monitor рдбреИрд╢рдмреЛрд░реНрдб рдЦреЛрд▓реЗрдВ
azd monitor --overview

# рд╡рд┐рд╢рд┐рд╖реНрдЯ рдореЗрдЯреНрд░рд┐рдХреНрд╕ рджреЗрдЦреЗрдВ
az monitor metrics list \
  --resource $(azd show --output json | jq -r '.services.api.resourceId') \
  --metric "Requests,ResponseTime"
```

## рдкрд░реАрдХреНрд╖рдг

### рд╣реЗрд▓реНрде рдЪреЗрдХ

```bash
curl $(azd show --output json | jq -r '.services.api.endpoint')/health
```

рдЕрдкреЗрдХреНрд╖рд┐рдд рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛:
```json
{
  "status": "healthy",
  "timestamp": "2025-11-19T10:30:00Z"
}
```

### рдЖрдЗрдЯрдо рдмрдирд╛рдПрдВ

```bash
curl -X POST $(azd show --output json | jq -r '.services.api.endpoint')/api/items \
  -H "Content-Type: application/json" \
  -d '{"name": "Test Item", "description": "A test item"}'
```

### рд╕рднреА рдЖрдЗрдЯрдо рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ

```bash
curl $(azd show --output json | jq -r '.services.api.endpoint')/api/items
```

## рд▓рд╛рдЧрдд рдЕрдиреБрдХреВрд▓рди

рдпрд╣ рддреИрдирд╛рддреА рд╕реНрдХреЗрд▓-рдЯреВ-рдЬрд╝реАрд░реЛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЖрдк рдХреЗрд╡рд▓ рддрдм рднреБрдЧрддрд╛рди рдХрд░рддреЗ рд╣реИрдВ рдЬрдм API рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░ рд░рд╣рд╛ рд╣реЛ:

- **рдирд┐рд╖реНрдХреНрд░рд┐рдп рд▓рд╛рдЧрдд**: ~$0/рдорд╛рд╣ (рд╕реНрдХреЗрд▓-рдЯреВ-рдЬрд╝реАрд░реЛ)
- **рд╕рдХреНрд░рд┐рдп рд▓рд╛рдЧрдд**: ~$0.000024/рд╕реЗрдХрдВрдб рдкреНрд░рддрд┐ рдкреНрд░рддрд┐рдХреГрддрд┐
- **рдЕрдкреЗрдХреНрд╖рд┐рдд рдорд╛рд╕рд┐рдХ рд▓рд╛рдЧрдд** (рд╣рд▓реНрдХрд╛ рдЙрдкрдпреЛрдЧ): $5-15

### рд▓рд╛рдЧрдд рдФрд░ рдХрдо рдХрд░реЗрдВ

```bash
# рдбреЗрд╡рд▓рдкрдореЗрдВрдЯ рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХрддрдо рдкреНрд░рддрд┐рдХреГрддрд┐рдпреЛрдВ рдХреЛ рдХрдо рдХрд░реЗрдВ
azd env set MAX_REPLICAS 3

# рдЫреЛрдЯреЗ рдирд┐рд╖реНрдХреНрд░рд┐рдп рд╕рдордп рд╕реАрдорд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ
azd env set SCALE_TO_ZERO_TIMEOUT 300  # 5 рдорд┐рдирдЯ
```

## рд╕рдорд╕реНрдпрд╛ рдирд┐рд╡рд╛рд░рдг

### рдХрдВрдЯреЗрдирд░ рд╢реБрд░реВ рдирд╣реАрдВ рд╣реЛ рд░рд╣рд╛

```bash
# рдХрдВрдЯреЗрдирд░ рд▓реЙрдЧреНрд╕ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ
azd logs api --tail 100

# рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ рдбреЙрдХрд░ рдЗрдореЗрдЬ рдмрд┐рд▓реНрдбреНрд╕ рдХреЛ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░реЗрдВ
docker build -t test ./src
```

### API рдкрд╣реБрдВрдЪ рдпреЛрдЧреНрдп рдирд╣реАрдВ рд╣реИ

```bash
# рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЗрдирдЧреНрд░реЗрд╕ рдмрд╛рд╣рд░реА рд╣реИ
az containerapp show --name api --resource-group rg-simple-flask-api \
  --query properties.configuration.ingress.external
```

### рдЙрдЪреНрдЪ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╕рдордп

```bash
# CPU/рдореЗрдореЛрд░реА рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ
az monitor metrics list \
  --resource $(azd show --output json | jq -r '.services.api.resourceId') \
  --metric "CPUPercentage,MemoryPercentage"

# рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ рддреЛ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рдмрдврд╝рд╛рдПрдВ
az containerapp update --name api --resource-group rg-simple-flask-api \
  --cpu 1.0 --memory 2Gi
```

## рд╕рд╛рдл-рд╕рдлрд╛рдИ

```bash
# рд╕рднреА рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рд╣рдЯрд╛рдПрдВ
azd down --force --purge
```

## рдЕрдЧрд▓реЗ рдХрджрдо

### рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдХреЛ рдмрдврд╝рд╛рдПрдВ

1. **рдбреЗрдЯрд╛рдмреЗрд╕ рдЬреЛрдбрд╝реЗрдВ** - Azure Cosmos DB рдпрд╛ SQL Database рдХреЛ рдПрдХреАрдХреГрдд рдХрд░реЗрдВ
   ```bash
   # infra/main.bicep рдореЗрдВ Cosmos DB рдореЙрдбреНрдпреВрд▓ рдЬреЛрдбрд╝реЗрдВ
   # app.py рдХреЛ рдбреЗрдЯрд╛рдмреЗрд╕ рдХрдиреЗрдХреНрд╢рди рдХреЗ рд╕рд╛рде рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ
   ```

2. **рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдЬреЛрдбрд╝реЗрдВ** - Azure AD рдпрд╛ API рдХреБрдВрдЬрд┐рдпрд╛рдБ рд▓рд╛рдЧреВ рдХрд░реЗрдВ
   ```python
   # рдРрдк.рдкреАрд╡рд╛рдИ рдореЗрдВ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдорд┐рдбрд▓рд╡реЗрдпрд░ рдЬреЛрдбрд╝реЗрдВ
   from functools import wraps
   ```

3. **CI/CD рд╕реЗрдЯ рдХрд░реЗрдВ** - GitHub Actions рд╡рд░реНрдХрдлрд╝реНрд▓реЛ
   ```yaml
   # Create .github/workflows/deploy.yml
   name: Deploy to Azure
   on: [push]
   ```

4. **рдореИрдиреЗрдЬреНрдб рдЖрдЗрдбреЗрдВрдЯрд┐рдЯреА рдЬреЛрдбрд╝реЗрдВ** - Azure рд╕реЗрд╡рд╛рдУрдВ рддрдХ рд╕реБрд░рдХреНрд╖рд┐рдд рдкрд╣реБрдВрдЪ
   ```bicep
   # Update infra/app/api.bicep
   identity: { type: 'SystemAssigned' }
   ```

### рд╕рдВрдмрдВрдзрд┐рдд рдЙрджрд╛рд╣рд░рдг

- **[рдбреЗрдЯрд╛рдмреЗрд╕ рдРрдк](../../../../../examples/database-app)** - SQL Database рдХреЗ рд╕рд╛рде рдкреВрд░реНрдг рдЙрджрд╛рд╣рд░рдг
- **[рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕реЗрдЬ](../../../../../examples/container-app/microservices)** - рдорд▓реНрдЯреА-рд╕рд░реНрд╡рд┐рд╕ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░
- **[рдХрдВрдЯреЗрдирд░ рдРрдкреНрд╕ рдорд╛рд╕реНрдЯрд░ рдЧрд╛рдЗрдб](../README.md)** - рд╕рднреА рдХрдВрдЯреЗрдирд░ рдкреИрдЯрд░реНрди

### рд▓рд░реНрдирд┐рдВрдЧ рд╕рдВрд╕рд╛рдзрди

- ЁЯУЪ [AZD рд╢реБрд░реБрдЖрддреА рдХреЛрд░реНрд╕](../../../README.md) - рдореБрдЦреНрдп рдХреЛрд░реНрд╕ рд╣реЛрдо
- ЁЯУЪ [рдХрдВрдЯреЗрдирд░ рдРрдкреНрд╕ рдкреИрдЯрд░реНрди](../README.md) - рдЕрдзрд┐рдХ рддреИрдирд╛рддреА рдкреИрдЯрд░реНрди
- ЁЯУЪ [AZD рдЯреЗрдореНрдкрд▓реЗрдЯреНрд╕ рдЧреИрд▓рд░реА](https://azure.github.io/awesome-azd/) - рд╕рд╛рдореБрджрд╛рдпрд┐рдХ рдЯреЗрдореНрдкрд▓реЗрдЯреНрд╕

## рдЕрддрд┐рд░рд┐рдХреНрдд рд╕рдВрд╕рд╛рдзрди

### рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг
- **[Flask рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг](https://flask.palletsprojects.com/)** - Flask рдлреНрд░реЗрдорд╡рд░реНрдХ рдЧрд╛рдЗрдб
- **[Azure рдХрдВрдЯреЗрдирд░ рдРрдкреНрд╕](https://learn.microsoft.com/azure/container-apps/)** - рдЖрдзрд┐рдХрд╛рд░рд┐рдХ Azure рджрд╕реНрддрд╛рд╡реЗрдЬрд╝
- **[Azure Developer CLI](https://learn.microsoft.com/azure/developer/azure-developer-cli/)** - azd рдХрдорд╛рдВрдб рд╕рдВрджрд░реНрдн

### рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓реНрд╕
- **[рдХрдВрдЯреЗрдирд░ рдРрдкреНрд╕ рдХреНрд╡рд┐рдХрд╕реНрдЯрд╛рд░реНрдЯ](https://learn.microsoft.com/azure/container-apps/quickstart-portal)** - рдЕрдкрдирд╛ рдкрд╣рд▓рд╛ рдРрдк рддреИрдирд╛рдд рдХрд░реЗрдВ
- **[Python on Azure](https://learn.microsoft.com/azure/developer/python/)** - Python рд╡рд┐рдХрд╛рд╕ рдЧрд╛рдЗрдб
- **[Bicep рднрд╛рд╖рд╛](https://learn.microsoft.com/azure/azure-resource-manager/bicep/)** - рдХреЛрдб рдХреЗ рд░реВрдк рдореЗрдВ рдЗрдВрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░

### рдЯреВрд▓реНрд╕
- **[Azure рдкреЛрд░реНрдЯрд▓](https://portal.azure.com)** - рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рд╡рд┐рдЬрд╝реБрдЕрд▓реА рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░реЗрдВ
- **[VS Code Azure рдПрдХреНрд╕рдЯреЗрдВрд╢рди](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azurecontainerapps)** - IDE рдЗрдВрдЯреАрдЧреНрд░реЗрд╢рди

---

**ЁЯОЙ рдмрдзрд╛рдИ рд╣реЛ!** рдЖрдкрдиреЗ Azure Container Apps рдкрд░ рдСрдЯреЛ-рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдФрд░ рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдХреЗ рд╕рд╛рде рдПрдХ рдкреНрд░реЛрдбрдХреНрд╢рди-рд░реЗрдбреА Flask API рддреИрдирд╛рдд рдХрд┐рдпрд╛ рд╣реИред

**рд╕рд╡рд╛рд▓?** [рдПрдХ рдореБрджреНрджрд╛ рдЦреЛрд▓реЗрдВ](https://github.com/microsoft/AZD-for-beginners/issues) рдпрд╛ [FAQ](../../../resources/faq.md) рджреЗрдЦреЗрдВ

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рдпрд╣ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ AI рдЕрдиреБрд╡рд╛рдж рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдЬрдмрдХрд┐ рд╣рдо рд╕рдЯреАрдХрддрд╛ рдХреЗ рд▓рд┐рдП рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ, рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЕрдиреБрд╡рд╛рдж рдореЗрдВ рддреНрд░реБрдЯрд┐рдпрд╛рдВ рдпрд╛ рдЕрд╢реБрджреНрдзрд┐рдпрд╛рдВ рд╣реЛ рд╕рдХрддреА рд╣реИрдВред рдореВрд▓ рднрд╛рд╖рд╛ рдореЗрдВ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХреЛ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╕реНрд░реЛрдд рдорд╛рдирд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП, рдкреЗрд╢реЗрд╡рд░ рдорд╛рдирд╡ рдЕрдиреБрд╡рд╛рдж рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИред рдЗрд╕ рдЕрдиреБрд╡рд╛рдж рдХреЗ рдЙрдкрдпреЛрдЧ рд╕реЗ рдЙрддреНрдкрдиреНрди рдХрд┐рд╕реА рднреА рдЧрд▓рддрдлрд╣рдореА рдпрд╛ рдЧрд▓рдд рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХреЗ рд▓рд┐рдП рд╣рдо рдЙрддреНрддрд░рджрд╛рдпреА рдирд╣реАрдВ рд╣реИрдВред
<!-- CO-OP TRANSLATOR DISCLAIMER END -->